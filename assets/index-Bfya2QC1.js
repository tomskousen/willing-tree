(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function t2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pg={exports:{}},Ju={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function e2(){if(Rb)return Ju;Rb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:e,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Ju.Fragment=t,Ju.jsx=n,Ju.jsxs=n,Ju}var Ib;function n2(){return Ib||(Ib=1,Pg.exports=e2()),Pg.exports}var q=n2(),Vg={exports:{}},Ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function i2(){if(Cb)return Ft;Cb=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function T(O){return O===null||typeof O!="object"?null:(O=_&&O[_]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,x={};function P(O,ot,mt){this.props=O,this.context=ot,this.refs=x,this.updater=mt||A}P.prototype.isReactComponent={},P.prototype.setState=function(O,ot){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ot,"setState")},P.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function U(){}U.prototype=P.prototype;function N(O,ot,mt){this.props=O,this.context=ot,this.refs=x,this.updater=mt||A}var H=N.prototype=new U;H.constructor=N,D(H,P.prototype),H.isPureReactComponent=!0;var ut=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function M(O,ot,mt,ct,At,jt){return mt=jt.ref,{$$typeof:e,type:O,key:ot,ref:mt!==void 0?mt:null,props:jt}}function R(O,ot){return M(O.type,ot,void 0,void 0,void 0,O.props)}function I(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function L(O){var ot={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(mt){return ot[mt]})}var F=/\/+/g;function j(O,ot){return typeof O=="object"&&O!==null&&O.key!=null?L(""+O.key):ot.toString(36)}function C(){}function Lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(C,C):(O.status="pending",O.then(function(ot){O.status==="pending"&&(O.status="fulfilled",O.value=ot)},function(ot){O.status==="pending"&&(O.status="rejected",O.reason=ot)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ut(O,ot,mt,ct,At){var jt=typeof O;(jt==="undefined"||jt==="boolean")&&(O=null);var Pt=!1;if(O===null)Pt=!0;else switch(jt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(O.$$typeof){case e:case t:Pt=!0;break;case y:return Pt=O._init,Ut(Pt(O._payload),ot,mt,ct,At)}}if(Pt)return At=At(O),Pt=ct===""?"."+j(O,0):ct,ut(At)?(mt="",Pt!=null&&(mt=Pt.replace(F,"$&/")+"/"),Ut(At,ot,mt,"",function(Dn){return Dn})):At!=null&&(I(At)&&(At=R(At,mt+(At.key==null||O&&O.key===At.key?"":(""+At.key).replace(F,"$&/")+"/")+Pt)),ot.push(At)),1;Pt=0;var Ae=ct===""?".":ct+":";if(ut(O))for(var ie=0;ie<O.length;ie++)ct=O[ie],jt=Ae+j(ct,ie),Pt+=Ut(ct,ot,mt,jt,At);else if(ie=T(O),typeof ie=="function")for(O=ie.call(O),ie=0;!(ct=O.next()).done;)ct=ct.value,jt=Ae+j(ct,ie++),Pt+=Ut(ct,ot,mt,jt,At);else if(jt==="object"){if(typeof O.then=="function")return Ut(Lt(O),ot,mt,ct,At);throw ot=String(O),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function Z(O,ot,mt){if(O==null)return O;var ct=[],At=0;return Ut(O,ct,"","",function(jt){return ot.call(mt,jt,At++)}),ct}function lt(O){if(O._status===-1){var ot=O._result;ot=ot(),ot.then(function(mt){(O._status===0||O._status===-1)&&(O._status=1,O._result=mt)},function(mt){(O._status===0||O._status===-1)&&(O._status=2,O._result=mt)}),O._status===-1&&(O._status=0,O._result=ot)}if(O._status===1)return O._result.default;throw O._result}var yt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Mt(){}return Ft.Children={map:Z,forEach:function(O,ot,mt){Z(O,function(){ot.apply(this,arguments)},mt)},count:function(O){var ot=0;return Z(O,function(){ot++}),ot},toArray:function(O){return Z(O,function(ot){return ot})||[]},only:function(O){if(!I(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ft.Component=P,Ft.Fragment=n,Ft.Profiler=a,Ft.PureComponent=N,Ft.StrictMode=i,Ft.Suspense=m,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(O){return tt.H.useMemoCache(O)}},Ft.cache=function(O){return function(){return O.apply(null,arguments)}},Ft.cloneElement=function(O,ot,mt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ct=D({},O.props),At=O.key,jt=void 0;if(ot!=null)for(Pt in ot.ref!==void 0&&(jt=void 0),ot.key!==void 0&&(At=""+ot.key),ot)!_t.call(ot,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&ot.ref===void 0||(ct[Pt]=ot[Pt]);var Pt=arguments.length-2;if(Pt===1)ct.children=mt;else if(1<Pt){for(var Ae=Array(Pt),ie=0;ie<Pt;ie++)Ae[ie]=arguments[ie+2];ct.children=Ae}return M(O.type,At,void 0,void 0,jt,ct)},Ft.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},Ft.createElement=function(O,ot,mt){var ct,At={},jt=null;if(ot!=null)for(ct in ot.key!==void 0&&(jt=""+ot.key),ot)_t.call(ot,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(At[ct]=ot[ct]);var Pt=arguments.length-2;if(Pt===1)At.children=mt;else if(1<Pt){for(var Ae=Array(Pt),ie=0;ie<Pt;ie++)Ae[ie]=arguments[ie+2];At.children=Ae}if(O&&O.defaultProps)for(ct in Pt=O.defaultProps,Pt)At[ct]===void 0&&(At[ct]=Pt[ct]);return M(O,jt,void 0,void 0,null,At)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(O){return{$$typeof:h,render:O}},Ft.isValidElement=I,Ft.lazy=function(O){return{$$typeof:y,_payload:{_status:-1,_result:O},_init:lt}},Ft.memo=function(O,ot){return{$$typeof:p,type:O,compare:ot===void 0?null:ot}},Ft.startTransition=function(O){var ot=tt.T,mt={};tt.T=mt;try{var ct=O(),At=tt.S;At!==null&&At(mt,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(Mt,yt)}catch(jt){yt(jt)}finally{tt.T=ot}},Ft.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Ft.use=function(O){return tt.H.use(O)},Ft.useActionState=function(O,ot,mt){return tt.H.useActionState(O,ot,mt)},Ft.useCallback=function(O,ot){return tt.H.useCallback(O,ot)},Ft.useContext=function(O){return tt.H.useContext(O)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(O,ot){return tt.H.useDeferredValue(O,ot)},Ft.useEffect=function(O,ot,mt){var ct=tt.H;if(typeof mt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ct.useEffect(O,ot)},Ft.useId=function(){return tt.H.useId()},Ft.useImperativeHandle=function(O,ot,mt){return tt.H.useImperativeHandle(O,ot,mt)},Ft.useInsertionEffect=function(O,ot){return tt.H.useInsertionEffect(O,ot)},Ft.useLayoutEffect=function(O,ot){return tt.H.useLayoutEffect(O,ot)},Ft.useMemo=function(O,ot){return tt.H.useMemo(O,ot)},Ft.useOptimistic=function(O,ot){return tt.H.useOptimistic(O,ot)},Ft.useReducer=function(O,ot,mt){return tt.H.useReducer(O,ot,mt)},Ft.useRef=function(O){return tt.H.useRef(O)},Ft.useState=function(O){return tt.H.useState(O)},Ft.useSyncExternalStore=function(O,ot,mt){return tt.H.useSyncExternalStore(O,ot,mt)},Ft.useTransition=function(){return tt.H.useTransition()},Ft.version="19.1.1",Ft}var xb;function Rv(){return xb||(xb=1,Vg.exports=i2()),Vg.exports}var z=Rv();const fn=t2(z);var Ng={exports:{}},tc={},Mg={exports:{}},Og={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function r2(){return Db||(Db=1,(function(e){function t(Z,lt){var yt=Z.length;Z.push(lt);t:for(;0<yt;){var Mt=yt-1>>>1,O=Z[Mt];if(0<a(O,lt))Z[Mt]=lt,Z[yt]=O,yt=Mt;else break t}}function n(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var lt=Z[0],yt=Z.pop();if(yt!==lt){Z[0]=yt;t:for(var Mt=0,O=Z.length,ot=O>>>1;Mt<ot;){var mt=2*(Mt+1)-1,ct=Z[mt],At=mt+1,jt=Z[At];if(0>a(ct,yt))At<O&&0>a(jt,ct)?(Z[Mt]=jt,Z[At]=yt,Mt=At):(Z[Mt]=ct,Z[mt]=yt,Mt=mt);else if(At<O&&0>a(jt,yt))Z[Mt]=jt,Z[At]=yt,Mt=At;else break t}}return lt}function a(Z,lt){var yt=Z.sortIndex-lt.sortIndex;return yt!==0?yt:Z.id-lt.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();e.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,_=null,T=3,A=!1,D=!1,x=!1,P=!1,U=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function ut(Z){for(var lt=n(p);lt!==null;){if(lt.callback===null)i(p);else if(lt.startTime<=Z)i(p),lt.sortIndex=lt.expirationTime,t(m,lt);else break;lt=n(p)}}function tt(Z){if(x=!1,ut(Z),!D)if(n(m)!==null)D=!0,_t||(_t=!0,j());else{var lt=n(p);lt!==null&&Ut(tt,lt.startTime-Z)}}var _t=!1,M=-1,R=5,I=-1;function L(){return P?!0:!(e.unstable_now()-I<R)}function F(){if(P=!1,_t){var Z=e.unstable_now();I=Z;var lt=!0;try{t:{D=!1,x&&(x=!1,N(M),M=-1),A=!0;var yt=T;try{e:{for(ut(Z),_=n(m);_!==null&&!(_.expirationTime>Z&&L());){var Mt=_.callback;if(typeof Mt=="function"){_.callback=null,T=_.priorityLevel;var O=Mt(_.expirationTime<=Z);if(Z=e.unstable_now(),typeof O=="function"){_.callback=O,ut(Z),lt=!0;break e}_===n(m)&&i(m),ut(Z)}else i(m);_=n(m)}if(_!==null)lt=!0;else{var ot=n(p);ot!==null&&Ut(tt,ot.startTime-Z),lt=!1}}break t}finally{_=null,T=yt,A=!1}lt=void 0}}finally{lt?j():_t=!1}}}var j;if(typeof H=="function")j=function(){H(F)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Lt=C.port2;C.port1.onmessage=F,j=function(){Lt.postMessage(null)}}else j=function(){U(F,0)};function Ut(Z,lt){M=U(function(){Z(e.unstable_now())},lt)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return T},e.unstable_next=function(Z){switch(T){case 1:case 2:case 3:var lt=3;break;default:lt=T}var yt=T;T=lt;try{return Z()}finally{T=yt}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(Z,lt){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var yt=T;T=Z;try{return lt()}finally{T=yt}},e.unstable_scheduleCallback=function(Z,lt,yt){var Mt=e.unstable_now();switch(typeof yt=="object"&&yt!==null?(yt=yt.delay,yt=typeof yt=="number"&&0<yt?Mt+yt:Mt):yt=Mt,Z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=yt+O,Z={id:y++,callback:lt,priorityLevel:Z,startTime:yt,expirationTime:O,sortIndex:-1},yt>Mt?(Z.sortIndex=yt,t(p,Z),n(m)===null&&Z===n(p)&&(x?(N(M),M=-1):x=!0,Ut(tt,yt-Mt))):(Z.sortIndex=O,t(m,Z),D||A||(D=!0,_t||(_t=!0,j()))),Z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(Z){var lt=T;return function(){var yt=T;T=lt;try{return Z.apply(this,arguments)}finally{T=yt}}}})(Og)),Og}var Pb;function s2(){return Pb||(Pb=1,Mg.exports=r2()),Mg.exports}var kg={exports:{}},yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb;function a2(){if(Vb)return yn;Vb=1;var e=Rv();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:m,containerInfo:p,implementation:y}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,yn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},yn.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},yn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},yn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},yn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:A}):y==="script"&&i.d.X(m,{crossOrigin:_,integrity:T,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},yn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},yn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,_=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},yn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},yn.requestFormReset=function(m){i.d.r(m)},yn.unstable_batchedUpdates=function(m,p){return m(p)},yn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},yn.version="19.1.1",yn}var Nb;function o2(){if(Nb)return kg.exports;Nb=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),kg.exports=a2(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function l2(){if(Mb)return tc;Mb=1;var e=s2(),t=Rv(),n=o2();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function m(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return h(d),r;if(g===c)return h(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var b=!1,w=d.child;w;){if(w===o){b=!0,o=d,c=g;break}if(w===c){b=!0,c=d,o=g;break}w=w.sibling}if(!b){for(w=g.child;w;){if(w===o){b=!0,o=g,c=d;break}if(w===c){b=!0,c=g,o=d;break}w=w.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function p(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=p(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),H=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function j(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function Lt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case P:return"Profiler";case x:return"StrictMode";case tt:return"Suspense";case _t:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case A:return"Portal";case H:return(r.displayName||"Context")+".Provider";case N:return(r._context.displayName||"Context")+".Consumer";case ut:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case M:return s=r.displayName||null,s!==null?s:Lt(r.type)||"Memo";case R:s=r._payload,r=r._init;try{return Lt(r(s))}catch{}}return null}var Ut=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt={pending:!1,data:null,method:null,action:null},Mt=[],O=-1;function ot(r){return{current:r}}function mt(r){0>O||(r.current=Mt[O],Mt[O]=null,O--)}function ct(r,s){O++,Mt[O]=r.current,r.current=s}var At=ot(null),jt=ot(null),Pt=ot(null),Ae=ot(null);function ie(r,s){switch(ct(Pt,s),ct(jt,r),ct(At,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?tb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=tb(s),r=eb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}mt(At),ct(At,r)}function Dn(){mt(At),mt(jt),mt(Pt)}function ti(r){r.memoizedState!==null&&ct(Ae,r);var s=At.current,o=eb(s,r.type);s!==o&&(ct(jt,r),ct(At,o))}function _i(r){jt.current===r&&(mt(At),mt(jt)),Ae.current===r&&(mt(Ae),Qu._currentValue=yt)}var Bi=Object.prototype.hasOwnProperty,Er=e.unstable_scheduleCallback,zi=e.unstable_cancelCallback,ms=e.unstable_shouldYield,To=e.unstable_requestPaint,Pn=e.unstable_now,dh=e.unstable_getCurrentPriorityLevel,ps=e.unstable_ImmediatePriority,k=e.unstable_UserBlockingPriority,Y=e.unstable_NormalPriority,et=e.unstable_LowPriority,gt=e.unstable_IdlePriority,dt=e.log,ht=e.unstable_setDisableYieldValue,pt=null,wt=null;function Bt(r){if(typeof dt=="function"&&ht(r),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(pt,r)}catch{}}var re=Math.clz32?Math.clz32:wr,br=Math.log,ei=Math.LN2;function wr(r){return r>>>=0,r===0?32:31-(br(r)/ei|0)|0}var Ti=256,Ei=4194304;function Bn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Sr(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,g=r.suspendedLanes,b=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?d=Bn(c):(b&=w,b!==0?d=Bn(b):o||(o=w&~r,o!==0&&(d=Bn(o))))):(w=c&~g,w!==0?d=Bn(w):b!==0?d=Bn(b):o||(o=c&~r,o!==0&&(d=Bn(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function Ar(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function gs(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yl(){var r=Ti;return Ti<<=1,(Ti&4194048)===0&&(Ti=256),r}function Xl(){var r=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),r}function Rr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Ir(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Wl(r,s,o,c,d,g){var b=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,V=r.expirationTimes,Q=r.hiddenUpdates;for(o=b&~o;0<o;){var nt=31-re(o),st=1<<nt;w[nt]=0,V[nt]=-1;var X=Q[nt];if(X!==null)for(Q[nt]=null,nt=0;nt<X.length;nt++){var W=X[nt];W!==null&&(W.lane&=-536870913)}o&=~st}c!==0&&qi(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(b&~s))}function qi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-re(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function Zl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-re(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function ys(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Eo(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function vs(){var r=lt.p;return r!==0?r:(r=window.event,r===void 0?32:Tb(r.type))}function mh(r,s){var o=lt.p;try{return lt.p=r,s()}finally{lt.p=o}}var pe=Math.random().toString(36).slice(2),$e="__reactFiber$"+pe,ke="__reactProps$"+pe,ni="__reactContainer$"+pe,Jl="__reactEvents$"+pe,Mm="__reactListeners$"+pe,_s="__reactHandles$"+pe,ph="__reactResources$"+pe,ba="__reactMarker$"+pe;function Ts(r){delete r[$e],delete r[ke],delete r[Jl],delete r[Mm],delete r[_s]}function Cr(r){var s=r[$e];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ni]||o[$e]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=sb(r);r!==null;){if(o=r[$e])return o;r=sb(r)}return s}r=o,o=r.parentNode}return null}function Hi(r){if(r=r[$e]||r[ni]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Gi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function wn(r){var s=r[ph];return s||(s=r[ph]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function xe(r){r[ba]=!0}var tu=new Set,bo={};function bi(r,s){xr(r,s),xr(r+"Capture",s)}function xr(r,s){for(bo[r]=s,r=0;r<s.length;r++)tu.add(s[r])}var gh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),yh={},wa={};function vh(r){return Bi.call(wa,r)?!0:Bi.call(yh,r)?!1:gh.test(r)?wa[r]=!0:(yh[r]=!0,!1)}function Es(r,s,o){if(vh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function $i(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function an(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var Sa,_h;function Dr(r){if(Sa===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Sa=s&&s[1]||"",_h=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sa+r+_h}var wo=!1;function So(r,s){if(!r||wo)return"";wo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(W){var X=W}Reflect.construct(r,[],st)}else{try{st.call()}catch(W){X=W}r.call(st.prototype)}}else{try{throw Error()}catch(W){X=W}(st=r())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(W){if(W&&X&&typeof W.stack=="string")return[W.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),b=g[0],w=g[1];if(b&&w){var V=b.split(`
`),Q=w.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<Q.length&&!Q[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===Q.length)for(c=V.length-1,d=Q.length-1;1<=c&&0<=d&&V[c]!==Q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==Q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==Q[d]){var nt=`
`+V[c].replace(" at new "," at ");return r.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",r.displayName)),nt}while(1<=c&&0<=d);break}}}finally{wo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Dr(o):""}function eu(r){switch(r.tag){case 26:case 27:case 5:return Dr(r.type);case 16:return Dr("Lazy");case 13:return Dr("Suspense");case 19:return Dr("SuspenseList");case 0:case 15:return So(r.type,!1);case 11:return So(r.type.render,!1);case 1:return So(r.type,!0);case 31:return Dr("Activity");default:return""}}function Ao(r){try{var s="";do s+=eu(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Sn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nu(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Om(r){var s=nu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,g=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ro(r){r._valueTracker||(r._valueTracker=Om(r))}function iu(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=nu(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Aa(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var km=/[\n"\\]/g;function Le(r){return r.replace(km,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zn(r,s,o,c,d,g,b,w){r.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.type=b:r.removeAttribute("type"),s!=null?b==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Sn(s)):r.value!==""+Sn(s)&&(r.value=""+Sn(s)):b!=="submit"&&b!=="reset"||r.removeAttribute("value"),s!=null?bs(r,b,Sn(s)):o!=null?bs(r,b,Sn(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+Sn(w):r.removeAttribute("name")}function Ra(r,s,o,c,d,g,b,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+Sn(o):"",s=s!=null?""+Sn(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(r.name=b)}function bs(r,s,o){s==="number"&&Aa(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Pr(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Sn(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function oe(r,s,o){if(s!=null&&(s=""+Sn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Sn(o):""}function Ia(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ut(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Sn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function ii(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Ca=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Th(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Ca.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ru(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&Th(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&Th(r,g,s[g])}function su(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Um=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(r){return Um.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Vr=null;function ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Nr=null,Mr=null;function au(r){var s=Hi(r);if(s&&(r=s.stateNode)){var o=r[ke]||null;t:switch(r=s.stateNode,s.type){case"input":if(zn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Le(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[ke]||null;if(!d)throw Error(i(90));zn(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&iu(c)}break t;case"textarea":oe(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Pr(r,!!o.multiple,s,!1)}}}var Ki=!1;function Eh(r,s,o){if(Ki)return r(s,o);Ki=!0;try{var c=r(s);return c}finally{if(Ki=!1,(Nr!==null||Mr!==null)&&(pf(),Nr&&(s=Nr,r=Mr,Mr=Nr=null,au(s),r)))for(s=0;s<r.length;s++)au(r[s])}}function xa(r,s){var o=r.stateNode;if(o===null)return null;var c=o[ke]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var wi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),si=!1;if(wi)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){si=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{si=!1}var Qi=null,ws=null,Or=null;function ou(){if(Or)return Or;var r,s=ws,o=s.length,c,d="value"in Qi?Qi.value:Qi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var b=o-r;for(c=1;c<=b&&s[o-c]===d[g-c];c++);return Or=d.slice(r,1<c?1-c:void 0)}function Yi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Xi(){return!0}function lu(){return!1}function Ze(r){function s(o,c,d,g,b){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Xi:lu,this.isPropagationStopped=lu,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Xi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Xi)},persist:function(){},isPersistent:Xi}),s}var ee={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=Ze(ee),Pa=y({},ee,{view:0,detail:0}),bh=Ze(Pa),xo,Do,Wi,Va=y({},Pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(xo=r.screenX-Wi.screenX,Do=r.screenY-Wi.screenY):Do=xo=0,Wi=r),xo)},movementY:function(r){return"movementY"in r?r.movementY:Do}}),ai=Ze(Va),wh=y({},Va,{dataTransfer:0}),jm=Ze(wh),Na=y({},Pa,{relatedTarget:0}),Po=Ze(Na),uu=y({},ee,{animationName:0,elapsedTime:0,pseudoElement:0}),Vo=Ze(uu),Sh=y({},ee,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),No=Ze(Sh),Fm=y({},ee,{data:0}),cu=Ze(Fm),Ma={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Rh[r])?!!s[r]:!1}function Oa(){return hu}var Ih=y({},Pa,{key:function(r){if(r.key){var s=Ma[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Yi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ah[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(r){return r.type==="keypress"?Yi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Yi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Mo=Ze(Ih),Ch=y({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=Ze(Ch),kr=y({},Pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),xh=Ze(kr),Dh=y({},ee,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ph=Ze(Dh),Vh=y({},Va,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Oo=Ze(Vh),An=y({},ee,{newState:0,oldState:0}),Nh=Ze(An),Mh=[9,13,27,32],Zi=wi&&"CompositionEvent"in window,f=null;wi&&"documentMode"in document&&(f=document.documentMode);var v=wi&&"TextEvent"in window&&!f,E=wi&&(!Zi||f&&8<f&&11>=f),S=" ",$=!1;function J(r,s){switch(r){case"keyup":return Mh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ft(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Yt=!1;function Ke(r,s){switch(r){case"compositionend":return ft(s);case"keypress":return s.which!==32?null:($=!0,S);case"textInput":return r=s.data,r===S&&$?null:r;default:return null}}function Xt(r,s){if(Yt)return r==="compositionend"||!Zi&&J(r,s)?(r=ou(),Or=ws=Qi=null,Yt=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var Je={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qe(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Je[r.type]:s==="textarea"}function Lr(r,s,o,c){Nr?Mr?Mr.push(c):Mr=[c]:Nr=c,s=Ef(s,"onChange"),0<s.length&&(o=new Co("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var on=null,Ji=null;function du(r){YE(r,0)}function Oh(r){var s=Gi(r);if(iu(s))return r}function g0(r,s){if(r==="change")return s}var y0=!1;if(wi){var Bm;if(wi){var zm="oninput"in document;if(!zm){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),zm=typeof v0.oninput=="function"}Bm=zm}else Bm=!1;y0=Bm&&(!document.documentMode||9<document.documentMode)}function _0(){on&&(on.detachEvent("onpropertychange",T0),Ji=on=null)}function T0(r){if(r.propertyName==="value"&&Oh(Ji)){var s=[];Lr(s,Ji,r,ri(r)),Eh(du,s)}}function DD(r,s,o){r==="focusin"?(_0(),on=s,Ji=o,on.attachEvent("onpropertychange",T0)):r==="focusout"&&_0()}function PD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Oh(Ji)}function VD(r,s){if(r==="click")return Oh(s)}function ND(r,s){if(r==="input"||r==="change")return Oh(s)}function MD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:MD;function mu(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Bi.call(s,d)||!qn(r[d],s[d]))return!1}return!0}function E0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function b0(r,s){var o=E0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=E0(o)}}function w0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?w0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function S0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Aa(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Aa(r.document)}return s}function qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var OD=wi&&"documentMode"in document&&11>=document.documentMode,ko=null,Hm=null,pu=null,Gm=!1;function A0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Gm||ko==null||ko!==Aa(c)||(c=ko,"selectionStart"in c&&qm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),pu&&mu(pu,c)||(pu=c,c=Ef(Hm,"onSelect"),0<c.length&&(s=new Co("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=ko)))}function ka(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Lo={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionrun:ka("Transition","TransitionRun"),transitionstart:ka("Transition","TransitionStart"),transitioncancel:ka("Transition","TransitionCancel"),transitionend:ka("Transition","TransitionEnd")},$m={},R0={};wi&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function La(r){if($m[r])return $m[r];if(!Lo[r])return r;var s=Lo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in R0)return $m[r]=s[o];return r}var I0=La("animationend"),C0=La("animationiteration"),x0=La("animationstart"),kD=La("transitionrun"),LD=La("transitionstart"),UD=La("transitioncancel"),D0=La("transitionend"),P0=new Map,Km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Km.push("scrollEnd");function Si(r,s){P0.set(r,s),bi(s,[r])}var V0=new WeakMap;function oi(r,s){if(typeof r=="object"&&r!==null){var o=V0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ao(s)},V0.set(r,s),s)}return{value:r,source:s,stack:Ao(s)}}var li=[],Uo=0,Qm=0;function kh(){for(var r=Uo,s=Qm=Uo=0;s<r;){var o=li[s];li[s++]=null;var c=li[s];li[s++]=null;var d=li[s];li[s++]=null;var g=li[s];if(li[s++]=null,c!==null&&d!==null){var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}g!==0&&N0(o,d,g)}}function Lh(r,s,o,c){li[Uo++]=r,li[Uo++]=s,li[Uo++]=o,li[Uo++]=c,Qm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Ym(r,s,o,c){return Lh(r,s,o,c),Uh(r)}function jo(r,s){return Lh(r,null,null,s),Uh(r)}function N0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-re(o),r=g.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function Uh(r){if(50<Fu)throw Fu=0,eg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Fo={};function jD(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(r,s,o,c){return new jD(r,s,o,c)}function Xm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ur(r,s){var o=r.alternate;return o===null?(o=Hn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function M0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function jh(r,s,o,c,d,g){var b=0;if(c=r,typeof r=="function")Xm(r)&&(b=1);else if(typeof r=="string")b=BP(r,o,At.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Hn(31,o,s,d),r.elementType=I,r.lanes=g,r;case D:return Ua(o.children,d,g,s);case x:b=8,d|=24;break;case P:return r=Hn(12,o,s,d|2),r.elementType=P,r.lanes=g,r;case tt:return r=Hn(13,o,s,d),r.elementType=tt,r.lanes=g,r;case _t:return r=Hn(19,o,s,d),r.elementType=_t,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case U:case H:b=10;break t;case N:b=9;break t;case ut:b=11;break t;case M:b=14;break t;case R:b=16,c=null;break t}b=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Hn(b,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function Ua(r,s,o,c){return r=Hn(7,r,c,s),r.lanes=o,r}function Wm(r,s,o){return r=Hn(6,r,null,s),r.lanes=o,r}function Zm(r,s,o){return s=Hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Bo=[],zo=0,Fh=null,Bh=0,ui=[],ci=0,ja=null,jr=1,Fr="";function Fa(r,s){Bo[zo++]=Bh,Bo[zo++]=Fh,Fh=r,Bh=s}function O0(r,s,o){ui[ci++]=jr,ui[ci++]=Fr,ui[ci++]=ja,ja=r;var c=jr;r=Fr;var d=32-re(c)-1;c&=~(1<<d),o+=1;var g=32-re(s)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,jr=1<<32-re(s)+d|o<<d|c,Fr=g+r}else jr=1<<g|o<<d|c,Fr=r}function Jm(r){r.return!==null&&(Fa(r,1),O0(r,1,0))}function tp(r){for(;r===Fh;)Fh=Bo[--zo],Bo[zo]=null,Bh=Bo[--zo],Bo[zo]=null;for(;r===ja;)ja=ui[--ci],ui[ci]=null,Fr=ui[--ci],ui[ci]=null,jr=ui[--ci],ui[ci]=null}var Rn=null,Re=null,te=!1,Ba=null,tr=!1,ep=Error(i(519));function za(r){var s=Error(i(418,""));throw vu(oi(s,r)),ep}function k0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[$e]=r,s[ke]=c,o){case"dialog":Gt("cancel",s),Gt("close",s);break;case"iframe":case"object":case"embed":Gt("load",s);break;case"video":case"audio":for(o=0;o<zu.length;o++)Gt(zu[o],s);break;case"source":Gt("error",s);break;case"img":case"image":case"link":Gt("error",s),Gt("load",s);break;case"details":Gt("toggle",s);break;case"input":Gt("invalid",s),Ra(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Ro(s);break;case"select":Gt("invalid",s);break;case"textarea":Gt("invalid",s),Ia(s,c.value,c.defaultValue,c.children),Ro(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||JE(s.textContent,o)?(c.popover!=null&&(Gt("beforetoggle",s),Gt("toggle",s)),c.onScroll!=null&&Gt("scroll",s),c.onScrollEnd!=null&&Gt("scrollend",s),c.onClick!=null&&(s.onclick=bf),s=!0):s=!1,s||za(r)}function L0(r){for(Rn=r.return;Rn;)switch(Rn.tag){case 5:case 13:tr=!1;return;case 27:case 3:tr=!0;return;default:Rn=Rn.return}}function gu(r){if(r!==Rn)return!1;if(!te)return L0(r),te=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||yg(r.type,r.memoizedProps)),o=!o),o&&Re&&za(r),L0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){Re=Ri(r.nextSibling);break t}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}Re=null}}else s===27?(s=Re,js(r.type)?(r=Eg,Eg=null,Re=r):Re=s):Re=Rn?Ri(r.stateNode.nextSibling):null;return!0}function yu(){Re=Rn=null,te=!1}function U0(){var r=Ba;return r!==null&&(Mn===null?Mn=r:Mn.push.apply(Mn,r),Ba=null),r}function vu(r){Ba===null?Ba=[r]:Ba.push(r)}var np=ot(null),qa=null,Br=null;function Ss(r,s,o){ct(np,s._currentValue),s._currentValue=o}function zr(r){r._currentValue=np.current,mt(np)}function ip(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function rp(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var b=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),ip(g.return,o,r),c||(b=null);break t}g=w.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),ip(b,o,r),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===r){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function _u(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var w=d.type;qn(d.pendingProps.value,b.value)||(r!==null?r.push(w):r=[w])}}else if(d===Ae.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Qu):r=[Qu])}d=d.return}r!==null&&rp(s,r,o,c),s.flags|=262144}function zh(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ha(r){qa=r,Br=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function gn(r){return j0(qa,r)}function qh(r,s){return qa===null&&Ha(r),j0(r,s)}function j0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Br===null){if(r===null)throw Error(i(308));Br=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Br=Br.next=s;return o}var FD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},BD=e.unstable_scheduleCallback,zD=e.unstable_NormalPriority,Ye={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sp(){return{controller:new FD,data:new Map,refCount:0}}function Tu(r){r.refCount--,r.refCount===0&&BD(zD,function(){r.controller.abort()})}var Eu=null,ap=0,qo=0,Ho=null;function qD(r,s){if(Eu===null){var o=Eu=[];ap=0,qo=lg(),Ho={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ap++,s.then(F0,F0),s}function F0(){if(--ap===0&&Eu!==null){Ho!==null&&(Ho.status="fulfilled");var r=Eu;Eu=null,qo=0,Ho=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function HD(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var B0=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&qD(r,s),B0!==null&&B0(r,s)};var Ga=ot(null);function op(){var r=Ga.current;return r!==null?r:fe.pooledCache}function Hh(r,s){s===null?ct(Ga,Ga.current):ct(Ga,s.pool)}function z0(){var r=op();return r===null?null:{parent:Ye._currentValue,pool:r}}var bu=Error(i(460)),q0=Error(i(474)),Gh=Error(i(542)),lp={then:function(){}};function H0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function $h(){}function G0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then($h,$h),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,K0(r),r;default:if(typeof s.status=="string")s.then($h,$h);else{if(r=fe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,K0(r),r}throw wu=s,bu}}var wu=null;function $0(){if(wu===null)throw Error(i(459));var r=wu;return wu=null,r}function K0(r){if(r===bu||r===Gh)throw Error(i(483))}var As=!1;function up(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Rs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Is(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(se&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Uh(r),N0(r,null,o),s}return Lh(r,c,s,o),Uh(r)}function Su(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Zl(r,o)}}function hp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var fp=!1;function Au(){if(fp){var r=Ho;if(r!==null)throw r}}function Ru(r,s,o,c){fp=!1;var d=r.updateQueue;As=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var V=w,Q=V.next;V.next=null,b===null?g=Q:b.next=Q,b=V;var nt=r.alternate;nt!==null&&(nt=nt.updateQueue,w=nt.lastBaseUpdate,w!==b&&(w===null?nt.firstBaseUpdate=Q:w.next=Q,nt.lastBaseUpdate=V))}if(g!==null){var st=d.baseState;b=0,nt=Q=V=null,w=g;do{var X=w.lane&-536870913,W=X!==w.lane;if(W?(Wt&X)===X:(c&X)===X){X!==0&&X===qo&&(fp=!0),nt!==null&&(nt=nt.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var Vt=r,It=w;X=s;var ce=o;switch(It.tag){case 1:if(Vt=It.payload,typeof Vt=="function"){st=Vt.call(ce,st,X);break t}st=Vt;break t;case 3:Vt.flags=Vt.flags&-65537|128;case 0:if(Vt=It.payload,X=typeof Vt=="function"?Vt.call(ce,st,X):Vt,X==null)break t;st=y({},st,X);break t;case 2:As=!0}}X=w.callback,X!==null&&(r.flags|=64,W&&(r.flags|=8192),W=d.callbacks,W===null?d.callbacks=[X]:W.push(X))}else W={lane:X,tag:w.tag,payload:w.payload,callback:w.callback,next:null},nt===null?(Q=nt=W,V=st):nt=nt.next=W,b|=X;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;W=w,w=W.next,W.next=null,d.lastBaseUpdate=W,d.shared.pending=null}}while(!0);nt===null&&(V=st),d.baseState=V,d.firstBaseUpdate=Q,d.lastBaseUpdate=nt,g===null&&(d.shared.lanes=0),Os|=b,r.lanes=b,r.memoizedState=st}}function Q0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Y0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Q0(o[r],s)}var Go=ot(null),Kh=ot(0);function X0(r,s){r=Yr,ct(Kh,r),ct(Go,s),Yr=r|s.baseLanes}function dp(){ct(Kh,Yr),ct(Go,Go.current)}function mp(){Yr=Kh.current,mt(Go),mt(Kh)}var Cs=0,zt=null,le=null,Ue=null,Qh=!1,$o=!1,$a=!1,Yh=0,Iu=0,Ko=null,GD=0;function De(){throw Error(i(321))}function pp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!qn(r[o],s[o]))return!1;return!0}function gp(r,s,o,c,d,g){return Cs=g,zt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?NT:MT,$a=!1,g=o(c,d),$a=!1,$o&&(g=Z0(s,o,c,d)),W0(r),g}function W0(r){Z.H=ef;var s=le!==null&&le.next!==null;if(Cs=0,Ue=le=zt=null,Qh=!1,Iu=0,Ko=null,s)throw Error(i(300));r===null||tn||(r=r.dependencies,r!==null&&zh(r)&&(tn=!0))}function Z0(r,s,o,c){zt=r;var d=0;do{if($o&&(Ko=null),Iu=0,$o=!1,25<=d)throw Error(i(301));if(d+=1,Ue=le=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=ZD,g=s(o,c)}while($o);return g}function $D(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?Cu(s):s,r=r.useState()[0],(le!==null?le.memoizedState:null)!==r&&(zt.flags|=1024),s}function yp(){var r=Yh!==0;return Yh=0,r}function vp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function _p(r){if(Qh){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qh=!1}Cs=0,Ue=le=zt=null,$o=!1,Iu=Yh=0,Ko=null}function Vn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?zt.memoizedState=Ue=r:Ue=Ue.next=r,Ue}function je(){if(le===null){var r=zt.alternate;r=r!==null?r.memoizedState:null}else r=le.next;var s=Ue===null?zt.memoizedState:Ue.next;if(s!==null)Ue=s,le=r;else{if(r===null)throw zt.alternate===null?Error(i(467)):Error(i(310));le=r,r={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},Ue===null?zt.memoizedState=Ue=r:Ue=Ue.next=r}return Ue}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Cu(r){var s=Iu;return Iu+=1,Ko===null&&(Ko=[]),r=G0(Ko,r,s),s=zt,(Ue===null?s.memoizedState:Ue.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?NT:MT),r}function Xh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Cu(r);if(r.$$typeof===H)return gn(r)}throw Error(i(438,String(r)))}function Ep(r){var s=null,o=zt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=zt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Tp(),zt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=L;return s.index++,o}function qr(r,s){return typeof s=="function"?s(r):s}function Wh(r){var s=je();return bp(s,le,r)}function bp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var w=b=null,V=null,Q=s,nt=!1;do{var st=Q.lane&-536870913;if(st!==Q.lane?(Wt&st)===st:(Cs&st)===st){var X=Q.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),st===qo&&(nt=!0);else if((Cs&X)===X){Q=Q.next,X===qo&&(nt=!0);continue}else st={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(w=V=st,b=g):V=V.next=st,zt.lanes|=X,Os|=X;st=Q.action,$a&&o(g,st),g=Q.hasEagerState?Q.eagerState:o(g,st)}else X={lane:st,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},V===null?(w=V=X,b=g):V=V.next=X,zt.lanes|=st,Os|=st;Q=Q.next}while(Q!==null&&Q!==s);if(V===null?b=g:V.next=w,!qn(g,r.memoizedState)&&(tn=!0,nt&&(o=Ho,o!==null)))throw o;r.memoizedState=g,r.baseState=b,r.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function wp(r){var s=je(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var b=d=d.next;do g=r(g,b.action),b=b.next;while(b!==d);qn(g,s.memoizedState)||(tn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function J0(r,s,o){var c=zt,d=je(),g=te;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var b=!qn((le||d).memoizedState,o);b&&(d.memoizedState=o,tn=!0),d=d.queue;var w=nT.bind(null,c,d,r);if(xu(2048,8,w,[r]),d.getSnapshot!==s||b||Ue!==null&&Ue.memoizedState.tag&1){if(c.flags|=2048,Qo(9,Zh(),eT.bind(null,c,d,o,s),null),fe===null)throw Error(i(349));g||(Cs&124)!==0||tT(c,s,o)}return o}function tT(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=zt.updateQueue,s===null?(s=Tp(),zt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function eT(r,s,o,c){s.value=o,s.getSnapshot=c,iT(s)&&rT(r)}function nT(r,s,o){return o(function(){iT(s)&&rT(r)})}function iT(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!qn(r,o)}catch{return!0}}function rT(r){var s=jo(r,2);s!==null&&Yn(s,r,2)}function Sp(r){var s=Vn();if(typeof r=="function"){var o=r;if(r=o(),$a){Bt(!0);try{o()}finally{Bt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:r},s}function sT(r,s,o,c){return r.baseState=o,bp(r,le,typeof c=="function"?c:qr)}function KD(r,s,o,c,d){if(tf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,aT(s,g)):(g.next=o.next,s.pending=o.next=g)}}function aT(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=Z.T,b={};Z.T=b;try{var w=o(d,c),V=Z.S;V!==null&&V(b,w),oT(r,s,w)}catch(Q){Ap(r,s,Q)}finally{Z.T=g}}else try{g=o(d,c),oT(r,s,g)}catch(Q){Ap(r,s,Q)}}function oT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){lT(r,s,c)},function(c){return Ap(r,s,c)}):lT(r,s,o)}function lT(r,s,o){s.status="fulfilled",s.value=o,uT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,aT(r,o)))}function Ap(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,uT(s),s=s.next;while(s!==c)}r.action=null}function uT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function cT(r,s){return s}function hT(r,s){if(te){var o=fe.formState;if(o!==null){t:{var c=zt;if(te){if(Re){e:{for(var d=Re,g=tr;d.nodeType!==8;){if(!g){d=null;break e}if(d=Ri(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){Re=Ri(d.nextSibling),c=d.data==="F!";break t}}za(c)}c=!1}c&&(s=o[0])}}return o=Vn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cT,lastRenderedState:s},o.queue=c,o=DT.bind(null,zt,c),c.dispatch=o,c=Sp(!1),g=Dp.bind(null,zt,!1,c.queue),c=Vn(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=KD.bind(null,zt,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function fT(r){var s=je();return dT(s,le,r)}function dT(r,s,o){if(s=bp(r,s,cT)[0],r=Wh(qr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Cu(s)}catch(b){throw b===bu?Gh:b}else c=s;s=je();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(zt.flags|=2048,Qo(9,Zh(),QD.bind(null,d,o),null)),[c,g,r]}function QD(r,s){r.action=s}function mT(r){var s=je(),o=le;if(o!==null)return dT(s,o,r);je(),s=s.memoizedState,o=je();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Qo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=zt.updateQueue,s===null&&(s=Tp(),zt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Zh(){return{destroy:void 0,resource:void 0}}function pT(){return je().memoizedState}function Jh(r,s,o,c){var d=Vn();c=c===void 0?null:c,zt.flags|=r,d.memoizedState=Qo(1|s,Zh(),o,c)}function xu(r,s,o,c){var d=je();c=c===void 0?null:c;var g=d.memoizedState.inst;le!==null&&c!==null&&pp(c,le.memoizedState.deps)?d.memoizedState=Qo(s,g,o,c):(zt.flags|=r,d.memoizedState=Qo(1|s,g,o,c))}function gT(r,s){Jh(8390656,8,r,s)}function yT(r,s){xu(2048,8,r,s)}function vT(r,s){return xu(4,2,r,s)}function _T(r,s){return xu(4,4,r,s)}function TT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ET(r,s,o){o=o!=null?o.concat([r]):null,xu(4,4,TT.bind(null,s,r),o)}function Rp(){}function bT(r,s){var o=je();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&pp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function wT(r,s){var o=je();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&pp(s,c[1]))return c[0];if(c=r(),$a){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[c,s],c}function Ip(r,s,o){return o===void 0||(Cs&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=RE(),zt.lanes|=r,Os|=r,o)}function ST(r,s,o,c){return qn(o,s)?o:Go.current!==null?(r=Ip(r,o,c),qn(r,s)||(tn=!0),r):(Cs&42)===0?(tn=!0,r.memoizedState=o):(r=RE(),zt.lanes|=r,Os|=r,s)}function AT(r,s,o,c,d){var g=lt.p;lt.p=g!==0&&8>g?g:8;var b=Z.T,w={};Z.T=w,Dp(r,!1,s,o);try{var V=d(),Q=Z.S;if(Q!==null&&Q(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var nt=HD(V,c);Du(r,s,nt,Qn(r))}else Du(r,s,c,Qn(r))}catch(st){Du(r,s,{then:function(){},status:"rejected",reason:st},Qn())}finally{lt.p=g,Z.T=b}}function YD(){}function Cp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=RT(r).queue;AT(r,d,s,yt,o===null?YD:function(){return IT(r),o(c)})}function RT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:yt,baseState:yt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:yt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function IT(r){var s=RT(r).next.queue;Du(r,s,{},Qn())}function xp(){return gn(Qu)}function CT(){return je().memoizedState}function xT(){return je().memoizedState}function XD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Qn();r=Rs(o);var c=Is(s,r,o);c!==null&&(Yn(c,s,o),Su(c,s,o)),s={cache:sp()},r.payload=s;return}s=s.return}}function WD(r,s,o){var c=Qn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},tf(r)?PT(s,o):(o=Ym(r,s,o,c),o!==null&&(Yn(o,r,c),VT(o,s,c)))}function DT(r,s,o){var c=Qn();Du(r,s,o,c)}function Du(r,s,o,c){var d={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(tf(r))PT(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,w=g(b,o);if(d.hasEagerState=!0,d.eagerState=w,qn(w,b))return Lh(r,s,d,0),fe===null&&kh(),!1}catch{}finally{}if(o=Ym(r,s,d,c),o!==null)return Yn(o,r,c),VT(o,s,c),!0}return!1}function Dp(r,s,o,c){if(c={lane:2,revertLane:lg(),action:c,hasEagerState:!1,eagerState:null,next:null},tf(r)){if(s)throw Error(i(479))}else s=Ym(r,o,c,2),s!==null&&Yn(s,r,2)}function tf(r){var s=r.alternate;return r===zt||s!==null&&s===zt}function PT(r,s){$o=Qh=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function VT(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,Zl(r,o)}}var ef={readContext:gn,use:Xh,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useLayoutEffect:De,useInsertionEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useSyncExternalStore:De,useId:De,useHostTransitionStatus:De,useFormState:De,useActionState:De,useOptimistic:De,useMemoCache:De,useCacheRefresh:De},NT={readContext:gn,use:Xh,useCallback:function(r,s){return Vn().memoizedState=[r,s===void 0?null:s],r},useContext:gn,useEffect:gT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Jh(4194308,4,TT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Jh(4194308,4,r,s)},useInsertionEffect:function(r,s){Jh(4,2,r,s)},useMemo:function(r,s){var o=Vn();s=s===void 0?null:s;var c=r();if($a){Bt(!0);try{r()}finally{Bt(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Vn();if(o!==void 0){var d=o(s);if($a){Bt(!0);try{o(s)}finally{Bt(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=WD.bind(null,zt,r),[c.memoizedState,r]},useRef:function(r){var s=Vn();return r={current:r},s.memoizedState=r},useState:function(r){r=Sp(r);var s=r.queue,o=DT.bind(null,zt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Rp,useDeferredValue:function(r,s){var o=Vn();return Ip(o,r,s)},useTransition:function(){var r=Sp(!1);return r=AT.bind(null,zt,r.queue,!0,!1),Vn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=zt,d=Vn();if(te){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),fe===null)throw Error(i(349));(Wt&124)!==0||tT(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,gT(nT.bind(null,c,g,r),[r]),c.flags|=2048,Qo(9,Zh(),eT.bind(null,c,g,o,s),null),o},useId:function(){var r=Vn(),s=fe.identifierPrefix;if(te){var o=Fr,c=jr;o=(c&~(1<<32-re(c)-1)).toString(32)+o,s="«"+s+"R"+o,o=Yh++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=GD++,s="«"+s+"r"+o.toString(32)+"»";return r.memoizedState=s},useHostTransitionStatus:xp,useFormState:hT,useActionState:hT,useOptimistic:function(r){var s=Vn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Dp.bind(null,zt,!0,o),o.dispatch=s,[r,s]},useMemoCache:Ep,useCacheRefresh:function(){return Vn().memoizedState=XD.bind(null,zt)}},MT={readContext:gn,use:Xh,useCallback:bT,useContext:gn,useEffect:yT,useImperativeHandle:ET,useInsertionEffect:vT,useLayoutEffect:_T,useMemo:wT,useReducer:Wh,useRef:pT,useState:function(){return Wh(qr)},useDebugValue:Rp,useDeferredValue:function(r,s){var o=je();return ST(o,le.memoizedState,r,s)},useTransition:function(){var r=Wh(qr)[0],s=je().memoizedState;return[typeof r=="boolean"?r:Cu(r),s]},useSyncExternalStore:J0,useId:CT,useHostTransitionStatus:xp,useFormState:fT,useActionState:fT,useOptimistic:function(r,s){var o=je();return sT(o,le,r,s)},useMemoCache:Ep,useCacheRefresh:xT},ZD={readContext:gn,use:Xh,useCallback:bT,useContext:gn,useEffect:yT,useImperativeHandle:ET,useInsertionEffect:vT,useLayoutEffect:_T,useMemo:wT,useReducer:wp,useRef:pT,useState:function(){return wp(qr)},useDebugValue:Rp,useDeferredValue:function(r,s){var o=je();return le===null?Ip(o,r,s):ST(o,le.memoizedState,r,s)},useTransition:function(){var r=wp(qr)[0],s=je().memoizedState;return[typeof r=="boolean"?r:Cu(r),s]},useSyncExternalStore:J0,useId:CT,useHostTransitionStatus:xp,useFormState:mT,useActionState:mT,useOptimistic:function(r,s){var o=je();return le!==null?sT(o,le,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Ep,useCacheRefresh:xT},Yo=null,Pu=0;function nf(r){var s=Pu;return Pu+=1,Yo===null&&(Yo=[]),G0(Yo,r,s)}function Vu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function rf(r,s){throw s.$$typeof===_?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function OT(r){var s=r._init;return s(r._payload)}function kT(r){function s(G,B){if(r){var K=G.deletions;K===null?(G.deletions=[B],G.flags|=16):K.push(B)}}function o(G,B){if(!r)return null;for(;B!==null;)s(G,B),B=B.sibling;return null}function c(G){for(var B=new Map;G!==null;)G.key!==null?B.set(G.key,G):B.set(G.index,G),G=G.sibling;return B}function d(G,B){return G=Ur(G,B),G.index=0,G.sibling=null,G}function g(G,B,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<B?(G.flags|=67108866,B):K):(G.flags|=67108866,B)):(G.flags|=1048576,B)}function b(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function w(G,B,K,it){return B===null||B.tag!==6?(B=Wm(K,G.mode,it),B.return=G,B):(B=d(B,K),B.return=G,B)}function V(G,B,K,it){var Et=K.type;return Et===D?nt(G,B,K.props.children,it,K.key):B!==null&&(B.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&OT(Et)===B.type)?(B=d(B,K.props),Vu(B,K),B.return=G,B):(B=jh(K.type,K.key,K.props,null,G.mode,it),Vu(B,K),B.return=G,B)}function Q(G,B,K,it){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Zm(K,G.mode,it),B.return=G,B):(B=d(B,K.children||[]),B.return=G,B)}function nt(G,B,K,it,Et){return B===null||B.tag!==7?(B=Ua(K,G.mode,it,Et),B.return=G,B):(B=d(B,K),B.return=G,B)}function st(G,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Wm(""+B,G.mode,K),B.return=G,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return K=jh(B.type,B.key,B.props,null,G.mode,K),Vu(K,B),K.return=G,K;case A:return B=Zm(B,G.mode,K),B.return=G,B;case R:var it=B._init;return B=it(B._payload),st(G,B,K)}if(Ut(B)||j(B))return B=Ua(B,G.mode,K,null),B.return=G,B;if(typeof B.then=="function")return st(G,nf(B),K);if(B.$$typeof===H)return st(G,qh(G,B),K);rf(G,B)}return null}function X(G,B,K,it){var Et=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Et!==null?null:w(G,B,""+K,it);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return K.key===Et?V(G,B,K,it):null;case A:return K.key===Et?Q(G,B,K,it):null;case R:return Et=K._init,K=Et(K._payload),X(G,B,K,it)}if(Ut(K)||j(K))return Et!==null?null:nt(G,B,K,it,null);if(typeof K.then=="function")return X(G,B,nf(K),it);if(K.$$typeof===H)return X(G,B,qh(G,K),it);rf(G,K)}return null}function W(G,B,K,it,Et){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return G=G.get(K)||null,w(B,G,""+it,Et);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case T:return G=G.get(it.key===null?K:it.key)||null,V(B,G,it,Et);case A:return G=G.get(it.key===null?K:it.key)||null,Q(B,G,it,Et);case R:var qt=it._init;return it=qt(it._payload),W(G,B,K,it,Et)}if(Ut(it)||j(it))return G=G.get(K)||null,nt(B,G,it,Et,null);if(typeof it.then=="function")return W(G,B,K,nf(it),Et);if(it.$$typeof===H)return W(G,B,K,qh(B,it),Et);rf(B,it)}return null}function Vt(G,B,K,it){for(var Et=null,qt=null,St=B,Ct=B=0,nn=null;St!==null&&Ct<K.length;Ct++){St.index>Ct?(nn=St,St=null):nn=St.sibling;var Jt=X(G,St,K[Ct],it);if(Jt===null){St===null&&(St=nn);break}r&&St&&Jt.alternate===null&&s(G,St),B=g(Jt,B,Ct),qt===null?Et=Jt:qt.sibling=Jt,qt=Jt,St=nn}if(Ct===K.length)return o(G,St),te&&Fa(G,Ct),Et;if(St===null){for(;Ct<K.length;Ct++)St=st(G,K[Ct],it),St!==null&&(B=g(St,B,Ct),qt===null?Et=St:qt.sibling=St,qt=St);return te&&Fa(G,Ct),Et}for(St=c(St);Ct<K.length;Ct++)nn=W(St,G,Ct,K[Ct],it),nn!==null&&(r&&nn.alternate!==null&&St.delete(nn.key===null?Ct:nn.key),B=g(nn,B,Ct),qt===null?Et=nn:qt.sibling=nn,qt=nn);return r&&St.forEach(function(Hs){return s(G,Hs)}),te&&Fa(G,Ct),Et}function It(G,B,K,it){if(K==null)throw Error(i(151));for(var Et=null,qt=null,St=B,Ct=B=0,nn=null,Jt=K.next();St!==null&&!Jt.done;Ct++,Jt=K.next()){St.index>Ct?(nn=St,St=null):nn=St.sibling;var Hs=X(G,St,Jt.value,it);if(Hs===null){St===null&&(St=nn);break}r&&St&&Hs.alternate===null&&s(G,St),B=g(Hs,B,Ct),qt===null?Et=Hs:qt.sibling=Hs,qt=Hs,St=nn}if(Jt.done)return o(G,St),te&&Fa(G,Ct),Et;if(St===null){for(;!Jt.done;Ct++,Jt=K.next())Jt=st(G,Jt.value,it),Jt!==null&&(B=g(Jt,B,Ct),qt===null?Et=Jt:qt.sibling=Jt,qt=Jt);return te&&Fa(G,Ct),Et}for(St=c(St);!Jt.done;Ct++,Jt=K.next())Jt=W(St,G,Ct,Jt.value,it),Jt!==null&&(r&&Jt.alternate!==null&&St.delete(Jt.key===null?Ct:Jt.key),B=g(Jt,B,Ct),qt===null?Et=Jt:qt.sibling=Jt,qt=Jt);return r&&St.forEach(function(JP){return s(G,JP)}),te&&Fa(G,Ct),Et}function ce(G,B,K,it){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case T:t:{for(var Et=K.key;B!==null;){if(B.key===Et){if(Et=K.type,Et===D){if(B.tag===7){o(G,B.sibling),it=d(B,K.props.children),it.return=G,G=it;break t}}else if(B.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===R&&OT(Et)===B.type){o(G,B.sibling),it=d(B,K.props),Vu(it,K),it.return=G,G=it;break t}o(G,B);break}else s(G,B);B=B.sibling}K.type===D?(it=Ua(K.props.children,G.mode,it,K.key),it.return=G,G=it):(it=jh(K.type,K.key,K.props,null,G.mode,it),Vu(it,K),it.return=G,G=it)}return b(G);case A:t:{for(Et=K.key;B!==null;){if(B.key===Et)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(G,B.sibling),it=d(B,K.children||[]),it.return=G,G=it;break t}else{o(G,B);break}else s(G,B);B=B.sibling}it=Zm(K,G.mode,it),it.return=G,G=it}return b(G);case R:return Et=K._init,K=Et(K._payload),ce(G,B,K,it)}if(Ut(K))return Vt(G,B,K,it);if(j(K)){if(Et=j(K),typeof Et!="function")throw Error(i(150));return K=Et.call(K),It(G,B,K,it)}if(typeof K.then=="function")return ce(G,B,nf(K),it);if(K.$$typeof===H)return ce(G,B,qh(G,K),it);rf(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(G,B.sibling),it=d(B,K),it.return=G,G=it):(o(G,B),it=Wm(K,G.mode,it),it.return=G,G=it),b(G)):o(G,B)}return function(G,B,K,it){try{Pu=0;var Et=ce(G,B,K,it);return Yo=null,Et}catch(St){if(St===bu||St===Gh)throw St;var qt=Hn(29,St,null,G.mode);return qt.lanes=it,qt.return=G,qt}finally{}}}var Xo=kT(!0),LT=kT(!1),hi=ot(null),er=null;function xs(r){var s=r.alternate;ct(Xe,Xe.current&1),ct(hi,r),er===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(er=r)}function UT(r){if(r.tag===22){if(ct(Xe,Xe.current),ct(hi,r),er===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(er=r)}}else Ds()}function Ds(){ct(Xe,Xe.current),ct(hi,hi.current)}function Hr(r){mt(hi),er===r&&(er=null),mt(Xe)}var Xe=ot(0);function sf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Tg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Pp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:y({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Vp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Qn(),d=Rs(c);d.payload=s,o!=null&&(d.callback=o),s=Is(r,d,c),s!==null&&(Yn(s,r,c),Su(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Qn(),d=Rs(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Is(r,d,c),s!==null&&(Yn(s,r,c),Su(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Qn(),c=Rs(o);c.tag=2,s!=null&&(c.callback=s),s=Is(r,c,o),s!==null&&(Yn(s,r,o),Su(s,r,o))}};function jT(r,s,o,c,d,g,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,b):s.prototype&&s.prototype.isPureReactComponent?!mu(o,c)||!mu(d,g):!0}function FT(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Vp.enqueueReplaceState(s,s.state,null)}function Ka(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=y({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}var af=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function BT(r){af(r)}function zT(r){console.error(r)}function qT(r){af(r)}function of(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function HT(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Np(r,s,o){return o=Rs(o),o.tag=3,o.payload={element:null},o.callback=function(){of(r,s)},o}function GT(r){return r=Rs(r),r.tag=3,r}function $T(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){HT(s,o,c)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(r.callback=function(){HT(s,o,c),typeof d!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function JD(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&_u(s,o,d,!0),o=hi.current,o!==null){switch(o.tag){case 13:return er===null?ig():o.alternate===null&&Ie===0&&(Ie=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===lp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),sg(r,c,d)),!1;case 22:return o.flags|=65536,c===lp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),sg(r,c,d)),!1}throw Error(i(435,o.tag))}return sg(r,c,d),ig(),!1}if(te)return s=hi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==ep&&(r=Error(i(422),{cause:c}),vu(oi(r,o)))):(c!==ep&&(s=Error(i(423),{cause:c}),vu(oi(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=oi(c,o),d=Np(r.stateNode,c,d),hp(r,d),Ie!==4&&(Ie=2)),!1;var g=Error(i(520),{cause:c});if(g=oi(g,o),ju===null?ju=[g]:ju.push(g),Ie!==4&&(Ie=2),s===null)return!0;c=oi(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Np(o.stateNode,c,r),hp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ks===null||!ks.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=GT(d),$T(d,r,o,c),hp(o,d),!1}o=o.return}while(o!==null);return!1}var KT=Error(i(461)),tn=!1;function ln(r,s,o,c){s.child=r===null?LT(s,null,o,c):Xo(s,r.child,o,c)}function QT(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var b={};for(var w in c)w!=="ref"&&(b[w]=c[w])}else b=c;return Ha(s),c=gp(r,s,o,b,g,d),w=yp(),r!==null&&!tn?(vp(r,s,d),Gr(r,s,d)):(te&&w&&Jm(s),s.flags|=1,ln(r,s,c,d),s.child)}function YT(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!Xm(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,XT(r,s,g,c,d)):(r=jh(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!Bp(r,d)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:mu,o(b,c)&&r.ref===s.ref)return Gr(r,s,d)}return s.flags|=1,r=Ur(g,c),r.ref=s.ref,r.return=s,s.child=r}function XT(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(mu(g,c)&&r.ref===s.ref)if(tn=!1,s.pendingProps=c=g,Bp(r,d))(r.flags&131072)!==0&&(tn=!0);else return s.lanes=r.lanes,Gr(r,s,d)}return Mp(r,s,o,c,d)}function WT(r,s,o){var c=s.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,r!==null){for(d=s.child=r.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;s.childLanes=g&~c}else s.childLanes=0,s.child=null;return ZT(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Hh(s,g!==null?g.cachePool:null),g!==null?X0(s,g):dp(),UT(s);else return s.lanes=s.childLanes=536870912,ZT(r,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(Hh(s,g.cachePool),X0(s,g),Ds(),s.memoizedState=null):(r!==null&&Hh(s,null),dp(),Ds());return ln(r,s,d,o),s.child}function ZT(r,s,o,c){var d=op();return d=d===null?null:{parent:Ye._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},r!==null&&Hh(s,null),dp(),UT(s),r!==null&&_u(r,s,c,!0),null}function lf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Mp(r,s,o,c,d){return Ha(s),o=gp(r,s,o,c,void 0,d),c=yp(),r!==null&&!tn?(vp(r,s,d),Gr(r,s,d)):(te&&c&&Jm(s),s.flags|=1,ln(r,s,o,d),s.child)}function JT(r,s,o,c,d,g){return Ha(s),s.updateQueue=null,o=Z0(s,c,o,d),W0(r),c=yp(),r!==null&&!tn?(vp(r,s,g),Gr(r,s,g)):(te&&c&&Jm(s),s.flags|=1,ln(r,s,o,g),s.child)}function tE(r,s,o,c,d){if(Ha(s),s.stateNode===null){var g=Fo,b=o.contextType;typeof b=="object"&&b!==null&&(g=gn(b)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Vp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},up(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?gn(b):Fo,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(Pp(s,o,b,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Vp.enqueueReplaceState(g,g.state,null),Ru(s,c,g,d),Au(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,V=Ka(o,w);g.props=V;var Q=g.context,nt=o.contextType;b=Fo,typeof nt=="object"&&nt!==null&&(b=gn(nt));var st=o.getDerivedStateFromProps;nt=typeof st=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,nt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||Q!==b)&&FT(s,g,c,b),As=!1;var X=s.memoizedState;g.state=X,Ru(s,c,g,d),Au(),Q=s.memoizedState,w||X!==Q||As?(typeof st=="function"&&(Pp(s,o,st,c),Q=s.memoizedState),(V=As||jT(s,o,V,c,X,Q,b))?(nt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=b,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,cp(r,s),b=s.memoizedProps,nt=Ka(o,b),g.props=nt,st=s.pendingProps,X=g.context,Q=o.contextType,V=Fo,typeof Q=="object"&&Q!==null&&(V=gn(Q)),w=o.getDerivedStateFromProps,(Q=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==st||X!==V)&&FT(s,g,c,V),As=!1,X=s.memoizedState,g.state=X,Ru(s,c,g,d),Au();var W=s.memoizedState;b!==st||X!==W||As||r!==null&&r.dependencies!==null&&zh(r.dependencies)?(typeof w=="function"&&(Pp(s,o,w,c),W=s.memoizedState),(nt=As||jT(s,o,nt,c,X,W,V)||r!==null&&r.dependencies!==null&&zh(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,W,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=W),g.props=c,g.state=W,g.context=V,c=nt):(typeof g.componentDidUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,lf(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Xo(s,r.child,null,d),s.child=Xo(s,null,o,d)):ln(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Gr(r,s,d),r}function eE(r,s,o,c){return yu(),s.flags|=256,ln(r,s,o,c),s.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(r){return{baseLanes:r,cachePool:z0()}}function Lp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=fi),r}function nE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=r!==null&&r.memoizedState===null?!1:(Xe.current&2)!==0),b&&(d=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,r===null){if(te){if(d?xs(s):Ds(),te){var w=Re,V;if(V=w){t:{for(V=w,w=tr;V.nodeType!==8;){if(!w){w=null;break t}if(V=Ri(V.nextSibling),V===null){w=null;break t}}w=V}w!==null?(s.memoizedState={dehydrated:w,treeContext:ja!==null?{id:jr,overflow:Fr}:null,retryLane:536870912,hydrationErrors:null},V=Hn(18,null,null,0),V.stateNode=w,V.return=s,s.child=V,Rn=s,Re=null,V=!0):V=!1}V||za(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Tg(w)?s.lanes=32:s.lanes=536870912,null;Hr(s)}return w=c.children,c=c.fallback,d?(Ds(),d=s.mode,w=uf({mode:"hidden",children:w},d),c=Ua(c,d,o,null),w.return=s,c.return=s,w.sibling=c,s.child=w,d=s.child,d.memoizedState=kp(o),d.childLanes=Lp(r,b,o),s.memoizedState=Op,c):(xs(s),Up(s,w))}if(V=r.memoizedState,V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(xs(s),s.flags&=-257,s=jp(r,s,o)):s.memoizedState!==null?(Ds(),s.child=r.child,s.flags|=128,s=null):(Ds(),d=c.fallback,w=s.mode,c=uf({mode:"visible",children:c.children},w),d=Ua(d,w,o,null),d.flags|=2,c.return=s,d.return=s,c.sibling=d,s.child=c,Xo(s,r.child,null,o),c=s.child,c.memoizedState=kp(o),c.childLanes=Lp(r,b,o),s.memoizedState=Op,s=d);else if(xs(s),Tg(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var Q=b.dgst;b=Q,c=Error(i(419)),c.stack="",c.digest=b,vu({value:c,source:null,stack:null}),s=jp(r,s,o)}else if(tn||_u(r,s,o,!1),b=(o&r.childLanes)!==0,tn||b){if(b=fe,b!==null&&(c=o&-o,c=(c&42)!==0?1:ys(c),c=(c&(b.suspendedLanes|o))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,jo(r,c),Yn(b,r,c),KT;w.data==="$?"||ig(),s=jp(r,s,o)}else w.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,Re=Ri(w.nextSibling),Rn=s,te=!0,Ba=null,tr=!1,r!==null&&(ui[ci++]=jr,ui[ci++]=Fr,ui[ci++]=ja,jr=r.id,Fr=r.overflow,ja=s),s=Up(s,c.children),s.flags|=4096);return s}return d?(Ds(),d=c.fallback,w=s.mode,V=r.child,Q=V.sibling,c=Ur(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,Q!==null?d=Ur(Q,d):(d=Ua(d,w,o,null),d.flags|=2),d.return=s,c.return=s,c.sibling=d,s.child=c,c=d,d=s.child,w=r.child.memoizedState,w===null?w=kp(o):(V=w.cachePool,V!==null?(Q=Ye._currentValue,V=V.parent!==Q?{parent:Q,pool:Q}:V):V=z0(),w={baseLanes:w.baseLanes|o,cachePool:V}),d.memoizedState=w,d.childLanes=Lp(r,b,o),s.memoizedState=Op,c):(xs(s),o=r.child,r=o.sibling,o=Ur(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(b=s.deletions,b===null?(s.deletions=[r],s.flags|=16):b.push(r)),s.child=o,s.memoizedState=null,o)}function Up(r,s){return s=uf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function uf(r,s){return r=Hn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function jp(r,s,o){return Xo(s,r.child,null,o),r=Up(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function iE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),ip(r.return,s,o)}function Fp(r,s,o,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=d)}function rE(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(ln(r,s,c.children,o),c=Xe.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&iE(r,o,s);else if(r.tag===19)iE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(ct(Xe,c),d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&sf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Fp(s,!1,d,o,g);break;case"backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&sf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Fp(s,!0,o,null,g);break;case"together":Fp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Gr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Os|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(_u(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Ur(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Ur(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&zh(r)))}function tP(r,s,o){switch(s.tag){case 3:ie(s,s.stateNode.containerInfo),Ss(s,Ye,r.memoizedState.cache),yu();break;case 27:case 5:ti(s);break;case 4:ie(s,s.stateNode.containerInfo);break;case 10:Ss(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(xs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?nE(r,s,o):(xs(s),r=Gr(r,s,o),r!==null?r.sibling:null);xs(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(_u(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return rE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ct(Xe,Xe.current),c)break;return null;case 22:case 23:return s.lanes=0,WT(r,s,o);case 24:Ss(s,Ye,r.memoizedState.cache)}return Gr(r,s,o)}function sE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)tn=!0;else{if(!Bp(r,o)&&(s.flags&128)===0)return tn=!1,tP(r,s,o);tn=(r.flags&131072)!==0}else tn=!1,te&&(s.flags&1048576)!==0&&O0(s,Bh,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var c=s.elementType,d=c._init;if(c=d(c._payload),s.type=c,typeof c=="function")Xm(c)?(r=Ka(c,r),s.tag=1,s=tE(null,s,c,r,o)):(s.tag=0,s=Mp(null,s,c,r,o));else{if(c!=null){if(d=c.$$typeof,d===ut){s.tag=11,s=QT(null,s,c,r,o);break t}else if(d===M){s.tag=14,s=YT(null,s,c,r,o);break t}}throw s=Lt(c)||c,Error(i(306,s,""))}}return s;case 0:return Mp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Ka(c,s.pendingProps),tE(r,s,c,d,o);case 3:t:{if(ie(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,cp(r,s),Ru(s,c,null,o);var b=s.memoizedState;if(c=b.cache,Ss(s,Ye,c),c!==g.cache&&rp(s,[Ye],o,!0),Au(),c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=eE(r,s,c,o);break t}else if(c!==d){d=oi(Error(i(424)),s),vu(d),s=eE(r,s,c,o);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Re=Ri(r.firstChild),Rn=s,te=!0,Ba=null,tr=!0,o=LT(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(yu(),c===d){s=Gr(r,s,o);break t}ln(r,s,c,o)}s=s.child}return s;case 26:return lf(r,s),r===null?(o=ub(s.type,null,s.pendingProps,null))?s.memoizedState=o:te||(o=s.type,r=s.pendingProps,c=wf(Pt.current).createElement(o),c[$e]=s,c[ke]=r,cn(c,o,r),xe(c),s.stateNode=c):s.memoizedState=ub(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ti(s),r===null&&te&&(c=s.stateNode=ab(s.type,s.pendingProps,Pt.current),Rn=s,tr=!0,d=Re,js(s.type)?(Eg=d,Re=Ri(c.firstChild)):Re=d),ln(r,s,s.pendingProps.children,o),lf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&te&&((d=c=Re)&&(c=CP(c,s.type,s.pendingProps,tr),c!==null?(s.stateNode=c,Rn=s,Re=Ri(c.firstChild),tr=!1,d=!0):d=!1),d||za(s)),ti(s),d=s.type,g=s.pendingProps,b=r!==null?r.memoizedProps:null,c=g.children,yg(d,g)?c=null:b!==null&&yg(d,b)&&(s.flags|=32),s.memoizedState!==null&&(d=gp(r,s,$D,null,null,o),Qu._currentValue=d),lf(r,s),ln(r,s,c,o),s.child;case 6:return r===null&&te&&((r=o=Re)&&(o=xP(o,s.pendingProps,tr),o!==null?(s.stateNode=o,Rn=s,Re=null,r=!0):r=!1),r||za(s)),null;case 13:return nE(r,s,o);case 4:return ie(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Xo(s,null,c,o):ln(r,s,c,o),s.child;case 11:return QT(r,s,s.type,s.pendingProps,o);case 7:return ln(r,s,s.pendingProps,o),s.child;case 8:return ln(r,s,s.pendingProps.children,o),s.child;case 12:return ln(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Ss(s,s.type,c.value),ln(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ha(s),d=gn(d),c=c(d),s.flags|=1,ln(r,s,c,o),s.child;case 14:return YT(r,s,s.type,s.pendingProps,o);case 15:return XT(r,s,s.type,s.pendingProps,o);case 19:return rE(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=uf(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ur(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return WT(r,s,o);case 24:return Ha(s),c=gn(Ye),r===null?(d=op(),d===null&&(d=fe,g=sp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},up(s),Ss(s,Ye,d)):((r.lanes&o)!==0&&(cp(r,s),Ru(s,null,null,o),Au()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ss(s,Ye,c)):(c=g.cache,Ss(s,Ye,c),c!==d.cache&&rp(s,[Ye],o,!0))),ln(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function $r(r){r.flags|=4}function aE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!mb(s)){if(s=hi.current,s!==null&&((Wt&4194048)===Wt?er!==null:(Wt&62914560)!==Wt&&(Wt&536870912)===0||s!==er))throw wu=lp,q0;r.flags|=8192}}function cf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Xl():536870912,r.lanes|=s,tl|=s)}function Nu(r,s){if(!te)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Te(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function eP(r,s,o){var c=s.pendingProps;switch(tp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(s),null;case 1:return Te(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),zr(Ye),Dn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(gu(s)?$r(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,U0())),Te(s),null;case 26:return o=s.memoizedState,r===null?($r(s),o!==null?(Te(s),aE(s,o)):(Te(s),s.flags&=-16777217)):o?o!==r.memoizedState?($r(s),Te(s),aE(s,o)):(Te(s),s.flags&=-16777217):(r.memoizedProps!==c&&$r(s),Te(s),s.flags&=-16777217),null;case 27:_i(s),o=Pt.current;var d=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&$r(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Te(s),null}r=At.current,gu(s)?k0(s):(r=ab(d,c,o),s.stateNode=r,$r(s))}return Te(s),null;case 5:if(_i(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&$r(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return Te(s),null}if(r=At.current,gu(s))k0(s);else{switch(d=wf(Pt.current),r){case 1:r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=d.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?d.createElement("select",{is:c.is}):d.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?d.createElement(o,{is:c.is}):d.createElement(o)}}r[$e]=s,r[ke]=c;t:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)r.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break t;for(;d.sibling===null;){if(d.return===null||d.return===s)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=r;t:switch(cn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&$r(s)}}return Te(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&$r(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Pt.current,gu(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Rn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[$e]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||JE(r.nodeValue,o)),r||za(s)}else r=wf(r).createTextNode(c),r[$e]=s,s.stateNode=r}return Te(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=gu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[$e]=s}else yu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Te(s),d=!1}else d=U0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Hr(s),s):(Hr(s),null)}if(Hr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),cf(s,s.updateQueue),Te(s),null;case 4:return Dn(),r===null&&fg(s.stateNode.containerInfo),Te(s),null;case 10:return zr(s.type),Te(s),null;case 19:if(mt(Xe),d=s.memoizedState,d===null)return Te(s),null;if(c=(s.flags&128)!==0,g=d.rendering,g===null)if(c)Nu(d,!1);else{if(Ie!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=sf(r),g!==null){for(s.flags|=128,Nu(d,!1),r=g.updateQueue,s.updateQueue=r,cf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)M0(o,r),o=o.sibling;return ct(Xe,Xe.current&1|2),s.child}r=r.sibling}d.tail!==null&&Pn()>df&&(s.flags|=128,c=!0,Nu(d,!1),s.lanes=4194304)}else{if(!c)if(r=sf(g),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,cf(s,r),Nu(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!te)return Te(s),null}else 2*Pn()-d.renderingStartTime>df&&o!==536870912&&(s.flags|=128,c=!0,Nu(d,!1),s.lanes=4194304);d.isBackwards?(g.sibling=s.child,s.child=g):(r=d.last,r!==null?r.sibling=g:s.child=g,d.last=g)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Pn(),s.sibling=null,r=Xe.current,ct(Xe,c?r&1|2:r&1),s):(Te(s),null);case 22:case 23:return Hr(s),mp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Te(s),s.subtreeFlags&6&&(s.flags|=8192)):Te(s),o=s.updateQueue,o!==null&&cf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&mt(Ga),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),zr(Ye),Te(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function nP(r,s){switch(tp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return zr(Ye),Dn(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return _i(s),null;case 13:if(Hr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));yu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return mt(Xe),null;case 4:return Dn(),null;case 10:return zr(s.type),null;case 22:case 23:return Hr(s),mp(),r!==null&&mt(Ga),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return zr(Ye),null;case 25:return null;default:return null}}function oE(r,s){switch(tp(s),s.tag){case 3:zr(Ye),Dn();break;case 26:case 27:case 5:_i(s);break;case 4:Dn();break;case 13:Hr(s);break;case 19:mt(Xe);break;case 10:zr(s.type);break;case 22:case 23:Hr(s),mp(),r!==null&&mt(Ga);break;case 24:zr(Ye)}}function Mu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,b=o.inst;c=g(),b.destroy=c}o=o.next}while(o!==d)}}catch(w){he(s,s.return,w)}}function Ps(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var b=c.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,d=s;var V=o,Q=w;try{Q()}catch(nt){he(d,V,nt)}}}c=c.next}while(c!==g)}}catch(nt){he(s,s.return,nt)}}function lE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Y0(s,o)}catch(c){he(r,r.return,c)}}}function uE(r,s,o){o.props=Ka(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){he(r,s,c)}}function Ou(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){he(r,s,d)}}function nr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){he(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){he(r,s,d)}else o.current=null}function cE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){he(r,r.return,d)}}function zp(r,s,o){try{var c=r.stateNode;wP(c,r.type,o,s),c[ke]=s}catch(d){he(r,r.return,d)}}function hE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&js(r.type)||r.tag===4}function qp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||hE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&js(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Hp(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bf));else if(c!==4&&(c===27&&js(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Hp(r,s,o),r=r.sibling;r!==null;)Hp(r,s,o),r=r.sibling}function hf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&js(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(hf(r,s,o),r=r.sibling;r!==null;)hf(r,s,o),r=r.sibling}function fE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);cn(s,c,o),s[$e]=r,s[ke]=o}catch(g){he(r,r.return,g)}}var Kr=!1,Pe=!1,Gp=!1,dE=typeof WeakSet=="function"?WeakSet:Set,en=null;function iP(r,s){if(r=r.containerInfo,pg=xf,r=S0(r),qm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,w=-1,V=-1,Q=0,nt=0,st=r,X=null;e:for(;;){for(var W;st!==o||d!==0&&st.nodeType!==3||(w=b+d),st!==g||c!==0&&st.nodeType!==3||(V=b+c),st.nodeType===3&&(b+=st.nodeValue.length),(W=st.firstChild)!==null;)X=st,st=W;for(;;){if(st===r)break e;if(X===o&&++Q===d&&(w=b),X===g&&++nt===c&&(V=b),(W=st.nextSibling)!==null)break;st=X,X=st.parentNode}st=W}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(gg={focusedElem:r,selectionRange:o},xf=!1,en=s;en!==null;)if(s=en,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,en=r;else for(;en!==null;){switch(s=en,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Vt=Ka(o.type,d,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(Vt,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(It){he(o,o.return,It)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)_g(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":_g(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,en=r;break}en=s.return}}function mE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Vs(r,o),c&4&&Mu(5,o);break;case 1:if(Vs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(b){he(o,o.return,b)}else{var d=Ka(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(b){he(o,o.return,b)}}c&64&&lE(o),c&512&&Ou(o,o.return);break;case 3:if(Vs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Y0(r,s)}catch(b){he(o,o.return,b)}}break;case 27:s===null&&c&4&&fE(o);case 26:case 5:Vs(r,o),s===null&&c&4&&cE(o),c&512&&Ou(o,o.return);break;case 12:Vs(r,o);break;case 13:Vs(r,o),c&4&&yE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=fP.bind(null,o),DP(r,o))));break;case 22:if(c=o.memoizedState!==null||Kr,!c){s=s!==null&&s.memoizedState!==null||Pe,d=Kr;var g=Pe;Kr=c,(Pe=s)&&!g?Ns(r,o,(o.subtreeFlags&8772)!==0):Vs(r,o),Kr=d,Pe=g}break;case 30:break;default:Vs(r,o)}}function pE(r){var s=r.alternate;s!==null&&(r.alternate=null,pE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Ts(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var ge=null,Nn=!1;function Qr(r,s,o){for(o=o.child;o!==null;)gE(r,s,o),o=o.sibling}function gE(r,s,o){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Pe||nr(o,s),Qr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pe||nr(o,s);var c=ge,d=Nn;js(o.type)&&(ge=o.stateNode,Nn=!1),Qr(r,s,o),Hu(o.stateNode),ge=c,Nn=d;break;case 5:Pe||nr(o,s);case 6:if(c=ge,d=Nn,ge=null,Qr(r,s,o),ge=c,Nn=d,ge!==null)if(Nn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(o.stateNode)}catch(g){he(o,s,g)}else try{ge.removeChild(o.stateNode)}catch(g){he(o,s,g)}break;case 18:ge!==null&&(Nn?(r=ge,rb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Zu(r)):rb(ge,o.stateNode));break;case 4:c=ge,d=Nn,ge=o.stateNode.containerInfo,Nn=!0,Qr(r,s,o),ge=c,Nn=d;break;case 0:case 11:case 14:case 15:Pe||Ps(2,o,s),Pe||Ps(4,o,s),Qr(r,s,o);break;case 1:Pe||(nr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&uE(o,s,c)),Qr(r,s,o);break;case 21:Qr(r,s,o);break;case 22:Pe=(c=Pe)||o.memoizedState!==null,Qr(r,s,o),Pe=c;break;default:Qr(r,s,o)}}function yE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Zu(r)}catch(o){he(s,s.return,o)}}function rP(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dE),s;default:throw Error(i(435,r.tag))}}function $p(r,s){var o=rP(r);s.forEach(function(c){var d=dP.bind(null,r,c);o.has(c)||(o.add(c),c.then(d,d))})}function Gn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,b=s,w=b;t:for(;w!==null;){switch(w.tag){case 27:if(js(w.type)){ge=w.stateNode,Nn=!1;break t}break;case 5:ge=w.stateNode,Nn=!1;break t;case 3:case 4:ge=w.stateNode.containerInfo,Nn=!0;break t}w=w.return}if(ge===null)throw Error(i(160));gE(g,b,d),ge=null,Nn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)vE(s,r),s=s.sibling}var Ai=null;function vE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(s,r),$n(r),c&4&&(Ps(3,r,r.return),Mu(3,r),Ps(5,r,r.return));break;case 1:Gn(s,r),$n(r),c&512&&(Pe||o===null||nr(o,o.return)),c&64&&Kr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ai;if(Gn(s,r),$n(r),c&512&&(Pe||o===null||nr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){t:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ba]||g[$e]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),cn(g,c,o),g[$e]=r,xe(g),c=g;break t;case"link":var b=fb("link","href",d).get(c+(o.href||""));if(b){for(var w=0;w<b.length;w++)if(g=b[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(w,1);break e}}g=d.createElement(c),cn(g,c,o),d.head.appendChild(g);break;case"meta":if(b=fb("meta","content",d).get(c+(o.content||""))){for(w=0;w<b.length;w++)if(g=b[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(w,1);break e}}g=d.createElement(c),cn(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[$e]=r,xe(g),c=g}r.stateNode=c}else db(d,r.type,r.stateNode);else r.stateNode=hb(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?db(d,r.type,r.stateNode):hb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&zp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,r),$n(r),c&512&&(Pe||o===null||nr(o,o.return)),o!==null&&c&4&&zp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,r),$n(r),c&512&&(Pe||o===null||nr(o,o.return)),r.flags&32){d=r.stateNode;try{ii(d,"")}catch(W){he(r,r.return,W)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,zp(r,d,o!==null?o.memoizedProps:d)),c&1024&&(Gp=!0);break;case 6:if(Gn(s,r),$n(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(W){he(r,r.return,W)}}break;case 3:if(Rf=null,d=Ai,Ai=Sf(s.containerInfo),Gn(s,r),Ai=d,$n(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Zu(s.containerInfo)}catch(W){he(r,r.return,W)}Gp&&(Gp=!1,_E(r));break;case 4:c=Ai,Ai=Sf(r.stateNode.containerInfo),Gn(s,r),$n(r),Ai=c;break;case 12:Gn(s,r),$n(r);break;case 13:Gn(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Zp=Pn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$p(r,c)));break;case 22:d=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,Q=Kr,nt=Pe;if(Kr=Q||d,Pe=nt||V,Gn(s,r),Pe=nt,Kr=Q,$n(r),c&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Kr||Pe||Qa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=V.stateNode;var st=V.memoizedProps.style,X=st!=null&&st.hasOwnProperty("display")?st.display:null;w.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(W){he(V,V.return,W)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(W){he(V,V.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,$p(r,o))));break;case 19:Gn(s,r),$n(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,$p(r,c)));break;case 30:break;case 21:break;default:Gn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(hE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=qp(r);hf(r,g,d);break;case 5:var b=o.stateNode;o.flags&32&&(ii(b,""),o.flags&=-33);var w=qp(r);hf(r,w,b);break;case 3:case 4:var V=o.stateNode.containerInfo,Q=qp(r);Hp(r,Q,V);break;default:throw Error(i(161))}}catch(nt){he(r,r.return,nt)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function _E(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;_E(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Vs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mE(r,s.alternate,s),s=s.sibling}function Qa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ps(4,s,s.return),Qa(s);break;case 1:nr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&uE(s,s.return,o),Qa(s);break;case 27:Hu(s.stateNode);case 26:case 5:nr(s,s.return),Qa(s);break;case 22:s.memoizedState===null&&Qa(s);break;case 30:Qa(s);break;default:Qa(s)}r=r.sibling}}function Ns(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:Ns(d,g,o),Mu(4,g);break;case 1:if(Ns(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(Q){he(c,c.return,Q)}if(c=g,d=c.updateQueue,d!==null){var w=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)Q0(V[d],w)}catch(Q){he(c,c.return,Q)}}o&&b&64&&lE(g),Ou(g,g.return);break;case 27:fE(g);case 26:case 5:Ns(d,g,o),o&&c===null&&b&4&&cE(g),Ou(g,g.return);break;case 12:Ns(d,g,o);break;case 13:Ns(d,g,o),o&&b&4&&yE(d,g);break;case 22:g.memoizedState===null&&Ns(d,g,o),Ou(g,g.return);break;case 30:break;default:Ns(d,g,o)}s=s.sibling}}function Kp(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Tu(o))}function Qp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tu(r))}function ir(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)TE(r,s,o,c),s=s.sibling}function TE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ir(r,s,o,c),d&2048&&Mu(9,s);break;case 1:ir(r,s,o,c);break;case 3:ir(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Tu(r)));break;case 12:if(d&2048){ir(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,b=g.id,w=g.onPostCommit;typeof w=="function"&&w(b,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){he(s,s.return,V)}}else ir(r,s,o,c);break;case 13:ir(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?ir(r,s,o,c):ku(r,s):g._visibility&2?ir(r,s,o,c):(g._visibility|=2,Wo(r,s,o,c,(s.subtreeFlags&10256)!==0)),d&2048&&Kp(b,s);break;case 24:ir(r,s,o,c),d&2048&&Qp(s.alternate,s);break;default:ir(r,s,o,c)}}function Wo(r,s,o,c,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,b=s,w=o,V=c,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Wo(g,b,w,V,d),Mu(8,b);break;case 23:break;case 22:var nt=b.stateNode;b.memoizedState!==null?nt._visibility&2?Wo(g,b,w,V,d):ku(g,b):(nt._visibility|=2,Wo(g,b,w,V,d)),d&&Q&2048&&Kp(b.alternate,b);break;case 24:Wo(g,b,w,V,d),d&&Q&2048&&Qp(b.alternate,b);break;default:Wo(g,b,w,V,d)}s=s.sibling}}function ku(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:ku(o,c),d&2048&&Kp(c.alternate,c);break;case 24:ku(o,c),d&2048&&Qp(c.alternate,c);break;default:ku(o,c)}s=s.sibling}}var Lu=8192;function Zo(r){if(r.subtreeFlags&Lu)for(r=r.child;r!==null;)EE(r),r=r.sibling}function EE(r){switch(r.tag){case 26:Zo(r),r.flags&Lu&&r.memoizedState!==null&&qP(Ai,r.memoizedState,r.memoizedProps);break;case 5:Zo(r);break;case 3:case 4:var s=Ai;Ai=Sf(r.stateNode.containerInfo),Zo(r),Ai=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Lu,Lu=16777216,Zo(r),Lu=s):Zo(r));break;default:Zo(r)}}function bE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Uu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];en=c,SE(c,r)}bE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(r),r=r.sibling}function wE(r){switch(r.tag){case 0:case 11:case 15:Uu(r),r.flags&2048&&Ps(9,r,r.return);break;case 3:Uu(r);break;case 12:Uu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,ff(r)):Uu(r);break;default:Uu(r)}}function ff(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];en=c,SE(c,r)}bE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ps(8,s,s.return),ff(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,ff(s));break;default:ff(s)}r=r.sibling}}function SE(r,s){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:Ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Tu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,en=c;else t:for(o=r;en!==null;){c=en;var d=c.sibling,g=c.return;if(pE(c),c===o){en=null;break t}if(d!==null){d.return=g,en=d;break t}en=g}}}var sP={getCacheForType:function(r){var s=gn(Ye),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},aP=typeof WeakMap=="function"?WeakMap:Map,se=0,fe=null,Ht=null,Wt=0,ae=0,Kn=null,Ms=!1,Jo=!1,Yp=!1,Yr=0,Ie=0,Os=0,Ya=0,Xp=0,fi=0,tl=0,ju=null,Mn=null,Wp=!1,Zp=0,df=1/0,mf=null,ks=null,un=0,Ls=null,el=null,nl=0,Jp=0,tg=null,AE=null,Fu=0,eg=null;function Qn(){if((se&2)!==0&&Wt!==0)return Wt&-Wt;if(Z.T!==null){var r=qo;return r!==0?r:lg()}return vs()}function RE(){fi===0&&(fi=(Wt&536870912)===0||te?Yl():536870912);var r=hi.current;return r!==null&&(r.flags|=32),fi}function Yn(r,s,o){(r===fe&&(ae===2||ae===9)||r.cancelPendingCommit!==null)&&(il(r,0),Us(r,Wt,fi,!1)),Ir(r,o),((se&2)===0||r!==fe)&&(r===fe&&((se&2)===0&&(Ya|=o),Ie===4&&Us(r,Wt,fi,!1)),rr(r))}function IE(r,s,o){if((se&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||Ar(r,s),d=c?uP(r,s):rg(r,s,!0),g=c;do{if(d===0){Jo&&!c&&Us(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!oP(o)){d=rg(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var b=0;else b=r.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;t:{var w=r;d=ju;var V=w.current.memoizedState.isDehydrated;if(V&&(il(w,b).flags|=256),b=rg(w,b,!1),b!==2){if(Yp&&!V){w.errorRecoveryDisabledLanes|=g,Ya|=g,d=4;break t}g=Mn,Mn=d,g!==null&&(Mn===null?Mn=g:Mn.push.apply(Mn,g))}d=b}if(g=!1,d!==2)continue}}if(d===1){il(r,0),Us(r,s,0,!0);break}t:{switch(c=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Us(c,s,fi,!Ms);break t;case 2:Mn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Zp+300-Pn(),10<d)){if(Us(c,s,fi,!Ms),Sr(c,0,!0)!==0)break t;c.timeoutHandle=nb(CE.bind(null,c,o,Mn,mf,Wp,s,fi,Ya,tl,Ms,g,2,-0,0),d);break t}CE(c,o,Mn,mf,Wp,s,fi,Ya,tl,Ms,g,0,-0,0)}}break}while(!0);rr(r)}function CE(r,s,o,c,d,g,b,w,V,Q,nt,st,X,W){if(r.timeoutHandle=-1,st=s.subtreeFlags,(st&8192||(st&16785408)===16785408)&&(Ku={stylesheets:null,count:0,unsuspend:zP},EE(s),st=HP(),st!==null)){r.cancelPendingCommit=st(OE.bind(null,r,s,g,o,c,d,b,w,V,nt,1,X,W)),Us(r,g,b,!Q);return}OE(r,s,g,o,c,d,b,w,V)}function oP(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!qn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Us(r,s,o,c){s&=~Xp,s&=~Ya,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-re(d),b=1<<g;c[g]=-1,d&=~b}o!==0&&qi(r,o,s)}function pf(){return(se&6)===0?(Bu(0),!1):!0}function ng(){if(Ht!==null){if(ae===0)var r=Ht.return;else r=Ht,Br=qa=null,_p(r),Yo=null,Pu=0,r=Ht;for(;r!==null;)oE(r.alternate,r),r=r.return;Ht=null}}function il(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,AP(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),ng(),fe=r,Ht=o=Ur(r.current,null),Wt=s,ae=0,Kn=null,Ms=!1,Jo=Ar(r,s),Yp=!1,tl=fi=Xp=Ya=Os=Ie=0,Mn=ju=null,Wp=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-re(c),g=1<<d;s|=r[d],c&=~g}return Yr=s,kh(),o}function xE(r,s){zt=null,Z.H=ef,s===bu||s===Gh?(s=$0(),ae=3):s===q0?(s=$0(),ae=4):ae=s===KT?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,Ht===null&&(Ie=1,of(r,oi(s,r.current)))}function DE(){var r=Z.H;return Z.H=ef,r===null?ef:r}function PE(){var r=Z.A;return Z.A=sP,r}function ig(){Ie=4,Ms||(Wt&4194048)!==Wt&&hi.current!==null||(Jo=!0),(Os&134217727)===0&&(Ya&134217727)===0||fe===null||Us(fe,Wt,fi,!1)}function rg(r,s,o){var c=se;se|=2;var d=DE(),g=PE();(fe!==r||Wt!==s)&&(mf=null,il(r,s)),s=!1;var b=Ie;t:do try{if(ae!==0&&Ht!==null){var w=Ht,V=Kn;switch(ae){case 8:ng(),b=6;break t;case 3:case 2:case 9:case 6:hi.current===null&&(s=!0);var Q=ae;if(ae=0,Kn=null,rl(r,w,V,Q),o&&Jo){b=0;break t}break;default:Q=ae,ae=0,Kn=null,rl(r,w,V,Q)}}lP(),b=Ie;break}catch(nt){xE(r,nt)}while(!0);return s&&r.shellSuspendCounter++,Br=qa=null,se=c,Z.H=d,Z.A=g,Ht===null&&(fe=null,Wt=0,kh()),b}function lP(){for(;Ht!==null;)VE(Ht)}function uP(r,s){var o=se;se|=2;var c=DE(),d=PE();fe!==r||Wt!==s?(mf=null,df=Pn()+500,il(r,s)):Jo=Ar(r,s);t:do try{if(ae!==0&&Ht!==null){s=Ht;var g=Kn;e:switch(ae){case 1:ae=0,Kn=null,rl(r,s,g,1);break;case 2:case 9:if(H0(g)){ae=0,Kn=null,NE(s);break}s=function(){ae!==2&&ae!==9||fe!==r||(ae=7),rr(r)},g.then(s,s);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:H0(g)?(ae=0,Kn=null,NE(s)):(ae=0,Kn=null,rl(r,s,g,7));break;case 5:var b=null;switch(Ht.tag){case 26:b=Ht.memoizedState;case 5:case 27:var w=Ht;if(!b||mb(b)){ae=0,Kn=null;var V=w.sibling;if(V!==null)Ht=V;else{var Q=w.return;Q!==null?(Ht=Q,gf(Q)):Ht=null}break e}}ae=0,Kn=null,rl(r,s,g,5);break;case 6:ae=0,Kn=null,rl(r,s,g,6);break;case 8:ng(),Ie=6;break t;default:throw Error(i(462))}}cP();break}catch(nt){xE(r,nt)}while(!0);return Br=qa=null,Z.H=c,Z.A=d,se=o,Ht!==null?0:(fe=null,Wt=0,kh(),Ie)}function cP(){for(;Ht!==null&&!ms();)VE(Ht)}function VE(r){var s=sE(r.alternate,r,Yr);r.memoizedProps=r.pendingProps,s===null?gf(r):Ht=s}function NE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=JT(o,s,s.pendingProps,s.type,void 0,Wt);break;case 11:s=JT(o,s,s.pendingProps,s.type.render,s.ref,Wt);break;case 5:_p(s);default:oE(o,s),s=Ht=M0(s,Yr),s=sE(o,s,Yr)}r.memoizedProps=r.pendingProps,s===null?gf(r):Ht=s}function rl(r,s,o,c){Br=qa=null,_p(s),Yo=null,Pu=0;var d=s.return;try{if(JD(r,d,s,o,Wt)){Ie=1,of(r,oi(o,r.current)),Ht=null;return}}catch(g){if(d!==null)throw Ht=d,g;Ie=1,of(r,oi(o,r.current)),Ht=null;return}s.flags&32768?(te||c===1?r=!0:Jo||(Wt&536870912)!==0?r=!1:(Ms=r=!0,(c===2||c===9||c===3||c===6)&&(c=hi.current,c!==null&&c.tag===13&&(c.flags|=16384))),ME(s,r)):gf(s)}function gf(r){var s=r;do{if((s.flags&32768)!==0){ME(s,Ms);return}r=s.return;var o=eP(s.alternate,s,Yr);if(o!==null){Ht=o;return}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=r}while(s!==null);Ie===0&&(Ie=5)}function ME(r,s){do{var o=nP(r.alternate,r);if(o!==null){o.flags&=32767,Ht=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ht=r;return}Ht=r=o}while(r!==null);Ie=6,Ht=null}function OE(r,s,o,c,d,g,b,w,V){r.cancelPendingCommit=null;do yf();while(un!==0);if((se&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Qm,Wl(r,o,g,b,w,V),r===fe&&(Ht=fe=null,Wt=0),el=s,Ls=r,nl=o,Jp=g,tg=d,AE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,mP(Y,function(){return FE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,d=lt.p,lt.p=2,b=se,se|=4;try{iP(r,s,o)}finally{se=b,lt.p=d,Z.T=c}}un=1,kE(),LE(),UE()}}function kE(){if(un===1){un=0;var r=Ls,s=el,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=lt.p;lt.p=2;var d=se;se|=4;try{vE(s,r);var g=gg,b=S0(r.containerInfo),w=g.focusedElem,V=g.selectionRange;if(b!==w&&w&&w.ownerDocument&&w0(w.ownerDocument.documentElement,w)){if(V!==null&&qm(w)){var Q=V.start,nt=V.end;if(nt===void 0&&(nt=Q),"selectionStart"in w)w.selectionStart=Q,w.selectionEnd=Math.min(nt,w.value.length);else{var st=w.ownerDocument||document,X=st&&st.defaultView||window;if(X.getSelection){var W=X.getSelection(),Vt=w.textContent.length,It=Math.min(V.start,Vt),ce=V.end===void 0?It:Math.min(V.end,Vt);!W.extend&&It>ce&&(b=ce,ce=It,It=b);var G=b0(w,It),B=b0(w,ce);if(G&&B&&(W.rangeCount!==1||W.anchorNode!==G.node||W.anchorOffset!==G.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=st.createRange();K.setStart(G.node,G.offset),W.removeAllRanges(),It>ce?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(st=[],W=w;W=W.parentNode;)W.nodeType===1&&st.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<st.length;w++){var it=st[w];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}xf=!!pg,gg=pg=null}finally{se=d,lt.p=c,Z.T=o}}r.current=s,un=2}}function LE(){if(un===2){un=0;var r=Ls,s=el,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=lt.p;lt.p=2;var d=se;se|=4;try{mE(r,s.alternate,s)}finally{se=d,lt.p=c,Z.T=o}}un=3}}function UE(){if(un===4||un===3){un=0,To();var r=Ls,s=el,o=nl,c=AE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?un=5:(un=0,el=Ls=null,jE(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ks=null),Eo(o),s=s.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,d=lt.p,lt.p=2,Z.T=null;try{for(var g=r.onRecoverableError,b=0;b<c.length;b++){var w=c[b];g(w.value,{componentStack:w.stack})}}finally{Z.T=s,lt.p=d}}(nl&3)!==0&&yf(),rr(r),d=r.pendingLanes,(o&4194090)!==0&&(d&42)!==0?r===eg?Fu++:(Fu=0,eg=r):Fu=0,Bu(0)}}function jE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Tu(s)))}function yf(r){return kE(),LE(),UE(),FE()}function FE(){if(un!==5)return!1;var r=Ls,s=Jp;Jp=0;var o=Eo(nl),c=Z.T,d=lt.p;try{lt.p=32>o?32:o,Z.T=null,o=tg,tg=null;var g=Ls,b=nl;if(un=0,el=Ls=null,nl=0,(se&6)!==0)throw Error(i(331));var w=se;if(se|=4,wE(g.current),TE(g,g.current,b,o),se=w,Bu(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{lt.p=d,Z.T=c,jE(r,s)}}function BE(r,s,o){s=oi(o,s),s=Np(r.stateNode,s,2),r=Is(r,s,2),r!==null&&(Ir(r,2),rr(r))}function he(r,s,o){if(r.tag===3)BE(r,r,o);else for(;s!==null;){if(s.tag===3){BE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ks===null||!ks.has(c))){r=oi(o,r),o=GT(2),c=Is(s,o,2),c!==null&&($T(o,c,s,r),Ir(c,2),rr(c));break}}s=s.return}}function sg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new aP;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Yp=!0,d.add(o),r=hP.bind(null,r,s,o),s.then(r,r))}function hP(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,fe===r&&(Wt&o)===o&&(Ie===4||Ie===3&&(Wt&62914560)===Wt&&300>Pn()-Zp?(se&2)===0&&il(r,0):Xp|=o,tl===Wt&&(tl=0)),rr(r)}function zE(r,s){s===0&&(s=Xl()),r=jo(r,s),r!==null&&(Ir(r,s),rr(r))}function fP(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function dP(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),zE(r,o)}function mP(r,s){return Er(r,s)}var vf=null,sl=null,ag=!1,_f=!1,og=!1,Xa=0;function rr(r){r!==sl&&r.next===null&&(sl===null?vf=sl=r:sl=sl.next=r),_f=!0,ag||(ag=!0,gP())}function Bu(r,s){if(!og&&_f){og=!0;do for(var o=!1,c=vf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var b=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-re(42|r)+1)-1,g&=d&~(b&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,$E(c,g))}else g=Wt,g=Sr(c,c===fe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||Ar(c,g)||(o=!0,$E(c,g));c=c.next}while(o);og=!1}}function pP(){qE()}function qE(){_f=ag=!1;var r=0;Xa!==0&&(SP()&&(r=Xa),Xa=0);for(var s=Pn(),o=null,c=vf;c!==null;){var d=c.next,g=HE(c,s);g===0?(c.next=null,o===null?vf=d:o.next=d,d===null&&(sl=o)):(o=c,(r!==0||(g&3)!==0)&&(_f=!0)),c=d}Bu(r)}function HE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var b=31-re(g),w=1<<b,V=d[b];V===-1?((w&o)===0||(w&c)!==0)&&(d[b]=gs(w,s)):V<=s&&(r.expiredLanes|=w),g&=~w}if(s=fe,o=Wt,o=Sr(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ae===2||ae===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&zi(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Ar(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&zi(c),Eo(o)){case 2:case 8:o=k;break;case 32:o=Y;break;case 268435456:o=gt;break;default:o=Y}return c=GE.bind(null,r),o=Er(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&zi(c),r.callbackPriority=2,r.callbackNode=null,2}function GE(r,s){if(un!==0&&un!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(yf()&&r.callbackNode!==o)return null;var c=Wt;return c=Sr(r,r===fe?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(IE(r,c,s),HE(r,Pn()),r.callbackNode!=null&&r.callbackNode===o?GE.bind(null,r):null)}function $E(r,s){if(yf())return null;IE(r,s,!0)}function gP(){RP(function(){(se&6)!==0?Er(ps,pP):qE()})}function lg(){return Xa===0&&(Xa=Yl()),Xa}function KE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Io(""+r)}function QE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function yP(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=KE((d[ke]||null).action),b=c.submitter;b&&(s=(s=b[ke]||null)?KE(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var w=new Co("action","action",null,c,d);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Xa!==0){var V=b?QE(d,b):new FormData(d);Cp(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=b?QE(d,b):new FormData(d),Cp(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var ug=0;ug<Km.length;ug++){var cg=Km[ug],vP=cg.toLowerCase(),_P=cg[0].toUpperCase()+cg.slice(1);Si(vP,"on"+_P)}Si(I0,"onAnimationEnd"),Si(C0,"onAnimationIteration"),Si(x0,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(kD,"onTransitionRun"),Si(LD,"onTransitionStart"),Si(UD,"onTransitionCancel"),Si(D0,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zu));function YE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var b=c.length-1;0<=b;b--){var w=c[b],V=w.instance,Q=w.currentTarget;if(w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Q;try{g(d)}catch(nt){af(nt)}d.currentTarget=null,g=V}else for(b=0;b<c.length;b++){if(w=c[b],V=w.instance,Q=w.currentTarget,w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=Q;try{g(d)}catch(nt){af(nt)}d.currentTarget=null,g=V}}}}function Gt(r,s){var o=s[Jl];o===void 0&&(o=s[Jl]=new Set);var c=r+"__bubble";o.has(c)||(XE(s,r,2,!1),o.add(c))}function hg(r,s,o){var c=0;s&&(c|=4),XE(o,r,c,s)}var Tf="_reactListening"+Math.random().toString(36).slice(2);function fg(r){if(!r[Tf]){r[Tf]=!0,tu.forEach(function(o){o!=="selectionchange"&&(TP.has(o)||hg(o,!1,r),hg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Tf]||(s[Tf]=!0,hg("selectionchange",!1,s))}}function XE(r,s,o,c){switch(Tb(s)){case 2:var d=KP;break;case 8:d=QP;break;default:d=Rg}o=d.bind(null,s,o,r),d=void 0,!si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function dg(r,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var w=c.stateNode.containerInfo;if(w===d)break;if(b===4)for(b=c.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;w!==null;){if(b=Cr(w),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){c=g=b;continue t}w=w.parentNode}}c=c.return}Eh(function(){var Q=g,nt=ri(o),st=[];t:{var X=P0.get(r);if(X!==void 0){var W=Co,Vt=r;switch(r){case"keypress":if(Yi(o)===0)break t;case"keydown":case"keyup":W=Mo;break;case"focusin":Vt="focus",W=Po;break;case"focusout":Vt="blur",W=Po;break;case"beforeblur":case"afterblur":W=Po;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ai;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=xh;break;case I0:case C0:case x0:W=Vo;break;case D0:W=Ph;break;case"scroll":case"scrollend":W=bh;break;case"wheel":W=Oo;break;case"copy":case"cut":case"paste":W=No;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=fu;break;case"toggle":case"beforetoggle":W=Nh}var It=(s&4)!==0,ce=!It&&(r==="scroll"||r==="scrollend"),G=It?X!==null?X+"Capture":null:X;It=[];for(var B=Q,K;B!==null;){var it=B;if(K=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||K===null||G===null||(it=xa(B,G),it!=null&&It.push(qu(B,it,K))),ce)break;B=B.return}0<It.length&&(X=new W(X,Vt,null,o,nt),st.push({event:X,listeners:It}))}}if((s&7)===0){t:{if(X=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",X&&o!==Vr&&(Vt=o.relatedTarget||o.fromElement)&&(Cr(Vt)||Vt[ni]))break t;if((W||X)&&(X=nt.window===nt?nt:(X=nt.ownerDocument)?X.defaultView||X.parentWindow:window,W?(Vt=o.relatedTarget||o.toElement,W=Q,Vt=Vt?Cr(Vt):null,Vt!==null&&(ce=l(Vt),It=Vt.tag,Vt!==ce||It!==5&&It!==27&&It!==6)&&(Vt=null)):(W=null,Vt=Q),W!==Vt)){if(It=ai,it="onMouseLeave",G="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(It=fu,it="onPointerLeave",G="onPointerEnter",B="pointer"),ce=W==null?X:Gi(W),K=Vt==null?X:Gi(Vt),X=new It(it,B+"leave",W,o,nt),X.target=ce,X.relatedTarget=K,it=null,Cr(nt)===Q&&(It=new It(G,B+"enter",Vt,o,nt),It.target=K,It.relatedTarget=ce,it=It),ce=it,W&&Vt)e:{for(It=W,G=Vt,B=0,K=It;K;K=al(K))B++;for(K=0,it=G;it;it=al(it))K++;for(;0<B-K;)It=al(It),B--;for(;0<K-B;)G=al(G),K--;for(;B--;){if(It===G||G!==null&&It===G.alternate)break e;It=al(It),G=al(G)}It=null}else It=null;W!==null&&WE(st,X,W,It,!1),Vt!==null&&ce!==null&&WE(st,ce,Vt,It,!0)}}t:{if(X=Q?Gi(Q):window,W=X.nodeName&&X.nodeName.toLowerCase(),W==="select"||W==="input"&&X.type==="file")var Et=g0;else if(Qe(X))if(y0)Et=ND;else{Et=PD;var qt=DD}else W=X.nodeName,!W||W.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&su(Q.elementType)&&(Et=g0):Et=VD;if(Et&&(Et=Et(r,Q))){Lr(st,Et,o,nt);break t}qt&&qt(r,X,Q),r==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&bs(X,"number",X.value)}switch(qt=Q?Gi(Q):window,r){case"focusin":(Qe(qt)||qt.contentEditable==="true")&&(ko=qt,Hm=Q,pu=null);break;case"focusout":pu=Hm=ko=null;break;case"mousedown":Gm=!0;break;case"contextmenu":case"mouseup":case"dragend":Gm=!1,A0(st,o,nt);break;case"selectionchange":if(OD)break;case"keydown":case"keyup":A0(st,o,nt)}var St;if(Zi)t:{switch(r){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Yt?J(r,o)&&(Ct="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ct="onCompositionStart");Ct&&(E&&o.locale!=="ko"&&(Yt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Yt&&(St=ou()):(Qi=nt,ws="value"in Qi?Qi.value:Qi.textContent,Yt=!0)),qt=Ef(Q,Ct),0<qt.length&&(Ct=new cu(Ct,r,null,o,nt),st.push({event:Ct,listeners:qt}),St?Ct.data=St:(St=ft(o),St!==null&&(Ct.data=St)))),(St=v?Ke(r,o):Xt(r,o))&&(Ct=Ef(Q,"onBeforeInput"),0<Ct.length&&(qt=new cu("onBeforeInput","beforeinput",null,o,nt),st.push({event:qt,listeners:Ct}),qt.data=St)),yP(st,r,Q,o,nt)}YE(st,s)})}function qu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Ef(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=xa(r,o),d!=null&&c.unshift(qu(r,d,g)),d=xa(r,s),d!=null&&c.push(qu(r,d,g))),r.tag===3)return c;r=r.return}return[]}function al(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function WE(r,s,o,c,d){for(var g=s._reactName,b=[];o!==null&&o!==c;){var w=o,V=w.alternate,Q=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||Q===null||(V=Q,d?(Q=xa(o,g),Q!=null&&b.unshift(qu(o,Q,V))):d||(Q=xa(o,g),Q!=null&&b.push(qu(o,Q,V)))),o=o.return}b.length!==0&&r.push({event:s,listeners:b})}var EP=/\r\n?/g,bP=/\u0000|\uFFFD/g;function ZE(r){return(typeof r=="string"?r:""+r).replace(EP,`
`).replace(bP,"")}function JE(r,s){return s=ZE(s),ZE(r)===s}function bf(){}function ue(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||ii(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&ii(r,""+c);break;case"className":$i(r,"class",c);break;case"tabIndex":$i(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(r,o,c);break;case"style":ru(r,c,g);break;case"data":if(s!=="object"){$i(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Io(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ue(r,s,"name",d.name,d,null),ue(r,s,"formEncType",d.formEncType,d,null),ue(r,s,"formMethod",d.formMethod,d,null),ue(r,s,"formTarget",d.formTarget,d,null)):(ue(r,s,"encType",d.encType,d,null),ue(r,s,"method",d.method,d,null),ue(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Io(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=bf);break;case"onScroll":c!=null&&Gt("scroll",r);break;case"onScrollEnd":c!=null&&Gt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Io(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Gt("beforetoggle",r),Gt("toggle",r),Es(r,"popover",c);break;case"xlinkActuate":an(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":an(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":an(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":an(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":an(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":an(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":an(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":an(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":an(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Es(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lm.get(o)||o,Es(r,o,c))}}function mg(r,s,o,c,d,g){switch(o){case"style":ru(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?ii(r,c):(typeof c=="number"||typeof c=="bigint")&&ii(r,""+c);break;case"onScroll":c!=null&&Gt("scroll",r);break;case"onScrollEnd":c!=null&&Gt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=bf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bo.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[ke]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break t}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Es(r,o,c)}}}function cn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Gt("error",r),Gt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(r,s,g,b,o,null)}}d&&ue(r,s,"srcSet",o.srcSet,o,null),c&&ue(r,s,"src",o.src,o,null);return;case"input":Gt("invalid",r);var w=g=b=d=null,V=null,Q=null;for(c in o)if(o.hasOwnProperty(c)){var nt=o[c];if(nt!=null)switch(c){case"name":d=nt;break;case"type":b=nt;break;case"checked":V=nt;break;case"defaultChecked":Q=nt;break;case"value":g=nt;break;case"defaultValue":w=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,s));break;default:ue(r,s,c,nt,o,null)}}Ra(r,g,w,V,Q,b,d,!1),Ro(r);return;case"select":Gt("invalid",r),c=b=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":b=w;break;case"multiple":c=w;default:ue(r,s,d,w,o,null)}s=g,o=b,r.multiple=!!c,s!=null?Pr(r,!!c,s,!1):o!=null&&Pr(r,!!c,o,!0);return;case"textarea":Gt("invalid",r),g=d=c=null;for(b in o)if(o.hasOwnProperty(b)&&(w=o[b],w!=null))switch(b){case"value":c=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ue(r,s,b,w,o,null)}Ia(r,c,d,g),Ro(r);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ue(r,s,V,c,o,null)}return;case"dialog":Gt("beforetoggle",r),Gt("toggle",r),Gt("cancel",r),Gt("close",r);break;case"iframe":case"object":Gt("load",r);break;case"video":case"audio":for(c=0;c<zu.length;c++)Gt(zu[c],r);break;case"image":Gt("error",r),Gt("load",r);break;case"details":Gt("toggle",r);break;case"embed":case"source":case"link":Gt("error",r),Gt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in o)if(o.hasOwnProperty(Q)&&(c=o[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ue(r,s,Q,c,o,null)}return;default:if(su(s)){for(nt in o)o.hasOwnProperty(nt)&&(c=o[nt],c!==void 0&&mg(r,s,nt,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&ue(r,s,w,c,o,null))}function wP(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,b=null,w=null,V=null,Q=null,nt=null;for(W in o){var st=o[W];if(o.hasOwnProperty(W)&&st!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=st;default:c.hasOwnProperty(W)||ue(r,s,W,null,c,st)}}for(var X in c){var W=c[X];if(st=o[X],c.hasOwnProperty(X)&&(W!=null||st!=null))switch(X){case"type":g=W;break;case"name":d=W;break;case"checked":Q=W;break;case"defaultChecked":nt=W;break;case"value":b=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==st&&ue(r,s,X,W,c,st)}}zn(r,b,w,V,Q,nt,g,d);return;case"select":W=b=w=X=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:c.hasOwnProperty(g)||ue(r,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":X=g;break;case"defaultValue":w=g;break;case"multiple":b=g;default:g!==V&&ue(r,s,d,g,c,V)}s=w,o=b,c=W,X!=null?Pr(r,!!o,X,!1):!!c!=!!o&&(s!=null?Pr(r,!!o,s,!0):Pr(r,!!o,o?[]:"",!1));return;case"textarea":W=X=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ue(r,s,w,null,c,d)}for(b in c)if(d=c[b],g=o[b],c.hasOwnProperty(b)&&(d!=null||g!=null))switch(b){case"value":X=d;break;case"defaultValue":W=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&ue(r,s,b,d,c,g)}oe(r,X,W);return;case"option":for(var Vt in o)if(X=o[Vt],o.hasOwnProperty(Vt)&&X!=null&&!c.hasOwnProperty(Vt))switch(Vt){case"selected":r.selected=!1;break;default:ue(r,s,Vt,null,c,X)}for(V in c)if(X=c[V],W=o[V],c.hasOwnProperty(V)&&X!==W&&(X!=null||W!=null))switch(V){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ue(r,s,V,X,c,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var It in o)X=o[It],o.hasOwnProperty(It)&&X!=null&&!c.hasOwnProperty(It)&&ue(r,s,It,null,c,X);for(Q in c)if(X=c[Q],W=o[Q],c.hasOwnProperty(Q)&&X!==W&&(X!=null||W!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:ue(r,s,Q,X,c,W)}return;default:if(su(s)){for(var ce in o)X=o[ce],o.hasOwnProperty(ce)&&X!==void 0&&!c.hasOwnProperty(ce)&&mg(r,s,ce,void 0,c,X);for(nt in c)X=c[nt],W=o[nt],!c.hasOwnProperty(nt)||X===W||X===void 0&&W===void 0||mg(r,s,nt,X,c,W);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&ue(r,s,G,null,c,X);for(st in c)X=c[st],W=o[st],!c.hasOwnProperty(st)||X===W||X==null&&W==null||ue(r,s,st,X,c,W)}var pg=null,gg=null;function wf(r){return r.nodeType===9?r:r.ownerDocument}function tb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function yg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var vg=null;function SP(){var r=window.event;return r&&r.type==="popstate"?r===vg?!1:(vg=r,!0):(vg=null,!1)}var nb=typeof setTimeout=="function"?setTimeout:void 0,AP=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,RP=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(r){return ib.resolve(null).then(r).catch(IP)}:nb;function IP(r){setTimeout(function(){throw r})}function js(r){return r==="head"}function rb(r,s){var o=s,c=0,d=0;do{var g=o.nextSibling;if(r.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var b=r.ownerDocument;if(o&1&&Hu(b.documentElement),o&2&&Hu(b.body),o&4)for(o=b.head,Hu(o),b=o.firstChild;b;){var w=b.nextSibling,V=b.nodeName;b[ba]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=w}}if(d===0){r.removeChild(g),Zu(s);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Zu(s)}function _g(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":_g(o),Ts(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function CP(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ba])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ri(r.nextSibling),r===null)break}return null}function xP(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Ri(r.nextSibling),r===null))return null;return r}function Tg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function DP(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ri(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var Eg=null;function sb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function ab(r,s,o){switch(s=wf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Hu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);Ts(r)}var di=new Map,ob=new Set;function Sf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Xr=lt.d;lt.d={f:PP,r:VP,D:NP,C:MP,L:OP,m:kP,X:UP,S:LP,M:jP};function PP(){var r=Xr.f(),s=pf();return r||s}function VP(r){var s=Hi(r);s!==null&&s.tag===5&&s.type==="form"?IT(s):Xr.r(r)}var ol=typeof document>"u"?null:document;function lb(r,s,o){var c=ol;if(c&&typeof s=="string"&&s){var d=Le(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ob.has(d)||(ob.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),cn(s,"link",r),xe(s),c.head.appendChild(s)))}}function NP(r){Xr.D(r),lb("dns-prefetch",r,null)}function MP(r,s){Xr.C(r,s),lb("preconnect",r,s)}function OP(r,s,o){Xr.L(r,s,o);var c=ol;if(c&&r&&s){var d='link[rel="preload"][as="'+Le(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Le(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Le(o.imageSizes)+'"]')):d+='[href="'+Le(r)+'"]';var g=d;switch(s){case"style":g=ll(r);break;case"script":g=ul(r)}di.has(g)||(r=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),di.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Gu(g))||s==="script"&&c.querySelector($u(g))||(s=c.createElement("link"),cn(s,"link",r),xe(s),c.head.appendChild(s)))}}function kP(r,s){Xr.m(r,s);var o=ol;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Le(c)+'"][href="'+Le(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=ul(r)}if(!di.has(g)&&(r=y({rel:"modulepreload",href:r},s),di.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($u(g)))return}c=o.createElement("link"),cn(c,"link",r),xe(c),o.head.appendChild(c)}}}function LP(r,s,o){Xr.S(r,s,o);var c=ol;if(c&&r){var d=wn(c).hoistableStyles,g=ll(r);s=s||"default";var b=d.get(g);if(!b){var w={loading:0,preload:null};if(b=c.querySelector(Gu(g)))w.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},o),(o=di.get(g))&&bg(r,o);var V=b=c.createElement("link");xe(V),cn(V,"link",r),V._p=new Promise(function(Q,nt){V.onload=Q,V.onerror=nt}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Af(b,s,c)}b={type:"stylesheet",instance:b,count:1,state:w},d.set(g,b)}}}function UP(r,s){Xr.X(r,s);var o=ol;if(o&&r){var c=wn(o).hoistableScripts,d=ul(r),g=c.get(d);g||(g=o.querySelector($u(d)),g||(r=y({src:r,async:!0},s),(s=di.get(d))&&wg(r,s),g=o.createElement("script"),xe(g),cn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function jP(r,s){Xr.M(r,s);var o=ol;if(o&&r){var c=wn(o).hoistableScripts,d=ul(r),g=c.get(d);g||(g=o.querySelector($u(d)),g||(r=y({src:r,async:!0,type:"module"},s),(s=di.get(d))&&wg(r,s),g=o.createElement("script"),xe(g),cn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function ub(r,s,o,c){var d=(d=Pt.current)?Sf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ll(o.href),o=wn(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=ll(o.href);var g=wn(d).hoistableStyles,b=g.get(r);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,b),(g=d.querySelector(Gu(r)))&&!g._p&&(b.instance=g,b.state.loading=5),di.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},di.set(r,o),g||FP(d,r,o,b.state))),s&&c===null)throw Error(i(528,""));return b}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ul(o),o=wn(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function ll(r){return'href="'+Le(r)+'"'}function Gu(r){return'link[rel="stylesheet"]['+r+"]"}function cb(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function FP(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),cn(s,"link",o),xe(s),r.head.appendChild(s))}function ul(r){return'[src="'+Le(r)+'"]'}function $u(r){return"script[async]"+r}function hb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Le(o.href)+'"]');if(c)return s.instance=c,xe(c),c;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),xe(c),cn(c,"style",d),Af(c,o.precedence,r),s.instance=c;case"stylesheet":d=ll(o.href);var g=r.querySelector(Gu(d));if(g)return s.state.loading|=4,s.instance=g,xe(g),g;c=cb(o),(d=di.get(d))&&bg(c,d),g=(r.ownerDocument||r).createElement("link"),xe(g);var b=g;return b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),cn(g,"link",c),s.state.loading|=4,Af(g,o.precedence,r),s.instance=g;case"script":return g=ul(o.src),(d=r.querySelector($u(g)))?(s.instance=d,xe(d),d):(c=o,(d=di.get(g))&&(c=y({},o),wg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),xe(d),cn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Af(c,o.precedence,r));return s.instance}function Af(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,b=0;b<c.length;b++){var w=c[b];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function bg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function wg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Rf=null;function fb(r,s,o){if(Rf===null){var c=new Map,d=Rf=new Map;d.set(o,c)}else d=Rf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[ba]||g[$e]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=r+b;var w=c.get(b);w?w.push(g):c.set(b,[g])}}return c}function db(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function BP(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function mb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Ku=null;function zP(){}function qP(r,s,o){if(Ku===null)throw Error(i(475));var c=Ku;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ll(o.href),g=r.querySelector(Gu(d));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=If.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=g,xe(g);return}g=r.ownerDocument||r,o=cb(o),(d=di.get(d))&&bg(o,d),g=g.createElement("link"),xe(g);var b=g;b._p=new Promise(function(w,V){b.onload=w,b.onerror=V}),cn(g,"link",o),s.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=If.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function HP(){if(Ku===null)throw Error(i(475));var r=Ku;return r.stylesheets&&r.count===0&&Sg(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Sg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function If(){if(this.count--,this.count===0){if(this.stylesheets)Sg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cf=null;function Sg(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cf=new Map,s.forEach(GP,r),Cf=null,If.call(r))}function GP(r,s){if(!(s.state.loading&4)){var o=Cf.get(r);if(o)var c=o.get(null);else{o=new Map,Cf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var b=d[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),c=b)}c&&o.set(null,c)}d=s.instance,b=d.getAttribute("data-precedence"),g=o.get(b)||c,g===c&&o.set(null,d),o.set(b,d),this.count++,c=If.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Qu={$$typeof:H,Provider:null,Consumer:null,_currentValue:yt,_currentValue2:yt,_threadCount:0};function $P(r,s,o,c,d,g,b,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.hiddenUpdates=Rr(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function pb(r,s,o,c,d,g,b,w,V,Q,nt,st){return r=new $P(r,s,o,b,w,V,Q,st),s=1,g===!0&&(s|=24),g=Hn(3,null,null,s),r.current=g,g.stateNode=r,s=sp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},up(g),r}function gb(r){return r?(r=Fo,r):Fo}function yb(r,s,o,c,d,g){d=gb(d),c.context===null?c.context=d:c.pendingContext=d,c=Rs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=Is(r,c,s),o!==null&&(Yn(o,r,s),Su(o,r,s))}function vb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Ag(r,s){vb(r,s),(r=r.alternate)&&vb(r,s)}function _b(r){if(r.tag===13){var s=jo(r,67108864);s!==null&&Yn(s,r,67108864),Ag(r,67108864)}}var xf=!0;function KP(r,s,o,c){var d=Z.T;Z.T=null;var g=lt.p;try{lt.p=2,Rg(r,s,o,c)}finally{lt.p=g,Z.T=d}}function QP(r,s,o,c){var d=Z.T;Z.T=null;var g=lt.p;try{lt.p=8,Rg(r,s,o,c)}finally{lt.p=g,Z.T=d}}function Rg(r,s,o,c){if(xf){var d=Ig(c);if(d===null)dg(r,s,c,Df,o),Eb(r,c);else if(XP(d,r,s,o,c))c.stopPropagation();else if(Eb(r,c),s&4&&-1<YP.indexOf(r)){for(;d!==null;){var g=Hi(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Bn(g.pendingLanes);if(b!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var V=1<<31-re(b);w.entanglements[1]|=V,b&=~V}rr(g),(se&6)===0&&(df=Pn()+500,Bu(0))}}break;case 13:w=jo(g,2),w!==null&&Yn(w,g,2),pf(),Ag(g,2)}if(g=Ig(c),g===null&&dg(r,s,c,Df,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else dg(r,s,c,null,o)}}function Ig(r){return r=ri(r),Cg(r)}var Df=null;function Cg(r){if(Df=null,r=Cr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Df=r,null}function Tb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dh()){case ps:return 2;case k:return 8;case Y:case et:return 32;case gt:return 268435456;default:return 32}default:return 32}}var xg=!1,Fs=null,Bs=null,zs=null,Yu=new Map,Xu=new Map,qs=[],YP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eb(r,s){switch(r){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Yu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(s.pointerId)}}function Wu(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Hi(s),s!==null&&_b(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function XP(r,s,o,c,d){switch(s){case"focusin":return Fs=Wu(Fs,r,s,o,c,d),!0;case"dragenter":return Bs=Wu(Bs,r,s,o,c,d),!0;case"mouseover":return zs=Wu(zs,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return Yu.set(g,Wu(Yu.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Xu.set(g,Wu(Xu.get(g)||null,r,s,o,c,d)),!0}return!1}function bb(r){var s=Cr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,mh(r.priority,function(){if(o.tag===13){var c=Qn();c=ys(c);var d=jo(o,c);d!==null&&Yn(d,o,c),Ag(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ig(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Vr=c,o.target.dispatchEvent(c),Vr=null}else return s=Hi(o),s!==null&&_b(s),r.blockedOn=o,!1;s.shift()}return!0}function wb(r,s,o){Pf(r)&&o.delete(s)}function WP(){xg=!1,Fs!==null&&Pf(Fs)&&(Fs=null),Bs!==null&&Pf(Bs)&&(Bs=null),zs!==null&&Pf(zs)&&(zs=null),Yu.forEach(wb),Xu.forEach(wb)}function Vf(r,s){r.blockedOn===s&&(r.blockedOn=null,xg||(xg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,WP)))}var Nf=null;function Sb(r){Nf!==r&&(Nf=r,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Nf===r&&(Nf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Cg(c||o)===null)continue;break}var g=Hi(o);g!==null&&(r.splice(s,3),s-=3,Cp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Zu(r){function s(V){return Vf(V,r)}Fs!==null&&Vf(Fs,r),Bs!==null&&Vf(Bs,r),zs!==null&&Vf(zs,r),Yu.forEach(s),Xu.forEach(s);for(var o=0;o<qs.length;o++){var c=qs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<qs.length&&(o=qs[0],o.blockedOn===null);)bb(o),o.blockedOn===null&&qs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],b=d[ke]||null;if(typeof g=="function")b||Sb(o);else if(b){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,b=g[ke]||null)w=b.formAction;else if(Cg(d)!==null)continue}else w=b.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),Sb(o)}}}function Dg(r){this._internalRoot=r}Mf.prototype.render=Dg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Qn();yb(o,c,r,s,null,null)},Mf.prototype.unmount=Dg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;yb(r.current,2,null,r,null,null),pf(),s[ni]=null}};function Mf(r){this._internalRoot=r}Mf.prototype.unstable_scheduleHydration=function(r){if(r){var s=vs();r={blockedOn:null,target:r,priority:s};for(var o=0;o<qs.length&&s!==0&&s<qs[o].priority;o++);qs.splice(o,0,r),o===0&&bb(r)}};var Ab=t.version;if(Ab!=="19.1.1")throw Error(i(527,Ab,"19.1.1"));lt.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(s),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var ZP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{pt=Of.inject(ZP),wt=Of}catch{}}return tc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=BT,g=zT,b=qT,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=pb(r,1,!1,null,null,o,c,d,g,b,w,null),r[ni]=s.current,fg(r),new Dg(s)},tc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=BT,b=zT,w=qT,V=null,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(Q=o.formState)),s=pb(r,1,!0,s,o??null,c,d,g,b,w,V,Q),s.context=gb(null),o=s.current,c=Qn(),c=ys(c),d=Rs(c),d.callback=null,Is(o,d,c),o=c,s.current.lanes=o,Ir(s,o),rr(s),r[ni]=s.current,fg(r),new Mf(s)},tc.version="19.1.1",tc}var Ob;function u2(){if(Ob)return Ng.exports;Ob=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ng.exports=l2(),Ng.exports}var c2=u2();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kb="popstate";function h2(e={}){function t(i,a){let{pathname:l,search:u,hash:h}=i.location;return yy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:Ic(a)}return d2(t,n,null,e)}function _e(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function f2(){return Math.random().toString(36).substring(2,10)}function Lb(e,t){return{usr:e.state,key:e.key,idx:t}}function yy(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?kl(t):t,state:n,key:t&&t.key||i||f2()}}function Ic({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function kl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function d2(e,t,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",m=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let P=y(),U=P==null?null:P-p;p=P,m&&m({action:h,location:x.location,delta:U})}function T(P,U){h="PUSH";let N=yy(x.location,P,U);p=y()+1;let H=Lb(N,p),ut=x.createHref(N);try{u.pushState(H,"",ut)}catch(tt){if(tt instanceof DOMException&&tt.name==="DataCloneError")throw tt;a.location.assign(ut)}l&&m&&m({action:h,location:x.location,delta:1})}function A(P,U){h="REPLACE";let N=yy(x.location,P,U);p=y();let H=Lb(N,p),ut=x.createHref(N);u.replaceState(H,"",ut),l&&m&&m({action:h,location:x.location,delta:0})}function D(P){return m2(P)}let x={get action(){return h},get location(){return e(a,u)},listen(P){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(kb,_),m=P,()=>{a.removeEventListener(kb,_),m=null}},createHref(P){return t(a,P)},createURL:D,encodeLocation(P){let U=D(P);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:A,go(P){return u.go(P)}};return x}function m2(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),_e(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ic(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function m1(e,t,n="/"){return p2(e,t,n,!1)}function p2(e,t,n,i){let a=typeof t=="string"?kl(t):t,l=rs(a.pathname||"/",n);if(l==null)return null;let u=p1(e);g2(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=I2(l);h=A2(u[m],p,i)}return h}function p1(e,t=[],n=[],i="",a=!1){let l=(u,h,m=a,p)=>{let y={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&m)return;_e(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=es([i,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(_e(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),p1(u.children,t,T,_,m)),!(u.path==null&&!u.index)&&t.push({path:_,score:w2(_,u.index),routesMeta:T})};return e.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let m of g1(u.path))l(u,h,!0,m)}),t}function g1(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=g1(i.join("/")),h=[];return h.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&h.push(...u),h.map(m=>e.startsWith("/")&&m===""?"/":m)}function g2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:S2(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var y2=/^:[\w-]+$/,v2=3,_2=2,T2=1,E2=10,b2=-2,Ub=e=>e==="*";function w2(e,t){let n=e.split("/"),i=n.length;return n.some(Ub)&&(i+=b2),t&&(i+=_2),n.filter(a=>!Ub(a)).reduce((a,l)=>a+(y2.test(l)?v2:l===""?T2:E2),i)}function S2(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function A2(e,t,n=!1){let{routesMeta:i}=e,a={},l="/",u=[];for(let h=0;h<i.length;++h){let m=i[h],p=h===i.length-1,y=l==="/"?t:t.slice(l.length)||"/",_=_d({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),T=m.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=_d({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:es([l,_.pathname]),pathnameBase:P2(es([l,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(l=es([l,_.pathnameBase]))}return u}function _d(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=R2(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},T)=>{if(y==="*"){let D=h[T]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const A=h[T];return _&&!A?p[y]=void 0:p[y]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:e}}function R2(e,t=!1,n=!0){Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(i.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function I2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function rs(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function C2(e,t="/"){let{pathname:n,search:i="",hash:a=""}=typeof e=="string"?kl(e):e;return{pathname:n?n.startsWith("/")?n:x2(n,t):t,search:V2(i),hash:N2(a)}}function x2(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Lg(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D2(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Iv(e){let t=D2(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function Cv(e,t,n,i=!1){let a;typeof e=="string"?a=kl(e):(a={...e},_e(!a.pathname||!a.pathname.includes("?"),Lg("?","pathname","search",a)),_e(!a.pathname||!a.pathname.includes("#"),Lg("#","pathname","hash",a)),_e(!a.search||!a.search.includes("#"),Lg("#","search","hash",a)));let l=e===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let _=t.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;a.pathname=T.join("/")}h=_>=0?t[_]:"/"}let m=C2(a,h),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var es=e=>e.join("/").replace(/\/\/+/g,"/"),P2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function M2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var y1=["POST","PUT","PATCH","DELETE"];new Set(y1);var O2=["GET",...y1];new Set(O2);var Ll=z.createContext(null);Ll.displayName="DataRouter";var Wd=z.createContext(null);Wd.displayName="DataRouterState";z.createContext(!1);var v1=z.createContext({isTransitioning:!1});v1.displayName="ViewTransition";var k2=z.createContext(new Map);k2.displayName="Fetchers";var L2=z.createContext(null);L2.displayName="Await";var Ui=z.createContext(null);Ui.displayName="Navigation";var $c=z.createContext(null);$c.displayName="Location";var Tr=z.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var xv=z.createContext(null);xv.displayName="RouteError";function U2(e,{relative:t}={}){_e(Ul(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=z.useContext(Ui),{hash:a,pathname:l,search:u}=Kc(e,{relative:t}),h=l;return n!=="/"&&(h=l==="/"?n:es([n,l])),i.createHref({pathname:h,search:u,hash:a})}function Ul(){return z.useContext($c)!=null}function pa(){return _e(Ul(),"useLocation() may be used only in the context of a <Router> component."),z.useContext($c).location}var _1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function T1(e){z.useContext(Ui).static||z.useLayoutEffect(e)}function Zd(){let{isDataRoute:e}=z.useContext(Tr);return e?W2():j2()}function j2(){_e(Ul(),"useNavigate() may be used only in the context of a <Router> component.");let e=z.useContext(Ll),{basename:t,navigator:n}=z.useContext(Ui),{matches:i}=z.useContext(Tr),{pathname:a}=pa(),l=JSON.stringify(Iv(i)),u=z.useRef(!1);return T1(()=>{u.current=!0}),z.useCallback((m,p={})=>{if(Mi(u.current,_1),!u.current)return;if(typeof m=="number"){n.go(m);return}let y=Cv(m,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:es([t,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[t,n,l,a,e])}z.createContext(null);function Kc(e,{relative:t}={}){let{matches:n}=z.useContext(Tr),{pathname:i}=pa(),a=JSON.stringify(Iv(n));return z.useMemo(()=>Cv(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function F2(e,t){return E1(e,t)}function E1(e,t,n,i,a){_e(Ul(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=z.useContext(Ui),{matches:u}=z.useContext(Tr),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let N=_&&_.path||"";b1(p,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let T=pa(),A;if(t){let N=typeof t=="string"?kl(t):t;_e(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),A=N}else A=T;let D=A.pathname||"/",x=D;if(y!=="/"){let N=y.replace(/^\//,"").split("/");x="/"+D.replace(/^\//,"").split("/").slice(N.length).join("/")}let P=m1(e,{pathname:x});Mi(_||P!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Mi(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=G2(P&&P.map(N=>Object.assign({},N,{params:Object.assign({},m,N.params),pathname:es([y,l.encodeLocation?l.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:es([y,l.encodeLocation?l.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,n,i,a);return t&&U?z.createElement($c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},U):U}function B2(){let e=X2(),t=M2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:a},n):null,u)}var z2=z.createElement(B2,null),q2=class extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?z.createElement(Tr.Provider,{value:this.props.routeContext},z.createElement(xv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function H2({routeContext:e,match:t,children:n}){let i=z.useContext(Ll);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(Tr.Provider,{value:e},n)}function G2(e,t=[],n=null,i=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=n?.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);_e(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:_,errors:T}=n,A=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||A){h=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((p,y,_)=>{let T,A=!1,D=null,x=null;n&&(T=u&&y.route.id?u[y.route.id]:void 0,D=y.route.errorElement||z2,h&&(m<0&&_===0?(b1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):m===_&&(A=!0,x=y.route.hydrateFallbackElement||null)));let P=t.concat(l.slice(0,_+1)),U=()=>{let N;return T?N=D:A?N=x:y.route.Component?N=z.createElement(y.route.Component,null):y.route.element?N=y.route.element:N=p,z.createElement(H2,{match:y,routeContext:{outlet:p,matches:P,isDataRoute:n!=null},children:N})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?z.createElement(q2,{location:n.location,revalidation:n.revalidation,component:D,error:T,children:U(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:i}):U()},null)}function Dv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $2(e){let t=z.useContext(Ll);return _e(t,Dv(e)),t}function K2(e){let t=z.useContext(Wd);return _e(t,Dv(e)),t}function Q2(e){let t=z.useContext(Tr);return _e(t,Dv(e)),t}function Pv(e){let t=Q2(e),n=t.matches[t.matches.length-1];return _e(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function Y2(){return Pv("useRouteId")}function X2(){let e=z.useContext(xv),t=K2("useRouteError"),n=Pv("useRouteError");return e!==void 0?e:t.errors?.[n]}function W2(){let{router:e}=$2("useNavigate"),t=Pv("useNavigate"),n=z.useRef(!1);return T1(()=>{n.current=!0}),z.useCallback(async(a,l={})=>{Mi(n.current,_1),n.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var jb={};function b1(e,t,n){!t&&!jb[e]&&(jb[e]=!0,Mi(!1,n))}z.memo(Z2);function Z2({routes:e,future:t,state:n,unstable_onError:i}){return E1(e,void 0,n,i,t)}function w1({to:e,replace:t,state:n,relative:i}){_e(Ul(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=z.useContext(Ui);Mi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=z.useContext(Tr),{pathname:u}=pa(),h=Zd(),m=Cv(e,Iv(l),u,i==="path"),p=JSON.stringify(m);return z.useEffect(()=>{h(JSON.parse(p),{replace:t,state:n,relative:i})},[h,p,i,t,n]),null}function sc(e){_e(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function J2({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){_e(!Ul(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=kl(n));let{pathname:m="/",search:p="",hash:y="",state:_=null,key:T="default"}=n,A=z.useMemo(()=>{let D=rs(m,u);return D==null?null:{location:{pathname:D,search:p,hash:y,state:_,key:T},navigationType:i}},[u,m,p,y,_,T,i]);return Mi(A!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:z.createElement(Ui.Provider,{value:h},z.createElement($c.Provider,{children:t,value:A}))}function tV({children:e,location:t}){return F2(vy(e),t)}function vy(e,t=[]){let n=[];return z.Children.forEach(e,(i,a)=>{if(!z.isValidElement(i))return;let l=[...t,a];if(i.type===z.Fragment){n.push.apply(n,vy(i.props.children,l));return}_e(i.type===sc,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_e(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=vy(i.props.children,l)),n.push(u)}),n}var td="get",ed="application/x-www-form-urlencoded";function Jd(e){return e!=null&&typeof e.tagName=="string"}function eV(e){return Jd(e)&&e.tagName.toLowerCase()==="button"}function nV(e){return Jd(e)&&e.tagName.toLowerCase()==="form"}function iV(e){return Jd(e)&&e.tagName.toLowerCase()==="input"}function rV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function sV(e,t){return e.button===0&&(!t||t==="_self")&&!rV(e)}var kf=null;function aV(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var oV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ug(e){return e!=null&&!oV.has(e)?(Mi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ed}"`),null):e}function lV(e,t){let n,i,a,l,u;if(nV(e)){let h=e.getAttribute("action");i=h?rs(h,t):null,n=e.getAttribute("method")||td,a=Ug(e.getAttribute("enctype"))||ed,l=new FormData(e)}else if(eV(e)||iV(e)&&(e.type==="submit"||e.type==="image")){let h=e.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||h.getAttribute("action");if(i=m?rs(m,t):null,n=e.getAttribute("formmethod")||h.getAttribute("method")||td,a=Ug(e.getAttribute("formenctype"))||Ug(h.getAttribute("enctype"))||ed,l=new FormData(h,e),!aV()){let{name:p,type:y,value:_}=e;if(y==="image"){let T=p?`${p}.`:"";l.append(`${T}x`,"0"),l.append(`${T}y`,"0")}else p&&l.append(p,_)}}else{if(Jd(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=td,i=null,a=ed,u=e}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uV(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&rs(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function cV(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hV(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function fV(e,t,n){let i=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let u=await cV(l,n);return u.links?u.links():[]}return[]}));return gV(i.flat(1).filter(hV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Fb(e,t,n,i,a,l){let u=(m,p)=>n[p]?m.route.id!==n[p].route.id:!0,h=(m,p)=>n[p].pathname!==m.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,p)=>u(m,p)||h(m,p)):l==="data"?t.filter((m,p)=>{let y=i.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(u(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function dV(e,t,{includeHydrateFallback:n}={}){return mV(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function mV(e){return[...new Set(e)]}function pV(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function gV(e,t){let n=new Set;return new Set(t),e.reduce((i,a)=>{let l=JSON.stringify(pV(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}function S1(){let e=z.useContext(Ll);return Vv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function yV(){let e=z.useContext(Wd);return Vv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Nv=z.createContext(void 0);Nv.displayName="FrameworkContext";function A1(){let e=z.useContext(Nv);return Vv(e,"You must render this element inside a <HydratedRouter> element"),e}function vV(e,t){let n=z.useContext(Nv),[i,a]=z.useState(!1),[l,u]=z.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=t,T=z.useRef(null);z.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let x=U=>{U.forEach(N=>{u(N.isIntersecting)})},P=new IntersectionObserver(x,{threshold:.5});return T.current&&P.observe(T.current),()=>{P.disconnect()}}},[e]),z.useEffect(()=>{if(i){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[i]);let A=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?e!=="intent"?[l,T,{}]:[l,T,{onFocus:ec(h,A),onBlur:ec(m,D),onMouseEnter:ec(p,A),onMouseLeave:ec(y,D),onTouchStart:ec(_,A)}]:[!1,T,{}]}function ec(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function _V({page:e,...t}){let{router:n}=S1(),i=z.useMemo(()=>m1(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?z.createElement(EV,{page:e,matches:i,...t}):null}function TV(e){let{manifest:t,routeModules:n}=A1(),[i,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return fV(e,t,n).then(u=>{l||a(u)}),()=>{l=!0}},[e,t,n]),i}function EV({page:e,matches:t,...n}){let i=pa(),{manifest:a,routeModules:l}=A1(),{basename:u}=S1(),{loaderData:h,matches:m}=yV(),p=z.useMemo(()=>Fb(e,t,m,a,i,"data"),[e,t,m,a,i]),y=z.useMemo(()=>Fb(e,t,m,a,i,"assets"),[e,t,m,a,i]),_=z.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let D=new Set,x=!1;if(t.forEach(U=>{let N=a.routes[U.route.id];!N||!N.hasLoader||(!p.some(H=>H.route.id===U.route.id)&&U.route.id in h&&l[U.route.id]?.shouldRevalidate||N.hasClientLoader?x=!0:D.add(U.route.id))}),D.size===0)return[];let P=uV(e,u,"data");return x&&D.size>0&&P.searchParams.set("_routes",t.filter(U=>D.has(U.route.id)).map(U=>U.route.id).join(",")),[P.pathname+P.search]},[u,h,i,a,p,t,e,l]),T=z.useMemo(()=>dV(y,a),[y,a]),A=TV(y);return z.createElement(z.Fragment,null,_.map(D=>z.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),T.map(D=>z.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),A.map(({key:D,link:x})=>z.createElement("link",{key:D,nonce:n.nonce,...x})))}function bV(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var R1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{R1&&(window.__reactRouterVersion="7.8.2")}catch{}function wV({basename:e,children:t,window:n}){let i=z.useRef();i.current==null&&(i.current=h2({window:n,v5Compat:!0}));let a=i.current,[l,u]=z.useState({action:a.action,location:a.location}),h=z.useCallback(m=>{z.startTransition(()=>u(m))},[u]);return z.useLayoutEffect(()=>a.listen(h),[a,h]),z.createElement(J2,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:a})}var I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Di=z.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:m,to:p,preventScrollReset:y,viewTransition:_,...T},A){let{basename:D}=z.useContext(Ui),x=typeof p=="string"&&I1.test(p),P,U=!1;if(typeof p=="string"&&x&&(P=p,R1))try{let I=new URL(window.location.href),L=p.startsWith("//")?new URL(I.protocol+p):new URL(p),F=rs(L.pathname,D);L.origin===I.origin&&F!=null?p=F+L.search+L.hash:U=!0}catch{Mi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=U2(p,{relative:a}),[H,ut,tt]=vV(i,T),_t=IV(p,{replace:u,state:h,target:m,preventScrollReset:y,relative:a,viewTransition:_});function M(I){t&&t(I),I.defaultPrevented||_t(I)}let R=z.createElement("a",{...T,...tt,href:P||N,onClick:U||l?t:M,ref:bV(A,ut),target:m,"data-discover":!x&&n==="render"?"true":void 0});return H&&!x?z.createElement(z.Fragment,null,R,z.createElement(_V,{page:N})):R});Di.displayName="Link";var SV=z.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:m,...p},y){let _=Kc(u,{relative:p.relative}),T=pa(),A=z.useContext(Wd),{navigator:D,basename:x}=z.useContext(Ui),P=A!=null&&VV(_)&&h===!0,U=D.encodeLocation?D.encodeLocation(_).pathname:_.pathname,N=T.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(N=N.toLowerCase(),H=H?H.toLowerCase():null,U=U.toLowerCase()),H&&x&&(H=rs(H,x)||H);const ut=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let tt=N===U||!a&&N.startsWith(U)&&N.charAt(ut)==="/",_t=H!=null&&(H===U||!a&&H.startsWith(U)&&H.charAt(U.length)==="/"),M={isActive:tt,isPending:_t,isTransitioning:P},R=tt?t:void 0,I;typeof i=="function"?I=i(M):I=[i,tt?"active":null,_t?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(M):l;return z.createElement(Di,{...p,"aria-current":R,className:I,ref:y,style:L,to:u,viewTransition:h},typeof m=="function"?m(M):m)});SV.displayName="NavLink";var AV=z.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:a,state:l,method:u=td,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:_,...T},A)=>{let D=DV(),x=PV(h,{relative:p}),P=u.toLowerCase()==="get"?"get":"post",U=typeof h=="string"&&I1.test(h),N=H=>{if(m&&m(H),H.defaultPrevented)return;H.preventDefault();let ut=H.nativeEvent.submitter,tt=ut?.getAttribute("formmethod")||u;D(ut||H.currentTarget,{fetcherKey:t,method:tt,navigate:n,replace:a,state:l,relative:p,preventScrollReset:y,viewTransition:_})};return z.createElement("form",{ref:A,method:P,action:x,onSubmit:i?m:N,...T,"data-discover":!U&&e==="render"?"true":void 0})});AV.displayName="Form";function RV(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(e){let t=z.useContext(Ll);return _e(t,RV(e)),t}function IV(e,{target:t,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Zd(),m=pa(),p=Kc(e,{relative:l});return z.useCallback(y=>{if(sV(y,t)){y.preventDefault();let _=n!==void 0?n:Ic(m)===Ic(p);h(e,{replace:_,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[m,h,p,n,i,t,e,a,l,u])}var CV=0,xV=()=>`__${String(++CV)}__`;function DV(){let{router:e}=C1("useSubmit"),{basename:t}=z.useContext(Ui),n=Y2();return z.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:m,body:p}=lV(i,t);if(a.navigate===!1){let y=a.fetcherKey||xV();await e.fetch(y,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await e.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,n])}function PV(e,{relative:t}={}){let{basename:n}=z.useContext(Ui),i=z.useContext(Tr);_e(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Kc(e||".",{relative:t})},u=pa();if(e==null){l.search=u.search;let h=new URLSearchParams(l.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();l.search=y?`?${y}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:es([n,l.pathname])),Ic(l)}function VV(e,{relative:t}={}){let n=z.useContext(v1);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=C1("useViewTransitionState"),a=Kc(e,{relative:t});if(!n.isTransitioning)return!1;let l=rs(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=rs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return _d(a.pathname,u)!=null||_d(a.pathname,l)!=null}var tm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},em=typeof window>"u"||"Deno"in globalThis;function xi(){}function NV(e,t){return typeof e=="function"?e(t):e}function MV(e){return typeof e=="number"&&e>=0&&e!==1/0}function OV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _y(e,t){return typeof e=="function"?e(t):e}function kV(e,t){return typeof e=="function"?e(t):e}function Bb(e,t){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:u,stale:h}=e;if(u){if(i){if(t.queryHash!==Mv(u,t.options))return!1}else if(!xc(t.queryKey,u))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof h=="boolean"&&t.isStale()!==h||a&&a!==t.state.fetchStatus||l&&!l(t))}function zb(e,t){const{exact:n,status:i,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(Cc(t.options.mutationKey)!==Cc(l))return!1}else if(!xc(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function Mv(e,t){return(t?.queryKeyHashFn||Cc)(e)}function Cc(e){return JSON.stringify(e,(t,n)=>Ty(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function xc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>xc(e[n],t[n])):!1}function x1(e,t){if(e===t)return e;const n=qb(e)&&qb(t);if(n||Ty(e)&&Ty(t)){const i=n?e:Object.keys(e),a=i.length,l=n?t:Object.keys(t),u=l.length,h=n?[]:{},m=new Set(i);let p=0;for(let y=0;y<u;y++){const _=n?y:l[y];(!n&&m.has(_)||n)&&e[_]===void 0&&t[_]===void 0?(h[_]=void 0,p++):(h[_]=x1(e[_],t[_]),h[_]===e[_]&&e[_]!==void 0&&p++)}return a===u&&p===a?e:h}return t}function qb(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ty(e){if(!Hb(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Hb(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Hb(e){return Object.prototype.toString.call(e)==="[object Object]"}function LV(e){return new Promise(t=>{setTimeout(t,e)})}function UV(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?x1(e,t):t}function jV(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function FV(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Ov=Symbol();function D1(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ov?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var BV=class extends tm{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!em&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},P1=new BV,zV=class extends tm{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!em&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},Td=new zV;function qV(){let e,t;const n=new Promise((a,l)=>{e=a,t=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},n.reject=a=>{i({status:"rejected",reason:a}),t(a)},n}function HV(e){return Math.min(1e3*2**e,3e4)}function V1(e){return(e??"online")==="online"?Td.isOnline():!0}var N1=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function M1(e){let t=!1,n=0,i;const a=qV(),l=()=>a.status!=="pending",u=x=>{l()||(T(new N1(x)),e.abort?.())},h=()=>{t=!0},m=()=>{t=!1},p=()=>P1.isFocused()&&(e.networkMode==="always"||Td.isOnline())&&e.canRun(),y=()=>V1(e.networkMode)&&e.canRun(),_=x=>{l()||(i?.(),a.resolve(x))},T=x=>{l()||(i?.(),a.reject(x))},A=()=>new Promise(x=>{i=P=>{(l()||p())&&x(P)},e.onPause?.()}).then(()=>{i=void 0,l()||e.onContinue?.()}),D=()=>{if(l())return;let x;const P=n===0?e.initialPromise:void 0;try{x=P??e.fn()}catch(U){x=Promise.reject(U)}Promise.resolve(x).then(_).catch(U=>{if(l())return;const N=e.retry??(em?0:3),H=e.retryDelay??HV,ut=typeof H=="function"?H(n,U):H,tt=N===!0||typeof N=="number"&&n<N||typeof N=="function"&&N(n,U);if(t||!tt){T(U);return}n++,e.onFail?.(n,U),LV(ut).then(()=>p()?void 0:A()).then(()=>{t?T(U):D()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:h,continueRetry:m,canStart:y,start:()=>(y()?D():A().then(D),a)}}var GV=e=>setTimeout(e,0);function $V(){let e=[],t=0,n=h=>{h()},i=h=>{h()},a=GV;const l=h=>{t?e.push(h):a(()=>{n(h)})},u=()=>{const h=e;e=[],h.length&&a(()=>{i(()=>{h.forEach(m=>{n(m)})})})};return{batch:h=>{let m;t++;try{m=h()}finally{t--,t||u()}return m},batchCalls:h=>(...m)=>{l(()=>{h(...m)})},schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{a=h}}}var Cn=$V(),O1=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),MV(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(em?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},KV=class extends O1{#t;#e;#n;#r;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.client,this.#n=this.#r.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=YV(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,n){const i=UV(this.state.data,t,this.options);return this.#s({data:i,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),i}setState(t,n){this.#s({type:"setState",state:t,setStateOptions:n})}cancel(t){const n=this.#i?.promise;return this.#i?.cancel(t),n?n.then(xi).catch(xi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>kV(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ov||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>_y(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OV(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,n){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},l=()=>{const m=D1(this.options,n),y=(()=>{const _={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(_),_})();return this.#o=!1,this.options.persister?this.options.persister(m,y,this):m(y)},h=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return a(m),m})();this.options.behavior?.onFetch(h,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#s({type:"fetch",meta:h.fetchOptions?.meta}),this.#i=M1({initialPromise:n?.initialPromise,fn:h.fetchFn,abort:i.abort.bind(i),onFail:(m,p)=>{this.#s({type:"failed",failureCount:m,error:p})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const m=await this.#i.start();if(m===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(m),this.#n.config.onSuccess?.(m,this),this.#n.config.onSettled?.(m,this.state.error,this),m}catch(m){if(m instanceof N1){if(m.silent)return this.#i.promise;if(m.revert){if(this.setState({...this.#e,fetchStatus:"idle"}),this.state.data===void 0)throw m;return this.state.data}}throw this.#s({type:"error",error:m}),this.#n.config.onError?.(m,this),this.#n.config.onSettled?.(this.state.data,m,this),m}finally{this.scheduleGc()}}#s(t){const n=i=>{switch(t.type){case"failed":return{...i,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...QV(i.data,this.options),fetchMeta:t.meta??null};case"success":const a={...i,data:t.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?a:void 0,a;case"error":const l=t.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...t.state}}};this.state=n(this.state),Cn.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function QV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:V1(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function YV(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var XV=class extends tm{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const i=t.queryKey,a=t.queryHash??Mv(i,t);let l=this.get(a);return l||(l=new KV({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Cn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Bb(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>Bb(e,n)):t}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Cn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},WV=class extends O1{#t;#e;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||ZV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(n=>n!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){const n=()=>{this.#r({type:"continue"})};this.#n=M1({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const i=this.state.status==="pending",a=!this.#n.canStart();try{if(i)n();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#e.config.onMutate?.(t,this);const u=await this.options.onMutate?.(t);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const l=await this.#n.start();return await this.#e.config.onSuccess?.(l,t,this.state.context,this),await this.options.onSuccess?.(l,t,this.state.context),await this.#e.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,t,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#e.config.onError?.(l,t,this.state.context,this),await this.options.onError?.(l,t,this.state.context),await this.#e.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,t,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#e.runNext(this)}}#r(t){const n=i=>{switch(t.type){case"failed":return{...i,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...i,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:t.error,failureCount:i.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Cn.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function ZV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var JV=class extends tm{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const i=new WV({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){this.#t.add(e);const t=Lf(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=Lf(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Lf(e);if(typeof t=="string"){const i=this.#e.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Lf(e);return typeof t=="string"?this.#e.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Cn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>zb(t,n))}findAll(e={}){return this.getAll().filter(t=>zb(e,t))}notify(e){Cn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Cn.batch(()=>Promise.all(e.map(t=>t.continue().catch(xi))))}};function Lf(e){return e.options.scope?.id}function Gb(e){return{onFetch:(t,n)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let h={pages:[],pageParams:[]},m=0;const p=async()=>{let y=!1;const _=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(t.signal.aborted?y=!0:t.signal.addEventListener("abort",()=>{y=!0}),t.signal)})},T=D1(t.options,t.fetchOptions),A=async(D,x,P)=>{if(y)return Promise.reject();if(x==null&&D.pages.length)return Promise.resolve(D);const N=(()=>{const _t={client:t.client,queryKey:t.queryKey,pageParam:x,direction:P?"backward":"forward",meta:t.options.meta};return _(_t),_t})(),H=await T(N),{maxPages:ut}=t.options,tt=P?FV:jV;return{pages:tt(D.pages,H,ut),pageParams:tt(D.pageParams,x,ut)}};if(a&&l.length){const D=a==="backward",x=D?tN:$b,P={pages:l,pageParams:u},U=x(i,P);h=await A(P,U,D)}else{const D=e??l.length;do{const x=m===0?u[0]??i.initialPageParam:$b(i,h);if(m>0&&x==null)break;h=await A(h,x),m++}while(m<D)}return h};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=p}}}function $b(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function tN(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var eN=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new XV,this.#e=e.mutationCache||new JV,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=P1.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Td.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),i=n.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(_y(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),l=this.#t.get(i.queryHash)?.state.data,u=NV(t,l);if(u!==void 0)return this.#t.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(e,t,n){return Cn.batch(()=>this.#t.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Cn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Cn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},i=Cn.batch(()=>this.#t.findAll(e).map(a=>a.cancel(n)));return Promise.all(i).then(xi).catch(xi)}invalidateQueries(e,t={}){return Cn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},i=Cn.batch(()=>this.#t.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(xi)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(xi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(_y(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(xi).catch(xi)}fetchInfiniteQuery(e){return e.behavior=Gb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(xi).catch(xi)}ensureInfiniteQueryData(e){return e.behavior=Gb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Td.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Cc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(i=>{xc(e,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Cc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(i=>{xc(e,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Mv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ov&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},nN=z.createContext(void 0),iN=({client:e,children:t})=>(z.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),q.jsx(nN.Provider,{value:e,children:t}));let rN={data:""},sN=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||rN,aN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,oN=/\/\*[^]*?\*\/|  +/g,Kb=/\n+/g,Ys=(e,t)=>{let n="",i="",a="";for(let l in e){let u=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":i+=l[1]=="f"?Ys(u,l):l+"{"+Ys(u,l[1]=="k"?"":t)+"}":typeof u=="object"?i+=Ys(u,t?t.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Ys.p?Ys.p(l,u):l+":"+u+";")}return n+(t&&a?t+"{"+a+"}":a)+i},Wr={},k1=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+k1(e[n]);return t}return e},lN=(e,t,n,i,a)=>{let l=k1(e),u=Wr[l]||(Wr[l]=(m=>{let p=0,y=11;for(;p<m.length;)y=101*y+m.charCodeAt(p++)>>>0;return"go"+y})(l));if(!Wr[u]){let m=l!==e?e:(p=>{let y,_,T=[{}];for(;y=aN.exec(p.replace(oN,""));)y[4]?T.shift():y[3]?(_=y[3].replace(Kb," ").trim(),T.unshift(T[0][_]=T[0][_]||{})):T[0][y[1]]=y[2].replace(Kb," ").trim();return T[0]})(e);Wr[u]=Ys(a?{["@keyframes "+u]:m}:m,n?"":"."+u)}let h=n&&Wr.g?Wr.g:null;return n&&(Wr.g=Wr[u]),((m,p,y,_)=>{_?p.data=p.data.replace(_,m):p.data.indexOf(m)===-1&&(p.data=y?m+p.data:p.data+m)})(Wr[u],t,i,h),u},uN=(e,t,n)=>e.reduce((i,a,l)=>{let u=t[l];if(u&&u.call){let h=u(n),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=m?"."+m:h&&typeof h=="object"?h.props?"":Ys(h,""):h===!1?"":h}return i+a+(u??"")},"");function nm(e){let t=this||{},n=e.call?e(t.p):e;return lN(n.unshift?n.raw?uN(n,[].slice.call(arguments,1),t.p):n.reduce((i,a)=>Object.assign(i,a&&a.call?a(t.p):a),{}):n,sN(t.target),t.g,t.o,t.k)}let L1,Ey,by;nm.bind({g:1});let ss=nm.bind({k:1});function cN(e,t,n,i){Ys.p=t,L1=e,Ey=n,by=i}function ga(e,t){let n=this||{};return function(){let i=arguments;function a(l,u){let h=Object.assign({},l),m=h.className||a.className;n.p=Object.assign({theme:Ey&&Ey()},h),n.o=/ *go\d+/.test(m),h.className=nm.apply(n,i)+(m?" "+m:"");let p=e;return e[0]&&(p=h.as||e,delete h.as),by&&p[0]&&by(h),L1(p,h)}return a}}var hN=e=>typeof e=="function",Ed=(e,t)=>hN(e)?e(t):e,fN=(()=>{let e=0;return()=>(++e).toString()})(),U1=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),dN=20,kv="default",j1=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(u=>u.id===t.toast.id?{...u,...t.toast}:u)};case 2:let{toast:i}=t;return j1(e,{type:e.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(u=>u.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},nd=[],F1={toasts:[],pausedAt:void 0,settings:{toastLimit:dN}},or={},B1=(e,t=kv)=>{or[t]=j1(or[t]||F1,e),nd.forEach(([n,i])=>{n===t&&i(or[t])})},z1=e=>Object.keys(or).forEach(t=>B1(e,t)),mN=e=>Object.keys(or).find(t=>or[t].toasts.some(n=>n.id===e)),im=(e=kv)=>t=>{B1(t,e)},pN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},gN=(e={},t=kv)=>{let[n,i]=z.useState(or[t]||F1),a=z.useRef(or[t]);z.useEffect(()=>(a.current!==or[t]&&i(or[t]),nd.push([t,i]),()=>{let u=nd.findIndex(([h])=>h===t);u>-1&&nd.splice(u,1)}),[t]);let l=n.toasts.map(u=>{var h,m,p;return{...e,...e[u.type],...u,removeDelay:u.removeDelay||((h=e[u.type])==null?void 0:h.removeDelay)||e?.removeDelay,duration:u.duration||((m=e[u.type])==null?void 0:m.duration)||e?.duration||pN[u.type],style:{...e.style,...(p=e[u.type])==null?void 0:p.style,...u.style}}});return{...n,toasts:l}},yN=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:n?.id||fN()}),Qc=e=>(t,n)=>{let i=yN(t,e,n);return im(i.toasterId||mN(i.id))({type:2,toast:i}),i.id},Ee=(e,t)=>Qc("blank")(e,t);Ee.error=Qc("error");Ee.success=Qc("success");Ee.loading=Qc("loading");Ee.custom=Qc("custom");Ee.dismiss=(e,t)=>{let n={type:3,toastId:e};t?im(t)(n):z1(n)};Ee.dismissAll=e=>Ee.dismiss(void 0,e);Ee.remove=(e,t)=>{let n={type:4,toastId:e};t?im(t)(n):z1(n)};Ee.removeAll=e=>Ee.remove(void 0,e);Ee.promise=(e,t,n)=>{let i=Ee.loading(t.loading,{...n,...n?.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?Ed(t.success,a):void 0;return l?Ee.success(l,{id:i,...n,...n?.success}):Ee.dismiss(i),a}).catch(a=>{let l=t.error?Ed(t.error,a):void 0;l?Ee.error(l,{id:i,...n,...n?.error}):Ee.dismiss(i)}),e};var vN=1e3,_N=(e,t="default")=>{let{toasts:n,pausedAt:i}=gN(e,t),a=z.useRef(new Map).current,l=z.useCallback((_,T=vN)=>{if(a.has(_))return;let A=setTimeout(()=>{a.delete(_),u({type:4,toastId:_})},T);a.set(_,A)},[]);z.useEffect(()=>{if(i)return;let _=Date.now(),T=n.map(A=>{if(A.duration===1/0)return;let D=(A.duration||0)+A.pauseDuration-(_-A.createdAt);if(D<0){A.visible&&Ee.dismiss(A.id);return}return setTimeout(()=>Ee.dismiss(A.id,t),D)});return()=>{T.forEach(A=>A&&clearTimeout(A))}},[n,i,t]);let u=z.useCallback(im(t),[t]),h=z.useCallback(()=>{u({type:5,time:Date.now()})},[u]),m=z.useCallback((_,T)=>{u({type:1,toast:{id:_,height:T}})},[u]),p=z.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),y=z.useCallback((_,T)=>{let{reverseOrder:A=!1,gutter:D=8,defaultPosition:x}=T||{},P=n.filter(H=>(H.position||x)===(_.position||x)&&H.height),U=P.findIndex(H=>H.id===_.id),N=P.filter((H,ut)=>ut<U&&H.visible).length;return P.filter(H=>H.visible).slice(...A?[N+1]:[0,N]).reduce((H,ut)=>H+(ut.height||0)+D,0)},[n]);return z.useEffect(()=>{n.forEach(_=>{if(_.dismissed)l(_.id,_.removeDelay);else{let T=a.get(_.id);T&&(clearTimeout(T),a.delete(_.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:m,startPause:h,endPause:p,calculateOffset:y}}},TN=ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,EN=ss`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bN=ss`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,wN=ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${TN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${EN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${bN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,SN=ss`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,AN=ga("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${SN} 1s linear infinite;
`,RN=ss`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,IN=ss`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,CN=ga("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${IN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xN=ga("div")`
  position: absolute;
`,DN=ga("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,PN=ss`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,VN=ga("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${PN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,NN=({toast:e})=>{let{icon:t,type:n,iconTheme:i}=e;return t!==void 0?typeof t=="string"?z.createElement(VN,null,t):t:n==="blank"?null:z.createElement(DN,null,z.createElement(AN,{...i}),n!=="loading"&&z.createElement(xN,null,n==="error"?z.createElement(wN,{...i}):z.createElement(CN,{...i})))},MN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ON=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,kN="0%{opacity:0;} 100%{opacity:1;}",LN="0%{opacity:1;} 100%{opacity:0;}",UN=ga("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jN=ga("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,FN=(e,t)=>{let n=e.includes("top")?1:-1,[i,a]=U1()?[kN,LN]:[MN(n),ON(n)];return{animation:t?`${ss(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ss(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},BN=z.memo(({toast:e,position:t,style:n,children:i})=>{let a=e.height?FN(e.position||t||"top-center",e.visible):{opacity:0},l=z.createElement(NN,{toast:e}),u=z.createElement(jN,{...e.ariaProps},Ed(e.message,e));return z.createElement(UN,{className:e.className,style:{...a,...n,...e.style}},typeof i=="function"?i({icon:l,message:u}):z.createElement(z.Fragment,null,l,u))});cN(z.createElement);var zN=({id:e,className:t,style:n,onHeightUpdate:i,children:a})=>{let l=z.useCallback(u=>{if(u){let h=()=>{let m=u.getBoundingClientRect().height;i(e,m)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[e,i]);return z.createElement("div",{ref:l,className:t,style:n},a)},qN=(e,t)=>{let n=e.includes("top"),i=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:U1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...i,...a}},HN=nm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Uf=16,GN=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:i,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=_N(n,l);return z.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Uf,left:Uf,right:Uf,bottom:Uf,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(y=>{let _=y.position||t,T=p.calculateOffset(y,{reverseOrder:e,gutter:i,defaultPosition:t}),A=qN(_,T);return z.createElement(zN,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?HN:"",style:A},y.type==="custom"?Ed(y.message,y):a?a(y):z.createElement(BN,{toast:y,position:_}))}))};const Qb=e=>{let t;const n=new Set,i=(p,y)=>{const _=typeof p=="function"?p(t):p;if(!Object.is(_,t)){const T=t;t=y??(typeof _!="object"||_===null)?_:Object.assign({},t,_),n.forEach(A=>A(t,T))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>m,subscribe:p=>(n.add(p),()=>n.delete(p))},m=t=e(i,a,h);return h},$N=(e=>e?Qb(e):Qb),KN=e=>e;function QN(e,t=KN){const n=fn.useSyncExternalStore(e.subscribe,fn.useCallback(()=>t(e.getState()),[e,t]),fn.useCallback(()=>t(e.getInitialState()),[e,t]));return fn.useDebugValue(n),n}const YN=e=>{const t=$N(e),n=i=>QN(t,i);return Object.assign(n,t),n},q1=(e=>YN),Yb={BASE_URL:"/willing-tree/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3001",VITE_APP_ENV:"production",VITE_APP_NAME:"Willing Box",VITE_APP_VERSION:"1.0.0",VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:"",VITE_SECURITY_HEADERS:"true",VITE_STRIPE_PREMIUM_PRICE_ID:"",VITE_STRIPE_PUBLISHABLE_KEY:"",VITE_USE_FIREBASE_EMULATORS:"false"},Dc=new Map,jf=e=>{const t=Dc.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,i])=>[n,i.getState()])):{}},XN=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const i=Dc.get(n.name);if(i)return{type:"tracked",store:e,...i};const a={connection:t.connect(n),stores:{}};return Dc.set(n.name,a),{type:"tracked",store:e,...a}},WN=(e,t)=>{if(t===void 0)return;const n=Dc.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&Dc.delete(e))},ZN=e=>{var t,n;if(!e)return;const i=e.split(`
`),a=i.findIndex(u=>u.includes("api.setState"));if(a<0)return;const l=((t=i[a+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},JN=(e,t={})=>(n,i,a)=>{const{enabled:l,anonymousActionType:u,store:h,...m}=t;let p;try{p=(l??(Yb?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return e(n,i,a);const{connection:y,..._}=XN(h,p,m);let T=!0;a.setState=((x,P,U)=>{const N=n(x,P);if(!T)return N;const H=U===void 0?{type:u||ZN(new Error().stack)||"anonymous"}:typeof U=="string"?{type:U}:U;return h===void 0?(y?.send(H,i()),N):(y?.send({...H,type:`${h}/${H.type}`},{...jf(m.name),[h]:a.getState()}),N)}),a.devtools={cleanup:()=>{y&&typeof y.unsubscribe=="function"&&y.unsubscribe(),WN(m.name,h)}};const A=(...x)=>{const P=T;T=!1,n(...x),T=P},D=e(a.setState,i,a);if(_.type==="untracked"?y?.init(D):(_.stores[_.store]=a,y?.init(Object.fromEntries(Object.entries(_.stores).map(([x,P])=>[x,x===_.store?D:P.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let x=!1;const P=a.dispatch;a.dispatch=(...U)=>{(Yb?"production":void 0)!=="production"&&U[0].type==="__setState"&&!x&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),x=!0),P(...U)}}return y.subscribe(x=>{var P;switch(x.type){case"ACTION":if(typeof x.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return jg(x.payload,U=>{if(U.type==="__setState"){if(h===void 0){A(U.state);return}Object.keys(U.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const N=U.state[h];if(N==null)return;JSON.stringify(a.getState())!==JSON.stringify(N)&&A(N);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(U)});case"DISPATCH":switch(x.payload.type){case"RESET":return A(D),h===void 0?y?.init(a.getState()):y?.init(jf(m.name));case"COMMIT":if(h===void 0){y?.init(a.getState());return}return y?.init(jf(m.name));case"ROLLBACK":return jg(x.state,U=>{if(h===void 0){A(U),y?.init(a.getState());return}A(U[h]),y?.init(jf(m.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return jg(x.state,U=>{if(h===void 0){A(U);return}JSON.stringify(a.getState())!==JSON.stringify(U[h])&&A(U[h])});case"IMPORT_STATE":{const{nextLiftedState:U}=x.payload,N=(P=U.computedStates.slice(-1)[0])==null?void 0:P.state;if(!N)return;A(h===void 0?N:N[h]),y?.send(null,U);return}case"PAUSE_RECORDING":return T=!T}return}}),D},H1=JN,jg=(e,t)=>{let n;try{n=JSON.parse(e)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}n!==void 0&&t(n)};function tM(e,t){let n;try{n=e()}catch{return}return{getItem:a=>{var l;const u=m=>m===null?null:JSON.parse(m,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(u):u(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const wy=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return wy(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return wy(i)(n)}}}},eM=(e,t)=>(n,i,a)=>{let l={storage:tM(()=>localStorage),partialize:x=>x,version:0,merge:(x,P)=>({...P,...x}),...t},u=!1;const h=new Set,m=new Set;let p=l.storage;if(!p)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...x)},i,a);const y=()=>{const x=l.partialize({...i()});return p.setItem(l.name,{state:x,version:l.version})},_=a.setState;a.setState=(x,P)=>(_(x,P),y());const T=e((...x)=>(n(...x),y()),i,a);a.getInitialState=()=>T;let A;const D=()=>{var x,P;if(!p)return;u=!1,h.forEach(N=>{var H;return N((H=i())!=null?H:T)});const U=((P=l.onRehydrateStorage)==null?void 0:P.call(l,(x=i())!=null?x:T))||void 0;return wy(p.getItem.bind(p))(l.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==l.version){if(l.migrate){const H=l.migrate(N.state,N.version);return H instanceof Promise?H.then(ut=>[!0,ut]):[!0,H]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var H;const[ut,tt]=N;if(A=l.merge(tt,(H=i())!=null?H:T),n(A,!0),ut)return y()}).then(()=>{U?.(A,void 0),A=i(),u=!0,m.forEach(N=>N(A))}).catch(N=>{U?.(void 0,N)})};return a.persist={setOptions:x=>{l={...l,...x},x.storage&&(p=x.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>D(),hasHydrated:()=>u,onHydrate:x=>(h.add(x),()=>{h.delete(x)}),onFinishHydration:x=>(m.add(x),()=>{m.delete(x)})},l.skipHydration||D(),A||T},nM=eM,iM=()=>{};var Xb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let a=e.charCodeAt(i);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=a&63|128):(a&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=a&63|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=a&63|128)}return t},rM=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const a=e[n++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=e[n++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=e[n++],u=e[n++],h=e[n++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=e[n++],u=e[n++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},$1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<e.length;a+=3){const l=e[a],u=a+1<e.length,h=u?e[a+1]:0,m=a+2<e.length,p=m?e[a+2]:0,y=l>>2,_=(l&3)<<4|h>>4;let T=(h&15)<<2|p>>6,A=p&63;m||(A=64,u||(T=64)),i.push(n[y],n[_],n[T],n[A])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G1(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rM(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<e.length;){const l=n[e.charAt(a++)],h=a<e.length?n[e.charAt(a)]:0;++a;const p=a<e.length?n[e.charAt(a)]:64;++a;const _=a<e.length?n[e.charAt(a)]:64;if(++a,l==null||h==null||p==null||_==null)throw new sM;const T=l<<2|h>>4;if(i.push(T),p!==64){const A=h<<4&240|p>>2;if(i.push(A),_!==64){const D=p<<6&192|_;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aM=function(e){const t=G1(e);return $1.encodeByteArray(t,!0)},bd=function(e){return aM(e).replace(/\./g,"")},K1=function(e){try{return $1.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=()=>oM().__FIREBASE_DEFAULTS__,uM=()=>{if(typeof process>"u"||typeof Xb>"u")return;const e=Xb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cM=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&K1(e[1]);return t&&JSON.parse(t)},rm=()=>{try{return iM()||lM()||uM()||cM()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Q1=e=>rm()?.emulatorHosts?.[e],Y1=e=>{const t=Q1(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},X1=()=>rm()?.config,W1=e=>rm()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",a=e.iat||0,l=e.sub||e.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...e};return[bd(JSON.stringify(n)),bd(JSON.stringify(u)),""].join(".")}const dc={};function dM(){const e={prod:[],emulator:[]};for(const t of Object.keys(dc))dc[t]?e.emulator.push(t):e.prod.push(t);return e}function mM(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let Wb=!1;function Uv(e,t){if(typeof window>"u"||typeof document>"u"||!po(window.location.host)||dc[e]===t||dc[e]||Wb)return;dc[e]=t;function n(T){return`__firebase__banner__${T}`}const i="__firebase__banner",l=dM().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function p(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Wb=!0,u()},T}function y(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=mM(i),A=n("text"),D=document.getElementById(A)||document.createElement("span"),x=n("learnmore"),P=document.getElementById(x)||document.createElement("a"),U=n("preprendIcon"),N=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const H=T.element;h(H),y(P,x);const ut=p();m(N,U),H.append(N,D,P,ut),document.body.appendChild(H)}l?(D.innerText="Preview backend disconnected.",N.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(N.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function gM(){const e=rm()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Z1(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function vM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _M(){const e=bn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function TM(){return!gM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(n){t(n)}})}function EM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="FirebaseError";class ji extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=bM,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,go.prototype.create)}}class go{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?wM(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ji(a,h,i)}}function wM(e,t){return e.replace(SM,(n,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const SM=/\{\$([^}]+)}/g;function AM(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function aa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const a of n){if(!i.includes(a))return!1;const l=e[a],u=t[a];if(Zb(l)&&Zb(u)){if(!aa(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function Zb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ac(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(l)}}),t}function oc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function RM(e,t){const n=new IM(e,t);return n.subscribe.bind(n)}class IM{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let a;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");CM(t,["next","error","complete"])?a=t:a={next:t,error:n,complete:i},a.next===void 0&&(a.next=Fg),a.error===void 0&&(a.error=Fg),a.complete===void 0&&(a.complete=Fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CM(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Fg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=1e3,DM=2,PM=14400*1e3,VM=.5;function Jb(e,t=xM,n=DM){const i=t*Math.pow(n,e),a=Math.round(VM*i*(Math.random()-.5)*2);return Math.min(PM,i+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(e){return e&&e._delegate?e._delegate:e}class vi{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new hM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OM(t))try{this.getOrInitializeService({instanceIdentifier:Za})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Za){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Za){return this.instances.has(t)}getOptions(t=Za){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:MM(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Za){return this.component?this.component.multipleInstances?t:Za:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MM(e){return e===Za?void 0:e}function OM(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new NM(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})($t||($t={}));const LM={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},UM=$t.INFO,jM={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},FM=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),a=jM[t];if(a)console[a](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class sm{constructor(t){this.name=t,this._logLevel=UM,this._logHandler=FM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?LM[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const BM=(e,t)=>t.some(n=>e instanceof n);let tw,ew;function zM(){return tw||(tw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qM(){return ew||(ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eR=new WeakMap,Sy=new WeakMap,nR=new WeakMap,Bg=new WeakMap,jv=new WeakMap;function HM(e){const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("success",l),e.removeEventListener("error",u)},l=()=>{n(na(e.result)),a()},u=()=>{i(e.error),a()};e.addEventListener("success",l),e.addEventListener("error",u)});return t.then(n=>{n instanceof IDBCursor&&eR.set(n,e)}).catch(()=>{}),jv.set(t,e),t}function GM(e){if(Sy.has(e))return;const t=new Promise((n,i)=>{const a=()=>{e.removeEventListener("complete",l),e.removeEventListener("error",u),e.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",l),e.addEventListener("error",u),e.addEventListener("abort",u)});Sy.set(e,t)}let Ay={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Sy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nR.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return na(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $M(e){Ay=e(Ay)}function KM(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(zg(this),t,...n);return nR.set(i,t.sort?t.sort():[t]),na(i)}:qM().includes(e)?function(...t){return e.apply(zg(this),t),na(eR.get(this))}:function(...t){return na(e.apply(zg(this),t))}}function QM(e){return typeof e=="function"?KM(e):(e instanceof IDBTransaction&&GM(e),BM(e,zM())?new Proxy(e,Ay):e)}function na(e){if(e instanceof IDBRequest)return HM(e);if(Bg.has(e))return Bg.get(e);const t=QM(e);return t!==e&&(Bg.set(e,t),jv.set(t,e)),t}const zg=e=>jv.get(e);function iR(e,t,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(e,t),h=na(u);return i&&u.addEventListener("upgradeneeded",m=>{i(na(u.result),m.oldVersion,m.newVersion,na(u.transaction),m)}),n&&u.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const YM=["get","getKey","getAll","getAllKeys","count"],XM=["put","add","delete","clear"],qg=new Map;function nw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qg.get(t))return qg.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,a=XM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||YM.includes(n)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&m.done]))[0]};return qg.set(t,l),l}$M(e=>({...e,get:(t,n,i)=>nw(t,n)||e.get(t,n,i),has:(t,n)=>!!nw(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function ZM(e){return e.getComponent()?.type==="VERSION"}const Ry="@firebase/app",iw="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new sm("@firebase/app"),JM="@firebase/app-compat",tO="@firebase/analytics-compat",eO="@firebase/analytics",nO="@firebase/app-check-compat",iO="@firebase/app-check",rO="@firebase/auth",sO="@firebase/auth-compat",aO="@firebase/database",oO="@firebase/data-connect",lO="@firebase/database-compat",uO="@firebase/functions",cO="@firebase/functions-compat",hO="@firebase/installations",fO="@firebase/installations-compat",dO="@firebase/messaging",mO="@firebase/messaging-compat",pO="@firebase/performance",gO="@firebase/performance-compat",yO="@firebase/remote-config",vO="@firebase/remote-config-compat",_O="@firebase/storage",TO="@firebase/storage-compat",EO="@firebase/firestore",bO="@firebase/ai",wO="@firebase/firestore-compat",SO="firebase",AO="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="[DEFAULT]",RO={[Ry]:"fire-core",[JM]:"fire-core-compat",[eO]:"fire-analytics",[tO]:"fire-analytics-compat",[iO]:"fire-app-check",[nO]:"fire-app-check-compat",[rO]:"fire-auth",[sO]:"fire-auth-compat",[aO]:"fire-rtdb",[oO]:"fire-data-connect",[lO]:"fire-rtdb-compat",[uO]:"fire-fn",[cO]:"fire-fn-compat",[hO]:"fire-iid",[fO]:"fire-iid-compat",[dO]:"fire-fcm",[mO]:"fire-fcm-compat",[pO]:"fire-perf",[gO]:"fire-perf-compat",[yO]:"fire-rc",[vO]:"fire-rc-compat",[_O]:"fire-gcs",[TO]:"fire-gcs-compat",[EO]:"fire-fst",[wO]:"fire-fst-compat",[bO]:"fire-vertex","fire-js":"fire-js",[SO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=new Map,IO=new Map,Cy=new Map;function rw(e,t){try{e.container.addComponent(t)}catch(n){as.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Oi(e){const t=e.name;if(Cy.has(t))return as.debug(`There were multiple attempts to register component ${t}.`),!1;Cy.set(t,e);for(const n of wd.values())rw(n,e);for(const n of IO.values())rw(n,e);return!0}function ya(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Wn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ia=new go("app","Firebase",CO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ia.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=AO;function rR(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Iy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw ia.create("bad-app-name",{appName:String(a)});if(n||(n=X1()),!n)throw ia.create("no-options");const l=wd.get(a);if(l){if(aa(n,l.options)&&aa(i,l.config))return l;throw ia.create("duplicate-app",{appName:a})}const u=new kM(a);for(const m of Cy.values())u.addComponent(m);const h=new xO(n,i,u);return wd.set(a,h),h}function am(e=Iy){const t=wd.get(e);if(!t&&e===Iy&&X1())return rR();if(!t)throw ia.create("no-app",{appName:e});return t}function jn(e,t,n){let i=RO[e]??e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),as.warn(u.join(" "));return}Oi(new vi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="firebase-heartbeat-database",PO=1,Pc="firebase-heartbeat-store";let Hg=null;function sR(){return Hg||(Hg=iR(DO,PO,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Pc)}catch(n){console.warn(n)}}}}).catch(e=>{throw ia.create("idb-open",{originalErrorMessage:e.message})})),Hg}async function VO(e){try{const n=(await sR()).transaction(Pc),i=await n.objectStore(Pc).get(aR(e));return await n.done,i}catch(t){if(t instanceof ji)as.warn(t.message);else{const n=ia.create("idb-get",{originalErrorMessage:t?.message});as.warn(n.message)}}}async function sw(e,t){try{const i=(await sR()).transaction(Pc,"readwrite");await i.objectStore(Pc).put(t,aR(e)),await i.done}catch(n){if(n instanceof ji)as.warn(n.message);else{const i=ia.create("idb-set",{originalErrorMessage:n?.message});as.warn(i.message)}}}function aR(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=1024,MO=30;class OO{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>MO){const a=UO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){as.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aw(),{heartbeatsToSend:n,unsentEntries:i}=kO(this._heartbeatsCache.heartbeats),a=bd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return as.warn(t),""}}}function aw(){return new Date().toISOString().substring(0,10)}function kO(e,t=NO){const n=[];let i=e.slice();for(const a of e){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),ow(n)>t){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),ow(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ow(e){return bd(JSON.stringify({version:2,heartbeats:e})).length}function UO(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(e){Oi(new vi("platform-logger",t=>new WM(t),"PRIVATE")),Oi(new vi("heartbeat",t=>new OO(t),"PRIVATE")),jn(Ry,iw,e),jn(Ry,iw,"esm2020"),jn("fire-js","")}jO("");function oR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const FO=oR,lR=new go("auth","Firebase",oR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new sm("@firebase/auth");function BO(e,...t){Sd.logLevel<=$t.WARN&&Sd.warn(`Auth (${jl}): ${e}`,...t)}function id(e,...t){Sd.logLevel<=$t.ERROR&&Sd.error(`Auth (${jl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e,...t){throw Fv(e,...t)}function ur(e,...t){return Fv(e,...t)}function uR(e,t,n){const i={...FO(),[t]:n};return new go("auth","Firebase",i).create(t,{appName:e.name})}function ns(e){return uR(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fv(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return lR.create(e,...t)}function xt(e,t,...n){if(!e)throw Fv(t,...n)}function Jr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw id(t),new Error(t)}function os(e,t){e||Jr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(){return typeof self<"u"&&self.location?.href||""}function zO(){return lw()==="http:"||lw()==="https:"}function lw(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zO()||Z1()||"connection"in navigator)?navigator.onLine:!0}function HO(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,n){this.shortDelay=t,this.longDelay=n,os(n>t,"Short delay should be less than long delay!"),this.isMobile=pM()||vM()}get(){return qO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(e,t){os(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KO=new Xc(3e4,6e4);function va(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function ds(e,t,n,i,a={}){return hR(e,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const h=Yc({key:e.config.apiKey,...u}).slice(1),m=await e._getAdditionalHeaders();m["Content-Type"]="application/json",e.languageCode&&(m["X-Firebase-Locale"]=e.languageCode);const p={method:t,headers:m,...l};return yM()||(p.referrerPolicy="no-referrer"),e.emulatorConfig&&po(e.emulatorConfig.host)&&(p.credentials="include"),cR.fetch()(await fR(e,e.config.apiHost,n,h),p)})}async function hR(e,t,n){e._canInitEmulator=!1;const i={...GO,...t};try{const a=new YO(e),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Ff(e,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ff(e,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Ff(e,"email-already-in-use",u);if(m==="USER_DISABLED")throw Ff(e,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw uR(e,y,p);ki(e,y)}}catch(a){if(a instanceof ji)throw a;ki(e,"network-request-failed",{message:String(a)})}}async function Wc(e,t,n,i,a={}){const l=await ds(e,t,n,i,a);return"mfaPendingCredential"in l&&ki(e,"multi-factor-auth-required",{_serverResponse:l}),l}async function fR(e,t,n,i){const a=`${t}${n}?${i}`,l=e,u=l.config.emulator?Bv(e.config,a):`${e.config.apiScheme}://${a}`;return $O.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function QO(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ur(this.auth,"network-request-failed")),KO.get())})}}function Ff(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=ur(e,t,i);return a.customData._tokenResponse=n,a}function uw(e){return e!==void 0&&e.enterprise!==void 0}class XO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return QO(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WO(e,t){return ds(e,"GET","/v2/recaptchaConfig",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(e,t){return ds(e,"POST","/v1/accounts:delete",t)}async function Ad(e,t){return ds(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JO(e,t=!1){const n=we(e),i=await n.getIdToken(t),a=zv(i);xt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:mc(Gg(a.auth_time)),issuedAtTime:mc(Gg(a.iat)),expirationTime:mc(Gg(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gg(e){return Number(e)*1e3}function zv(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const a=K1(n);return a?JSON.parse(a):(id("Failed to decode base64 JWT payload"),null)}catch(a){return id("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cw(e){const t=zv(e);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof ji&&tk(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function tk({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=mc(this.lastLoginAt),this.creationTime=mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd(e){const t=e.auth,n=await e.getIdToken(),i=await Il(e,Ad(t,{idToken:n}));xt(i?.users.length,t,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const l=a.providerUserInfo?.length?dR(a.providerUserInfo):[],u=ik(e.providerData,l),h=e.isAnonymous,m=!(e.email&&a.passwordHash)&&!u?.length,p=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(e,y)}async function nk(e){const t=we(e);await Rd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ik(e,t){return[...e.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function dR(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(e,t){const n=await hR(e,{},async()=>{const i=Yc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=e.config,u=await fR(e,a,"/v1/token",`key=${l}`),h=await e._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return e.emulatorConfig&&po(e.emulatorConfig.host)&&(m.credentials="include"),cR.fetch()(u,m)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sk(e,t){return ds(e,"POST","/v2/accounts:revokeToken",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):cw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const n=cw(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await rk(t,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new El;return i&&(xt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(xt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(xt(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return Jr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(e,t){xt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ni{constructor({uid:t,auth:n,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new ek(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Dy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const n=await Il(this,this.stsTokenManager.getToken(this.auth,t));return xt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return JO(this,t)}reload(){return nk(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ni({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Rd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(ns(this.auth));const t=await this.getIdToken();return await Il(this,ZO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,m=n._redirectEventId??void 0,p=n.createdAt??void 0,y=n.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:A,providerData:D,stsTokenManager:x}=n;xt(_&&x,t,"internal-error");const P=El.fromJSON(this.name,x);xt(typeof _=="string",t,"internal-error"),Gs(i,t.name),Gs(a,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof A=="boolean",t,"internal-error"),Gs(l,t.name),Gs(u,t.name),Gs(h,t.name),Gs(m,t.name),Gs(p,t.name),Gs(y,t.name);const U=new Ni({uid:_,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(U.providerData=D.map(N=>({...N}))),m&&(U._redirectEventId=m),U}static async _fromIdTokenResponse(t,n,i=!1){const a=new El;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Rd(l),l}static async _fromGetAccountInfoResponse(t,n,i){const a=n.users[0];xt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?dR(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new El;h.updateFromIdToken(i);const m=new Ni({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Dy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw=new Map;function ts(e){os(e instanceof Function,"Expected a class definition");let t=hw.get(e);return t?(os(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}mR.type="NONE";const fw=mR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rd(e,t,n){return`firebase:${e}:${t}:${n}`}class bl{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=rd(this.userKey,a.apiKey,l),this.fullPersistenceKey=rd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Ad(this.auth,{idToken:t}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,t):null}return Ni._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new bl(ts(fw),t,i);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||ts(fw);const u=rd(i,t.config.apiKey,t.name);let h=null;for(const p of n)try{const y=await p._get(u);if(y){let _;if(typeof y=="string"){const T=await Ad(t,{idToken:y}).catch(()=>{});if(!T)break;_=await Ni._fromGetAccountInfoResponse(t,T,y)}else _=Ni._fromJSON(t,y);p!==l&&(h=_),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new bl(l,t,i):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new bl(l,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(vR(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(pR(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(TR(t))return"Blackberry";if(ER(t))return"Webos";if(gR(t))return"Safari";if((t.includes("chrome/")||yR(t))&&!t.includes("edge/"))return"Chrome";if(_R(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function pR(e=bn()){return/firefox\//i.test(e)}function gR(e=bn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function yR(e=bn()){return/crios\//i.test(e)}function vR(e=bn()){return/iemobile/i.test(e)}function _R(e=bn()){return/android/i.test(e)}function TR(e=bn()){return/blackberry/i.test(e)}function ER(e=bn()){return/webos/i.test(e)}function qv(e=bn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ak(e=bn()){return qv(e)&&!!window.navigator?.standalone}function ok(){return _M()&&document.documentMode===10}function bR(e=bn()){return qv(e)||_R(e)||ER(e)||TR(e)||/windows phone/i.test(e)||vR(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e,t=[]){let n;switch(e){case"Browser":n=dw(bn());break;case"Worker":n=`${dw(bn())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=l=>new Promise((u,h)=>{try{const m=t(l);u(m)}catch(m){h(m)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(e,t={}){return ds(e,"GET","/v2/passwordPolicy",va(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=6;class hk{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ck,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),a&&(n.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(t,n,i,a){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mw(this),this.idTokenSubscription=new mw(this),this.beforeStateQueue=new lk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Ad(this,{idToken:t}),i=await Ni._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Rd(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=HO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(ns(this));const n=t?we(t):null;return n&&xt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uk(this),n=new hk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new go("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await sk(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ts(t)||this._popupRedirectResolver;xt(n,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const m=t.addObserver(n,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(n);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function yo(e){return we(e)}class mw{constructor(t){this.auth=t,this.observer=null,this.addObserver=RM(n=>this.observer=n)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dk(e){om=e}function SR(e){return om.loadJS(e)}function mk(){return om.recaptchaEnterpriseScript}function pk(){return om.gapiScript}function gk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class yk{constructor(){this.enterprise=new vk}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class vk{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const _k="recaptcha-enterprise",AR="NO_RECAPTCHA";class Tk{constructor(t){this.type=_k,this.auth=yo(t)}async verify(t="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{WO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new XO(m);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(m=>{h(m)})})}function a(l,u,h){const m=window.grecaptcha;uw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:t}).then(p=>{u(p)}).catch(()=>{u(AR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yk().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&uw(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=mk();m.length!==0&&(m+=h),SR(m).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function pw(e,t,n,i=!1,a=!1){const l=new Tk(e);let u;if(a)u=AR;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Py(e,t,n,i,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pw(e,t,n,n==="getOobCode");return i(e,l)}else return i(e,t).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await pw(e,t,n,n==="getOobCode");return i(e,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(e,t){const n=ya(e,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(aa(l,t??{}))return a;ki(a,"already-initialized")}return n.initialize({options:t})}function bk(e,t){const n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(ts);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function wk(e,t,n){const i=yo(e);xt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=RR(t),{host:u,port:h}=Sk(t),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){xt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xt(aa(p,i.config.emulator)&&aa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,po(u)?(Lv(`${l}//${u}${m}`),Uv("Auth",!0)):Ak()}function RR(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sk(e){const t=RR(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:gw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:gw(u)}}}function gw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ak(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(t){return Jr("not implemented")}_linkToIdToken(t,n){return Jr("not implemented")}_getReauthenticationResolver(t){return Jr("not implemented")}}async function Rk(e,t){return ds(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ik(e,t){return Wc(e,"POST","/v1/accounts:signInWithPassword",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ck(e,t){return Wc(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}async function xk(e,t){return Wc(e,"POST","/v1/accounts:signInWithEmailLink",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends Hv{constructor(t,n,i,a=null){super("password",i),this._email=t,this._password=n,this._tenantId=a}static _fromEmailAndPassword(t,n){return new Vc(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Vc(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(t,n,"signInWithPassword",Ik);case"emailLink":return Ck(t,{email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Py(t,i,"signUpPassword",Rk);case"emailLink":return xk(t,{idToken:n,email:this._email,oobCode:this._password});default:ki(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wl(e,t){return Wc(e,"POST","/v1/accounts:signInWithIdp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="http://localhost";class lo extends Hv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new lo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=n;if(!i||!a)return null;const u=new lo(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const n=this.buildRequest();return wl(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,wl(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wl(t,n)}buildRequest(){const t={requestUri:Dk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Yc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vk(e){const t=ac(oc(e)).link,n=t?ac(oc(t)).deep_link_id:null,i=ac(oc(e)).deep_link_id;return(i?ac(oc(i)).link:null)||i||n||t||e}class Gv{constructor(t){const n=ac(oc(t)),i=n.apiKey??null,a=n.oobCode??null,l=Pk(n.mode??null);xt(i&&a&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=Vk(t);try{return new Gv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(){this.providerId=Fl.PROVIDER_ID}static credential(t,n){return Vc._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Gv.parseLink(n);return xt(i,"argument-error"),Vc._fromEmailAndCode(t,i.code,i.tenantId)}}Fl.PROVIDER_ID="password";Fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends IR{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Zc{constructor(){super("facebook.com")}static credential(t){return lo._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Zc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return lo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ws.credential(n,i)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Zc{constructor(){super("github.com")}static credential(t){return lo._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Zs.credentialFromTaggedObject(t)}static credentialFromError(t){return Zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Zs.credential(t.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Zc{constructor(){super("twitter.com")}static credential(t,n){return lo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Js.credential(n,i)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(e,t){return Wc(e,"POST","/v1/accounts:signUp",va(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,a=!1){const l=await Ni._fromIdTokenResponse(t,i,a),u=yw(i);return new uo({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const a=yw(i);return new uo({user:t,providerId:a,_tokenResponse:i,operationType:n})}}function yw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends ji{constructor(t,n,i,a){super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Id.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,a){return new Id(t,n,i,a)}}function CR(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Id._fromErrorAndOperation(e,l,t,i):l})}async function Mk(e,t,n=!1){const i=await Il(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return uo._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ok(e,t,n=!1){const{auth:i}=e;if(Wn(i.app))return Promise.reject(ns(i));const a="reauthenticate";try{const l=await Il(e,CR(i,a,t,e),n);xt(l.idToken,i,"internal-error");const u=zv(l.idToken);xt(u,i,"internal-error");const{sub:h}=u;return xt(e.uid===h,i,"user-mismatch"),uo._forOperation(e,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ki(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR(e,t,n=!1){if(Wn(e.app))return Promise.reject(ns(e));const i="signIn",a=await CR(e,i,t),l=await uo._fromIdTokenResponse(e,i,a);return n||await e._updateCurrentUser(l.user),l}async function kk(e,t){return xR(yo(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DR(e){const t=yo(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Lk(e,t,n){if(Wn(e.app))return Promise.reject(ns(e));const i=yo(e),u=await Py(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nk).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&DR(e),m}),h=await uo._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function Uk(e,t,n){return Wn(e.app)?Promise.reject(ns(e)):kk(we(e),Fl.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&DR(e),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jk(e,t){return ds(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fk(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const i=we(e),l={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},u=await Il(i,jk(i.auth,l));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:m})=>m==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function Bk(e,t,n,i){return we(e).onIdTokenChanged(t,n,i)}function zk(e,t,n){return we(e).beforeAuthStateChanged(t,n)}function qk(e,t,n,i){return we(e).onAuthStateChanged(t,n,i)}function Hk(e){return we(e).signOut()}const Cd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Cd,"1"),this.storage.removeItem(Cd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=1e3,$k=10;class VR extends PR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&t(n,a,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const i=t.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);ok()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,$k):a()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Gk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}VR.type="LOCAL";const Kk=VR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends PR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}NR.type="SESSION";const MR=NR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(a=>a.isListeningto(t));if(n)return n;const i=new lm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),m=await Qk(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=$v("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(_){const T=_;if(T.data.eventId===p)switch(T.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(T.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return window}function Xk(e){cr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){return typeof cr().WorkerGlobalScope<"u"&&typeof cr().importScripts=="function"}async function Wk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zk(){return navigator?.serviceWorker?.controller||null}function Jk(){return OR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="firebaseLocalStorageDb",tL=1,xd="firebaseLocalStorage",LR="fbase_key";class Jc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function um(e,t){return e.transaction([xd],t?"readwrite":"readonly").objectStore(xd)}function eL(){const e=indexedDB.deleteDatabase(kR);return new Jc(e).toPromise()}function Vy(){const e=indexedDB.open(kR,tL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(xd,{keyPath:LR})}catch(a){n(a)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(xd)?t(i):(i.close(),await eL(),t(await Vy()))})})}async function vw(e,t,n){const i=um(e,!0).put({[LR]:t,value:n});return new Jc(i).toPromise()}async function nL(e,t){const n=um(e,!1).get(t),i=await new Jc(n).toPromise();return i===void 0?null:i.value}function _w(e,t){const n=um(e,!0).delete(t);return new Jc(n).toPromise()}const iL=800,rL=3;class UR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vy(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>rL)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lm._getInstance(Jk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Wk(),!this.activeServiceWorker)return;this.sender=new Yk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Zk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Vy();return await vw(t,Cd,"1"),await _w(t,Cd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vw(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>nL(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=um(a,!1).getAll();return new Jc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UR.type="LOCAL";const sL=UR;new Xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e,t){return t?ts(t):(xt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv extends Hv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function oL(e){return xR(e.auth,new Kv(e),e.bypassAuthState)}function lL(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Ok(n,new Kv(e),e.bypassAuthState)}async function uL(e){const{auth:t,user:n}=e;return xt(n,t,"internal-error"),Mk(n,new Kv(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oL;case"linkViaPopup":case"linkViaRedirect":return uL;case"reauthViaPopup":case"reauthViaRedirect":return lL;default:ki(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Xc(2e3,1e4);class pl extends jR{constructor(t,n,i,a,l){super(t,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=$v();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cL.get())};t()}}pl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL="pendingRedirect",sd=new Map;class fL extends jR{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=sd.get(this.auth._key());if(!t){try{const i=await dL(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}sd.set(this.auth._key(),t)}return this.bypassAuthState||sd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dL(e,t){const n=gL(t),i=pL(e);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function mL(e,t){sd.set(e._key(),t)}function pL(e){return ts(e._redirectPersistence)}function gL(e){return rd(hL,e.config.apiKey,e.name)}async function yL(e,t,n=!1){if(Wn(e.app))return Promise.reject(ns(e));const i=yo(e),a=aL(i,t),u=await new fL(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=600*1e3;class _L{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!FR(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ur(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(t))}saveEventToCache(t){this.cachedEventUids.add(Tw(t)),this.lastProcessedEventTime=Date.now()}}function Tw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function FR({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function TL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FR(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(e,t={}){return ds(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wL=/^https?/;async function SL(e){if(e.config.emulator)return;const{authorizedDomains:t}=await EL(e);for(const n of t)try{if(AL(n))return}catch{}ki(e,"unauthorized-domain")}function AL(e){const t=xy(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const u=new URL(e);return u.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!wL.test(n))return!1;if(bL.test(e))return i===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL=new Xc(3e4,6e4);function Ew(){const e=cr().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function IL(e){return new Promise((t,n)=>{function i(){Ew(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ew(),n(ur(e,"network-request-failed"))},timeout:RL.get()})}if(cr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(cr().gapi?.load)i();else{const a=gk("iframefcb");return cr()[a]=()=>{gapi.load?i():n(ur(e,"network-request-failed"))},SR(`${pk()}?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw ad=null,t})}let ad=null;function CL(e){return ad=ad||IL(e),ad}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new Xc(5e3,15e3),DL="__/auth/iframe",PL="emulator/auth/iframe",VL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ML(e){const t=e.config;xt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Bv(t,PL):`https://${e.config.authDomain}/${DL}`,i={apiKey:t.apiKey,appName:e.name,v:jl},a=NL.get(e.config.apiHost);a&&(i.eid=a);const l=e._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Yc(i).slice(1)}`}async function OL(e){const t=await CL(e),n=cr().gapi;return xt(n,e,"internal-error"),t.open({where:document.body,url:ML(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VL,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=ur(e,"network-request-failed"),h=cr().setTimeout(()=>{l(u)},xL.get());function m(){cr().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LL=500,UL=600,jL="_blank",FL="http://localhost";class bw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BL(e,t,n,i=LL,a=UL){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...kL,width:i.toString(),height:a.toString(),top:l,left:u},p=bn().toLowerCase();n&&(h=yR(p)?jL:n),pR(p)&&(t=t||FL,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[A,D])=>`${T}${A}=${D},`,"");if(ak(p)&&h!=="_self")return zL(t||"",h),new bw(null);const _=window.open(t||"",h,y);xt(_,e,"popup-blocked");try{_.focus()}catch{}return new bw(_)}function zL(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="__/auth/handler",HL="emulator/auth/handler",GL=encodeURIComponent("fac");async function ww(e,t,n,i,a,l){xt(e.config.authDomain,e,"auth-domain-config-required"),xt(e.config.apiKey,e,"invalid-api-key");const u={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:jl,eventId:a};if(t instanceof IR){t.setDefaultLanguage(e.languageCode),u.providerId=t.providerId||"",AM(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,_]of Object.entries({}))u[y]=_}if(t instanceof Zc){const y=t.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}e.tenantId&&(u.tid=e.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await e._getAppCheckToken(),p=m?`#${GL}=${encodeURIComponent(m)}`:"";return`${$L(e)}?${Yc(h).slice(1)}${p}`}function $L({config:e}){return e.emulator?Bv(e,HL):`https://${e.authDomain}/${qL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="webStorageSupport";class KL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=MR,this._completeRedirectFn=yL,this._overrideRedirectResult=mL}async _openPopup(t,n,i,a){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ww(t,n,i,xy(),a);return BL(t,l,$v())}async _openRedirect(t,n,i,a){await this._originValidation(t);const l=await ww(t,n,i,xy(),a);return Xk(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(os(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await OL(t),i=new _L(t);return n.register("authEvent",a=>(xt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send($g,{type:$g},a=>{const l=a?.[0]?.[$g];l!==void 0&&n(!!l),ki(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return bR()||gR()||qv()}}const QL=KL;var Sw="@firebase/auth",Aw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WL(e){Oi(new vi("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;xt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:h,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wR(e)},p=new fk(i,a,l,m);return bk(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Oi(new vi("auth-internal",t=>{const n=yo(t.getProvider("auth").getImmediate());return(i=>new YL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(Sw,Aw,XL(e)),jn(Sw,Aw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=300,JL=W1("authIdTokenMaxAge")||ZL;let Rw=null;const t4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>JL)return;const a=n?.token;Rw!==a&&(Rw=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function e4(e=am()){const t=ya(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Ek(e,{popupRedirectResolver:QL,persistence:[sL,Kk,MR]}),i=W1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=t4(l.toString());zk(n,u,()=>u(n.currentUser)),Bk(n,h=>u(h))}}const a=Q1("auth");return a&&wk(n,`http://${a}`),n}function n4(){return document.getElementsByTagName("head")?.[0]??document}dk({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=a=>{const l=ur("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",n4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WL("Browser");var i4="firebase",r4="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(i4,r4,"app");var Iw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ra,BR;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function I(){}I.prototype=R.prototype,M.D=R.prototype,M.prototype=new I,M.prototype.constructor=M,M.C=function(L,F,j){for(var C=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)C[Lt-2]=arguments[Lt];return R.prototype[F].apply(L,C)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,R,I){I||(I=0);var L=Array(16);if(typeof R=="string")for(var F=0;16>F;++F)L[F]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(F=0;16>F;++F)L[F]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=M.g[0],I=M.g[1],F=M.g[2];var j=M.g[3],C=R+(j^I&(F^j))+L[0]+3614090360&4294967295;R=I+(C<<7&4294967295|C>>>25),C=j+(F^R&(I^F))+L[1]+3905402710&4294967295,j=R+(C<<12&4294967295|C>>>20),C=F+(I^j&(R^I))+L[2]+606105819&4294967295,F=j+(C<<17&4294967295|C>>>15),C=I+(R^F&(j^R))+L[3]+3250441966&4294967295,I=F+(C<<22&4294967295|C>>>10),C=R+(j^I&(F^j))+L[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(F^R&(I^F))+L[5]+1200080426&4294967295,j=R+(C<<12&4294967295|C>>>20),C=F+(I^j&(R^I))+L[6]+2821735955&4294967295,F=j+(C<<17&4294967295|C>>>15),C=I+(R^F&(j^R))+L[7]+4249261313&4294967295,I=F+(C<<22&4294967295|C>>>10),C=R+(j^I&(F^j))+L[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(F^R&(I^F))+L[9]+2336552879&4294967295,j=R+(C<<12&4294967295|C>>>20),C=F+(I^j&(R^I))+L[10]+4294925233&4294967295,F=j+(C<<17&4294967295|C>>>15),C=I+(R^F&(j^R))+L[11]+2304563134&4294967295,I=F+(C<<22&4294967295|C>>>10),C=R+(j^I&(F^j))+L[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=j+(F^R&(I^F))+L[13]+4254626195&4294967295,j=R+(C<<12&4294967295|C>>>20),C=F+(I^j&(R^I))+L[14]+2792965006&4294967295,F=j+(C<<17&4294967295|C>>>15),C=I+(R^F&(j^R))+L[15]+1236535329&4294967295,I=F+(C<<22&4294967295|C>>>10),C=R+(F^j&(I^F))+L[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^F&(R^I))+L[6]+3225465664&4294967295,j=R+(C<<9&4294967295|C>>>23),C=F+(R^I&(j^R))+L[11]+643717713&4294967295,F=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(F^j))+L[0]+3921069994&4294967295,I=F+(C<<20&4294967295|C>>>12),C=R+(F^j&(I^F))+L[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^F&(R^I))+L[10]+38016083&4294967295,j=R+(C<<9&4294967295|C>>>23),C=F+(R^I&(j^R))+L[15]+3634488961&4294967295,F=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(F^j))+L[4]+3889429448&4294967295,I=F+(C<<20&4294967295|C>>>12),C=R+(F^j&(I^F))+L[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^F&(R^I))+L[14]+3275163606&4294967295,j=R+(C<<9&4294967295|C>>>23),C=F+(R^I&(j^R))+L[3]+4107603335&4294967295,F=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(F^j))+L[8]+1163531501&4294967295,I=F+(C<<20&4294967295|C>>>12),C=R+(F^j&(I^F))+L[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=j+(I^F&(R^I))+L[2]+4243563512&4294967295,j=R+(C<<9&4294967295|C>>>23),C=F+(R^I&(j^R))+L[7]+1735328473&4294967295,F=j+(C<<14&4294967295|C>>>18),C=I+(j^R&(F^j))+L[12]+2368359562&4294967295,I=F+(C<<20&4294967295|C>>>12),C=R+(I^F^j)+L[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^F)+L[8]+2272392833&4294967295,j=R+(C<<11&4294967295|C>>>21),C=F+(j^R^I)+L[11]+1839030562&4294967295,F=j+(C<<16&4294967295|C>>>16),C=I+(F^j^R)+L[14]+4259657740&4294967295,I=F+(C<<23&4294967295|C>>>9),C=R+(I^F^j)+L[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^F)+L[4]+1272893353&4294967295,j=R+(C<<11&4294967295|C>>>21),C=F+(j^R^I)+L[7]+4139469664&4294967295,F=j+(C<<16&4294967295|C>>>16),C=I+(F^j^R)+L[10]+3200236656&4294967295,I=F+(C<<23&4294967295|C>>>9),C=R+(I^F^j)+L[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^F)+L[0]+3936430074&4294967295,j=R+(C<<11&4294967295|C>>>21),C=F+(j^R^I)+L[3]+3572445317&4294967295,F=j+(C<<16&4294967295|C>>>16),C=I+(F^j^R)+L[6]+76029189&4294967295,I=F+(C<<23&4294967295|C>>>9),C=R+(I^F^j)+L[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=j+(R^I^F)+L[12]+3873151461&4294967295,j=R+(C<<11&4294967295|C>>>21),C=F+(j^R^I)+L[15]+530742520&4294967295,F=j+(C<<16&4294967295|C>>>16),C=I+(F^j^R)+L[2]+3299628645&4294967295,I=F+(C<<23&4294967295|C>>>9),C=R+(F^(I|~j))+L[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~F))+L[7]+1126891415&4294967295,j=R+(C<<10&4294967295|C>>>22),C=F+(R^(j|~I))+L[14]+2878612391&4294967295,F=j+(C<<15&4294967295|C>>>17),C=I+(j^(F|~R))+L[5]+4237533241&4294967295,I=F+(C<<21&4294967295|C>>>11),C=R+(F^(I|~j))+L[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~F))+L[3]+2399980690&4294967295,j=R+(C<<10&4294967295|C>>>22),C=F+(R^(j|~I))+L[10]+4293915773&4294967295,F=j+(C<<15&4294967295|C>>>17),C=I+(j^(F|~R))+L[1]+2240044497&4294967295,I=F+(C<<21&4294967295|C>>>11),C=R+(F^(I|~j))+L[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~F))+L[15]+4264355552&4294967295,j=R+(C<<10&4294967295|C>>>22),C=F+(R^(j|~I))+L[6]+2734768916&4294967295,F=j+(C<<15&4294967295|C>>>17),C=I+(j^(F|~R))+L[13]+1309151649&4294967295,I=F+(C<<21&4294967295|C>>>11),C=R+(F^(I|~j))+L[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=j+(I^(R|~F))+L[11]+3174756917&4294967295,j=R+(C<<10&4294967295|C>>>22),C=F+(R^(j|~I))+L[2]+718787259&4294967295,F=j+(C<<15&4294967295|C>>>17),C=I+(j^(F|~R))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(F+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+F&4294967295,M.g[3]=M.g[3]+j&4294967295}i.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var I=R-this.blockSize,L=this.B,F=this.h,j=0;j<R;){if(F==0)for(;j<=I;)a(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(L[F++]=M.charCodeAt(j++),F==this.blockSize){a(this,L),F=0;break}}else for(;j<R;)if(L[F++]=M[j++],F==this.blockSize){a(this,L),F=0;break}}this.h=F,this.o+=R},i.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var I=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=I&255,I/=256;for(this.u(M),M=Array(16),R=I=0;4>R;++R)for(var L=0;32>L;L+=8)M[I++]=this.g[R]>>>L&255;return M};function l(M,R){var I=h;return Object.prototype.hasOwnProperty.call(I,M)?I[M]:I[M]=R(M)}function u(M,R){this.h=R;for(var I=[],L=!0,F=M.length-1;0<=F;F--){var j=M[F]|0;L&&j==R||(I[F]=j,L=!1)}this.g=I}var h={};function m(M){return-128<=M&&128>M?l(M,function(R){return new u([R|0],0>R?-1:0)}):new u([M|0],0>M?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return _;if(0>M)return P(p(-M));for(var R=[],I=1,L=0;M>=I;L++)R[L]=M/I|0,I*=4294967296;return new u(R,0)}function y(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return P(y(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(R,8)),L=_,F=0;F<M.length;F+=8){var j=Math.min(8,M.length-F),C=parseInt(M.substring(F,F+j),R);8>j?(j=p(Math.pow(R,j)),L=L.j(j).add(p(C))):(L=L.j(I),L=L.add(p(C)))}return L}var _=m(0),T=m(1),A=m(16777216);e=u.prototype,e.m=function(){if(x(this))return-P(this).m();for(var M=0,R=1,I=0;I<this.g.length;I++){var L=this.i(I);M+=(0<=L?L:4294967296+L)*R,R*=4294967296}return M},e.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(x(this))return"-"+P(this).toString(M);for(var R=p(Math.pow(M,6)),I=this,L="";;){var F=ut(I,R).g;I=U(I,F.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(M);if(I=F,D(I))return j+L;for(;6>j.length;)j="0"+j;L=j+L}},e.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function x(M){return M.h==-1}e.l=function(M){return M=U(this,M),x(M)?-1:D(M)?0:1};function P(M){for(var R=M.g.length,I=[],L=0;L<R;L++)I[L]=~M.g[L];return new u(I,~M.h).add(T)}e.abs=function(){return x(this)?P(this):this},e.add=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],L=0,F=0;F<=R;F++){var j=L+(this.i(F)&65535)+(M.i(F)&65535),C=(j>>>16)+(this.i(F)>>>16)+(M.i(F)>>>16);L=C>>>16,j&=65535,C&=65535,I[F]=C<<16|j}return new u(I,I[I.length-1]&-2147483648?-1:0)};function U(M,R){return M.add(P(R))}e.j=function(M){if(D(this)||D(M))return _;if(x(this))return x(M)?P(this).j(P(M)):P(P(this).j(M));if(x(M))return P(this.j(P(M)));if(0>this.l(A)&&0>M.l(A))return p(this.m()*M.m());for(var R=this.g.length+M.g.length,I=[],L=0;L<2*R;L++)I[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<M.g.length;F++){var j=this.i(L)>>>16,C=this.i(L)&65535,Lt=M.i(F)>>>16,Ut=M.i(F)&65535;I[2*L+2*F]+=C*Ut,N(I,2*L+2*F),I[2*L+2*F+1]+=j*Ut,N(I,2*L+2*F+1),I[2*L+2*F+1]+=C*Lt,N(I,2*L+2*F+1),I[2*L+2*F+2]+=j*Lt,N(I,2*L+2*F+2)}for(L=0;L<R;L++)I[L]=I[2*L+1]<<16|I[2*L];for(L=R;L<2*R;L++)I[L]=0;return new u(I,0)};function N(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function H(M,R){this.g=M,this.h=R}function ut(M,R){if(D(R))throw Error("division by zero");if(D(M))return new H(_,_);if(x(M))return R=ut(P(M),R),new H(P(R.g),P(R.h));if(x(R))return R=ut(M,P(R)),new H(P(R.g),R.h);if(30<M.g.length){if(x(M)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,L=R;0>=L.l(M);)I=tt(I),L=tt(L);var F=_t(I,1),j=_t(L,1);for(L=_t(L,2),I=_t(I,2);!D(L);){var C=j.add(L);0>=C.l(M)&&(F=F.add(I),j=C),L=_t(L,1),I=_t(I,1)}return R=U(M,F.j(R)),new H(F,R)}for(F=_;0<=M.l(R);){for(I=Math.max(1,Math.floor(M.m()/R.m())),L=Math.ceil(Math.log(I)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),j=p(I),C=j.j(R);x(C)||0<C.l(M);)I-=L,j=p(I),C=j.j(R);D(j)&&(j=T),F=F.add(j),M=U(M,C)}return new H(F,M)}e.A=function(M){return ut(this,M).h},e.and=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],L=0;L<R;L++)I[L]=this.i(L)&M.i(L);return new u(I,this.h&M.h)},e.or=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],L=0;L<R;L++)I[L]=this.i(L)|M.i(L);return new u(I,this.h|M.h)},e.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),I=[],L=0;L<R;L++)I[L]=this.i(L)^M.i(L);return new u(I,this.h^M.h)};function tt(M){for(var R=M.g.length+1,I=[],L=0;L<R;L++)I[L]=M.i(L)<<1|M.i(L-1)>>>31;return new u(I,M.h)}function _t(M,R){var I=R>>5;R%=32;for(var L=M.g.length-I,F=[],j=0;j<L;j++)F[j]=0<R?M.i(j+I)>>>R|M.i(j+I+1)<<32-R:M.i(j+I);return new u(F,M.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BR=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,ra=u}).apply(typeof Iw<"u"?Iw:typeof self<"u"?self:typeof window<"u"?window:{});var Bf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zR,lc,qR,od,Ny,HR,GR,$R;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,E){return f==Array.prototype||f==Object.prototype||(f[v]=E.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bf=="object"&&Bf];for(var v=0;v<f.length;++v){var E=f[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=n(this);function a(f,v){if(v)t:{var E=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var $=f[S];if(!($ in E))break t;E=E[$]}f=f[f.length-1],S=E[f],v=v(S),v!=S&&v!=null&&t(E,f,{configurable:!0,writable:!0,value:v})}}function l(f,v){f instanceof String&&(f+="");var E=0,S=!1,$={next:function(){if(!S&&E<f.length){var J=E++;return{value:v(J,f[J]),done:!1}}return S=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(f){return f||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function p(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function y(f,v,E){return f.call.apply(f.bind,arguments)}function _(f,v,E){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,S),f.apply(v,$)}}return function(){return f.apply(v,arguments)}}function T(f,v,E){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,T.apply(null,arguments)}function A(f,v){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function D(f,v){function E(){}E.prototype=v.prototype,f.aa=v.prototype,f.prototype=new E,f.prototype.constructor=f,f.Qb=function(S,$,J){for(var ft=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)ft[Yt-2]=arguments[Yt];return v.prototype[$].apply(S,ft)}}function x(f){const v=f.length;if(0<v){const E=Array(v);for(let S=0;S<v;S++)E[S]=f[S];return E}return[]}function P(f,v){for(let E=1;E<arguments.length;E++){const S=arguments[E];if(m(S)){const $=f.length||0,J=S.length||0;f.length=$+J;for(let ft=0;ft<J;ft++)f[$+ft]=S[ft]}else f.push(S)}}class U{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function N(f){return/^[\s\xa0]*$/.test(f)}function H(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function ut(f){return ut[" "](f),f}ut[" "]=function(){};var tt=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function _t(f,v,E){for(const S in f)v.call(E,f[S],S,f)}function M(f,v){for(const E in f)v.call(void 0,f[E],E,f)}function R(f){const v={};for(const E in f)v[E]=f[E];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(f,v){let E,S;for(let $=1;$<arguments.length;$++){S=arguments[$];for(E in S)f[E]=S[E];for(let J=0;J<I.length;J++)E=I[J],Object.prototype.hasOwnProperty.call(S,E)&&(f[E]=S[E])}}function F(f){var v=1;f=f.split(":");const E=[];for(;0<v&&f.length;)E.push(f.shift()),v--;return f.length&&E.push(f.join(":")),E}function j(f){h.setTimeout(()=>{throw f},0)}function C(){var f=Mt;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class Lt{constructor(){this.h=this.g=null}add(v,E){const S=Ut.get();S.set(v,E),this.h?this.h.next=S:this.g=S,this.h=S}}var Ut=new U(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let lt,yt=!1,Mt=new Lt,O=()=>{const f=h.Promise.resolve(void 0);lt=()=>{f.then(ot)}};var ot=()=>{for(var f;f=C();){try{f.h.call(f.g)}catch(E){j(E)}var v=Ut;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}yt=!1};function mt(){this.s=this.s,this.C=this.C}mt.prototype.s=!1,mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ct(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ct.prototype.h=function(){this.defaultPrevented=!0};var At=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return f})();function jt(f,v){if(ct.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var E=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(tt){t:{try{ut(v.nodeName);var $=!0;break t}catch{}$=!1}$||(v=null)}}else E=="mouseover"?v=f.fromElement:E=="mouseout"&&(v=f.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Pt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&jt.aa.h.call(this)}}D(jt,ct);var Pt={2:"touch",3:"pen",4:"mouse"};jt.prototype.h=function(){jt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),ie=0;function Dn(f,v,E,S,$){this.listener=f,this.proxy=null,this.src=v,this.type=E,this.capture=!!S,this.ha=$,this.key=++ie,this.da=this.fa=!1}function ti(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function _i(f){this.src=f,this.g={},this.h=0}_i.prototype.add=function(f,v,E,S,$){var J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);var ft=Er(f,v,S,$);return-1<ft?(v=f[ft],E||(v.fa=!1)):(v=new Dn(v,this.src,J,!!S,$),v.fa=E,f.push(v)),v};function Bi(f,v){var E=v.type;if(E in f.g){var S=f.g[E],$=Array.prototype.indexOf.call(S,v,void 0),J;(J=0<=$)&&Array.prototype.splice.call(S,$,1),J&&(ti(v),f.g[E].length==0&&(delete f.g[E],f.h--))}}function Er(f,v,E,S){for(var $=0;$<f.length;++$){var J=f[$];if(!J.da&&J.listener==v&&J.capture==!!E&&J.ha==S)return $}return-1}var zi="closure_lm_"+(1e6*Math.random()|0),ms={};function To(f,v,E,S,$){if(Array.isArray(v)){for(var J=0;J<v.length;J++)To(f,v[J],E,S,$);return null}return E=ht(E),f&&f[Ae]?f.K(v,E,p(S)?!!S.capture:!1,$):Pn(f,v,E,!1,S,$)}function Pn(f,v,E,S,$,J){if(!v)throw Error("Invalid event type");var ft=p($)?!!$.capture:!!$,Yt=gt(f);if(Yt||(f[zi]=Yt=new _i(f)),E=Yt.add(v,E,S,ft,J),E.proxy)return E;if(S=dh(),E.proxy=S,S.src=f,S.listener=E,f.addEventListener)At||($=ft),$===void 0&&($=!1),f.addEventListener(v.toString(),S,$);else if(f.attachEvent)f.attachEvent(Y(v.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function dh(){function f(E){return v.call(f.src,f.listener,E)}const v=et;return f}function ps(f,v,E,S,$){if(Array.isArray(v))for(var J=0;J<v.length;J++)ps(f,v[J],E,S,$);else S=p(S)?!!S.capture:!!S,E=ht(E),f&&f[Ae]?(f=f.i,v=String(v).toString(),v in f.g&&(J=f.g[v],E=Er(J,E,S,$),-1<E&&(ti(J[E]),Array.prototype.splice.call(J,E,1),J.length==0&&(delete f.g[v],f.h--)))):f&&(f=gt(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Er(v,E,S,$)),(E=-1<f?v[f]:null)&&k(E))}function k(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[Ae])Bi(v.i,f);else{var E=f.type,S=f.proxy;v.removeEventListener?v.removeEventListener(E,S,f.capture):v.detachEvent?v.detachEvent(Y(E),S):v.addListener&&v.removeListener&&v.removeListener(S),(E=gt(v))?(Bi(E,f),E.h==0&&(E.src=null,v[zi]=null)):ti(f)}}}function Y(f){return f in ms?ms[f]:ms[f]="on"+f}function et(f,v){if(f.da)f=!0;else{v=new jt(v,this);var E=f.listener,S=f.ha||f.src;f.fa&&k(f),f=E.call(S,v)}return f}function gt(f){return f=f[zi],f instanceof _i?f:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(f){return typeof f=="function"?f:(f[dt]||(f[dt]=function(v){return f.handleEvent(v)}),f[dt])}function pt(){mt.call(this),this.i=new _i(this),this.M=this,this.F=null}D(pt,mt),pt.prototype[Ae]=!0,pt.prototype.removeEventListener=function(f,v,E,S){ps(this,f,v,E,S)};function wt(f,v){var E,S=f.F;if(S)for(E=[];S;S=S.F)E.push(S);if(f=f.M,S=v.type||v,typeof v=="string")v=new ct(v,f);else if(v instanceof ct)v.target=v.target||f;else{var $=v;v=new ct(S,f),L(v,$)}if($=!0,E)for(var J=E.length-1;0<=J;J--){var ft=v.g=E[J];$=Bt(ft,S,!0,v)&&$}if(ft=v.g=f,$=Bt(ft,S,!0,v)&&$,$=Bt(ft,S,!1,v)&&$,E)for(J=0;J<E.length;J++)ft=v.g=E[J],$=Bt(ft,S,!1,v)&&$}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var E=f.g[v],S=0;S<E.length;S++)ti(E[S]);delete f.g[v],f.h--}}this.F=null},pt.prototype.K=function(f,v,E,S){return this.i.add(String(f),v,!1,E,S)},pt.prototype.L=function(f,v,E,S){return this.i.add(String(f),v,!0,E,S)};function Bt(f,v,E,S){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var $=!0,J=0;J<v.length;++J){var ft=v[J];if(ft&&!ft.da&&ft.capture==E){var Yt=ft.listener,Ke=ft.ha||ft.src;ft.fa&&Bi(f.i,ft),$=Yt.call(Ke,S)!==!1&&$}}return $&&!S.defaultPrevented}function re(f,v,E){if(typeof f=="function")E&&(f=T(f,E));else if(f&&typeof f.handleEvent=="function")f=T(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:h.setTimeout(f,v||0)}function br(f){f.g=re(()=>{f.g=null,f.i&&(f.i=!1,br(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class ei extends mt{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:br(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(f){mt.call(this),this.h=f,this.g={}}D(wr,mt);var Ti=[];function Ei(f){_t(f.g,function(v,E){this.g.hasOwnProperty(E)&&k(v)},f),f.g={}}wr.prototype.N=function(){wr.aa.N.call(this),Ei(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Bn=h.JSON.stringify,Sr=h.JSON.parse,Ar=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function gs(){}gs.prototype.h=null;function Yl(f){return f.h||(f.h=f.i())}function Xl(){}var Rr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ir(){ct.call(this,"d")}D(Ir,ct);function Wl(){ct.call(this,"c")}D(Wl,ct);var qi={},Zl=null;function ys(){return Zl=Zl||new pt}qi.La="serverreachability";function Eo(f){ct.call(this,qi.La,f)}D(Eo,ct);function vs(f){const v=ys();wt(v,new Eo(v))}qi.STAT_EVENT="statevent";function mh(f,v){ct.call(this,qi.STAT_EVENT,f),this.stat=v}D(mh,ct);function pe(f){const v=ys();wt(v,new mh(v,f))}qi.Ma="timingevent";function $e(f,v){ct.call(this,qi.Ma,f),this.size=v}D($e,ct);function ke(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},v)}function ni(){this.g=!0}ni.prototype.xa=function(){this.g=!1};function Jl(f,v,E,S,$,J){f.info(function(){if(f.g)if(J)for(var ft="",Yt=J.split("&"),Ke=0;Ke<Yt.length;Ke++){var Xt=Yt[Ke].split("=");if(1<Xt.length){var Je=Xt[0];Xt=Xt[1];var Qe=Je.split("_");ft=2<=Qe.length&&Qe[1]=="type"?ft+(Je+"="+Xt+"&"):ft+(Je+"=redacted&")}}else ft=null;else ft=J;return"XMLHTTP REQ ("+S+") [attempt "+$+"]: "+v+`
`+E+`
`+ft})}function Mm(f,v,E,S,$,J,ft){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+$+"]: "+v+`
`+E+`
`+J+" "+ft})}function _s(f,v,E,S){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+ba(f,E)+(S?" "+S:"")})}function ph(f,v){f.info(function(){return"TIMEOUT: "+v})}ni.prototype.info=function(){};function ba(f,v){if(!f.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(f=0;f<E.length;f++)if(Array.isArray(E[f])){var S=E[f];if(!(2>S.length)){var $=S[1];if(Array.isArray($)&&!(1>$.length)){var J=$[0];if(J!="noop"&&J!="stop"&&J!="close")for(var ft=1;ft<$.length;ft++)$[ft]=""}}}}return Bn(E)}catch{return v}}var Ts={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hi;function Gi(){}D(Gi,gs),Gi.prototype.g=function(){return new XMLHttpRequest},Gi.prototype.i=function(){return{}},Hi=new Gi;function wn(f,v,E,S){this.j=f,this.i=v,this.l=E,this.R=S||1,this.U=new wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}var tu={},bo={};function bi(f,v,E){f.L=1,f.v=Ia(zn(v)),f.m=E,f.P=!0,xr(f,null)}function xr(f,v){f.F=Date.now(),wa(f),f.A=zn(f.v);var E=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),au(E.i,"t",S),f.C=0,E=f.j.J,f.h=new xe,f.g=Ph(f.j,E?v:null,!f.m),0<f.O&&(f.M=new ei(T(f.Y,f,f.g),f.O)),v=f.U,E=f.g,S=f.ca;var $="readystatechange";Array.isArray($)||($&&(Ti[0]=$.toString()),$=Ti);for(var J=0;J<$.length;J++){var ft=To(E,$[J],S||v.handleEvent,!1,v.h||v);if(!ft)break;v.g[ft.key]=ft}v=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),vs(),Jl(f.i,f.u,f.A,f.l,f.R,f.m)}wn.prototype.ca=function(f){f=f.target;const v=this.M;v&&ai(f)==3?v.j():this.Y(f)},wn.prototype.Y=function(f){try{if(f==this.g)t:{const Qe=ai(this.g);var v=this.g.Ba();const Lr=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||wh(this.g)))){this.J||Qe!=4||v==7||(v==8||0>=Lr?vs(3):vs(2)),Es(this);var E=this.g.Z();this.X=E;e:if(gh(this)){var S=wh(this.g);f="";var $=S.length,J=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),$i(this);var ft="";break e}this.h.i=new h.TextDecoder}for(v=0;v<$;v++)this.h.h=!0,f+=this.h.i.decode(S[v],{stream:!(J&&v==$-1)});S.length=0,this.h.g+=f,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=E==200,Mm(this.i,this.u,this.A,this.l,this.R,Qe,E),this.o){if(this.T&&!this.K){e:{if(this.g){var Yt,Ke=this.g;if((Yt=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Yt)){var Xt=Yt;break e}}Xt=null}if(E=Xt)_s(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sa(this,E);else{this.o=!1,this.s=3,pe(12),an(this),$i(this);break t}}if(this.P){E=!0;let on;for(;!this.J&&this.C<ft.length;)if(on=yh(this,ft),on==bo){Qe==4&&(this.s=4,pe(14),E=!1),_s(this.i,this.l,null,"[Incomplete Response]");break}else if(on==tu){this.s=4,pe(15),_s(this.i,this.l,ft,"[Invalid Chunk]"),E=!1;break}else _s(this.i,this.l,on,null),Sa(this,on);if(gh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||ft.length!=0||this.h.h||(this.s=1,pe(16),E=!1),this.o=this.o&&E,!E)_s(this.i,this.l,ft,"[Invalid Chunked Response]"),an(this),$i(this);else if(0<ft.length&&!this.W){this.W=!0;var Je=this.j;Je.g==this&&Je.ba&&!Je.M&&(Je.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),Oa(Je),Je.M=!0,pe(11))}}else _s(this.i,this.l,ft,null),Sa(this,ft);Qe==4&&an(this),this.o&&!this.J&&(Qe==4?Ch(this.j,this):(this.o=!1,wa(this)))}else jm(this.g),E==400&&0<ft.indexOf("Unknown SID")?(this.s=3,pe(12)):(this.s=0,pe(13)),an(this),$i(this)}}}catch{}finally{}};function gh(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function yh(f,v){var E=f.C,S=v.indexOf(`
`,E);return S==-1?bo:(E=Number(v.substring(E,S)),isNaN(E)?tu:(S+=1,S+E>v.length?bo:(v=v.slice(S,S+E),f.C=S+E,v)))}wn.prototype.cancel=function(){this.J=!0,an(this)};function wa(f){f.S=Date.now()+f.I,vh(f,f.I)}function vh(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ke(T(f.ba,f),v)}function Es(f){f.B&&(h.clearTimeout(f.B),f.B=null)}wn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(ph(this.i,this.A),this.L!=2&&(vs(),pe(17)),an(this),this.s=2,$i(this)):vh(this,this.S-f)};function $i(f){f.j.G==0||f.J||Ch(f.j,f)}function an(f){Es(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Ei(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function Sa(f,v){try{var E=f.j;if(E.G!=0&&(E.g==f||eu(E.h,f))){if(!f.K&&eu(E.h,f)&&E.G==3){try{var S=E.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var $=S;if($[0]==0){t:if(!E.u){if(E.g)if(E.g.F+3e3<f.F)Mo(E),Vo(E);else break t;hu(E),pe(18)}}else E.za=$[1],0<E.za-E.T&&37500>$[2]&&E.F&&E.v==0&&!E.C&&(E.C=ke(T(E.Za,E),6e3));if(1>=So(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else kr(E,11)}else if((f.K||E.g==f)&&Mo(E),!N(v))for($=E.Da.g.parse(v),v=0;v<$.length;v++){let Xt=$[v];if(E.T=Xt[0],Xt=Xt[1],E.G==2)if(Xt[0]=="c"){E.K=Xt[1],E.ia=Xt[2];const Je=Xt[3];Je!=null&&(E.la=Je,E.j.info("VER="+E.la));const Qe=Xt[4];Qe!=null&&(E.Aa=Qe,E.j.info("SVER="+E.Aa));const Lr=Xt[5];Lr!=null&&typeof Lr=="number"&&0<Lr&&(S=1.5*Lr,E.L=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const on=f.g;if(on){const Ji=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var J=S.h;J.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ao(J,J.h),J.h=null))}if(S.D){const du=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;du&&(S.ya=du,oe(S.I,S.D,du))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-f.F,E.j.info("Handshake RTT: "+E.R+"ms")),S=E;var ft=f;if(S.qa=Dh(S,S.J?S.ia:null,S.W),ft.K){Sn(S.h,ft);var Yt=ft,Ke=S.L;Ke&&(Yt.I=Ke),Yt.B&&(Es(Yt),wa(Yt)),S.g=ft}else Rh(S);0<E.i.length&&No(E)}else Xt[0]!="stop"&&Xt[0]!="close"||kr(E,7);else E.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?kr(E,7):uu(E):Xt[0]!="noop"&&E.l&&E.l.ta(Xt),E.v=0)}}vs(4)}catch{}}var _h=class{constructor(f,v){this.g=f,this.map=v}};function Dr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function So(f){return f.h?1:f.g?f.g.size:0}function eu(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Ao(f,v){f.g?f.g.add(v):f.h=v}function Sn(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Dr.prototype.cancel=function(){if(this.i=nu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function nu(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const E of f.g.values())v=v.concat(E.D);return v}return x(f.i)}function Om(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var v=[],E=f.length,S=0;S<E;S++)v.push(f[S]);return v}v=[],E=0;for(S in f)v[E++]=f[S];return v}function Ro(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var v=[];f=f.length;for(var E=0;E<f;E++)v.push(E);return v}v=[],E=0;for(const S in f)v[E++]=S;return v}}}function iu(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var E=Ro(f),S=Om(f),$=S.length,J=0;J<$;J++)v.call(void 0,S[J],E&&E[J],f)}var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function km(f,v){if(f){f=f.split("&");for(var E=0;E<f.length;E++){var S=f[E].indexOf("="),$=null;if(0<=S){var J=f[E].substring(0,S);$=f[E].substring(S+1)}else J=f[E];v(J,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Le(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Le){this.h=f.h,Ra(this,f.j),this.o=f.o,this.g=f.g,bs(this,f.s),this.l=f.l;var v=f.i,E=new Vr;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Pr(this,E),this.m=f.m}else f&&(v=String(f).match(Aa))?(this.h=!1,Ra(this,v[1]||"",!0),this.o=ii(v[2]||""),this.g=ii(v[3]||"",!0),bs(this,v[4]),this.l=ii(v[5]||"",!0),Pr(this,v[6]||"",!0),this.m=ii(v[7]||"")):(this.h=!1,this.i=new Vr(null,this.h))}Le.prototype.toString=function(){var f=[],v=this.j;v&&f.push(Ca(v,ru,!0),":");var E=this.g;return(E||v=="file")&&(f.push("//"),(v=this.o)&&f.push(Ca(v,ru,!0),"@"),f.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&f.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&f.push("/"),f.push(Ca(E,E.charAt(0)=="/"?Lm:su,!0))),(E=this.i.toString())&&f.push("?",E),(E=this.m)&&f.push("#",Ca(E,Io)),f.join("")};function zn(f){return new Le(f)}function Ra(f,v,E){f.j=E?ii(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function bs(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function Pr(f,v,E){v instanceof Vr?(f.i=v,Eh(f.i,f.h)):(E||(v=Ca(v,Um)),f.i=new Vr(v,f.h))}function oe(f,v,E){f.i.set(v,E)}function Ia(f){return oe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ii(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Ca(f,v,E){return typeof f=="string"?(f=encodeURI(f).replace(v,Th),E&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Th(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ru=/[#\/\?@]/g,su=/[#\?:]/g,Lm=/[#\?]/g,Um=/[#\?@]/g,Io=/#/g;function Vr(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function ri(f){f.g||(f.g=new Map,f.h=0,f.i&&km(f.i,function(v,E){f.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}e=Vr.prototype,e.add=function(f,v){ri(this),this.i=null,f=Ki(this,f);var E=this.g.get(f);return E||this.g.set(f,E=[]),E.push(v),this.h+=1,this};function Nr(f,v){ri(f),v=Ki(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Mr(f,v){return ri(f),v=Ki(f,v),f.g.has(v)}e.forEach=function(f,v){ri(this),this.g.forEach(function(E,S){E.forEach(function($){f.call(v,$,S,this)},this)},this)},e.na=function(){ri(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let S=0;S<v.length;S++){const $=f[S];for(let J=0;J<$.length;J++)E.push(v[S])}return E},e.V=function(f){ri(this);let v=[];if(typeof f=="string")Mr(this,f)&&(v=v.concat(this.g.get(Ki(this,f))));else{f=Array.from(this.g.values());for(let E=0;E<f.length;E++)v=v.concat(f[E])}return v},e.set=function(f,v){return ri(this),this.i=null,f=Ki(this,f),Mr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function au(f,v,E){Nr(f,v),0<E.length&&(f.i=null,f.g.set(Ki(f,v),x(E)),f.h+=E.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var S=v[E];const J=encodeURIComponent(String(S)),ft=this.V(S);for(S=0;S<ft.length;S++){var $=J;ft[S]!==""&&($+="="+encodeURIComponent(String(ft[S]))),f.push($)}}return this.i=f.join("&")};function Ki(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function Eh(f,v){v&&!f.j&&(ri(f),f.i=null,f.g.forEach(function(E,S){var $=S.toLowerCase();S!=$&&(Nr(this,S),au(this,$,E))},f)),f.j=v}function xa(f,v){const E=new ni;if(h.Image){const S=new Image;S.onload=A(si,E,"TestLoadImage: loaded",!0,v,S),S.onerror=A(si,E,"TestLoadImage: error",!1,v,S),S.onabort=A(si,E,"TestLoadImage: abort",!1,v,S),S.ontimeout=A(si,E,"TestLoadImage: timeout",!1,v,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else v(!1)}function wi(f,v){const E=new ni,S=new AbortController,$=setTimeout(()=>{S.abort(),si(E,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:S.signal}).then(J=>{clearTimeout($),J.ok?si(E,"TestPingServer: ok",!0,v):si(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),si(E,"TestPingServer: error",!1,v)})}function si(f,v,E,S,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),S(E)}catch{}}function Da(){this.g=new Ar}function Qi(f,v,E){const S=E||"";try{iu(f,function($,J){let ft=$;p($)&&(ft=Bn($)),v.push(S+J+"="+encodeURIComponent(ft))})}catch($){throw v.push(S+"type="+encodeURIComponent("_badmap")),$}}function ws(f){this.l=f.Ub||null,this.j=f.eb||!1}D(ws,gs),ws.prototype.g=function(){return new Or(this.l,this.j)},ws.prototype.i=(function(f){return function(){return f}})({});function Or(f,v){pt.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Or,pt),e=Or.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Xi(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||h).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yi(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Xi(this)),this.g&&(this.readyState=3,Xi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ou(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ou(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Yi(this):Xi(this),this.readyState==3&&ou(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Yi(this))},e.Qa=function(f){this.g&&(this.response=f,Yi(this))},e.ga=function(){this.g&&Yi(this)};function Yi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Xi(f)}e.setRequestHeader=function(f,v){this.u.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,f.push(E[0]+": "+E[1]),E=v.next();return f.join(`\r
`)};function Xi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function lu(f){let v="";return _t(f,function(E,S){v+=S,v+=":",v+=E,v+=`\r
`}),v}function Ze(f,v,E){t:{for(S in E){var S=!1;break t}S=!0}S||(E=lu(E),typeof f=="string"?E!=null&&encodeURIComponent(String(E)):oe(f,v,E))}function ee(f){pt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ee,pt);var Co=/^https?$/i,Pa=["POST","PUT"];e=ee.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,v,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hi.g(),this.v=this.o?Yl(this.o):Yl(Hi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){bh(this,J);return}if(f=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var $ in S)E.set($,S[$]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const J of S.keys())E.set(J,S.get(J));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(J=>J.toLowerCase()=="content-type"),$=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Pa,v,void 0))||S||$||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ft]of E)this.g.setRequestHeader(J,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Va(this),this.u=!0,this.g.send(f),this.u=!1}catch(J){bh(this,J)}};function bh(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,xo(f),Wi(f)}function xo(f){f.A||(f.A=!0,wt(f,"complete"),wt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,wt(this,"complete"),wt(this,"abort"),Wi(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wi(this,!0)),ee.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Do(this):this.bb())},e.bb=function(){Do(this)};function Do(f){if(f.h&&typeof u<"u"&&(!f.v[1]||ai(f)!=4||f.Z()!=2)){if(f.u&&ai(f)==4)re(f.Ea,0,f);else if(wt(f,"readystatechange"),ai(f)==4){f.h=!1;try{const ft=f.Z();t:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var E;if(!(E=v)){var S;if(S=ft===0){var $=String(f.D).match(Aa)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),S=!Co.test($?$.toLowerCase():"")}E=S}if(E)wt(f,"complete"),wt(f,"success");else{f.m=6;try{var J=2<ai(f)?f.g.statusText:""}catch{J=""}f.l=J+" ["+f.Z()+"]",xo(f)}}finally{Wi(f)}}}}function Wi(f,v){if(f.g){Va(f);const E=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||wt(f,"ready");try{E.onreadystatechange=S}catch{}}}function Va(f){f.I&&(h.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function ai(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Sr(v)}};function wh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function jm(f){const v={};f=(f.g&&2<=ai(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(N(f[S]))continue;var E=F(f[S]);const $=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const J=v[$]||[];v[$]=J,J.push(E)}M(v,function(S){return S.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(f,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[f]||v}function Po(f){this.Aa=0,this.i=[],this.j=new ni,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,f),this.cb=Na("retryDelaySeedMs",1e4,f),this.Wa=Na("forwardChannelMaxRetries",2,f),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new Dr(f&&f.concurrentRequestLimit),this.Da=new Da,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Po.prototype,e.la=8,e.G=1,e.connect=function(f,v,E,S){pe(0),this.W=f,this.H=v||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.I=Dh(this,null,this.W),No(this)};function uu(f){if(Sh(f),f.G==3){var v=f.U++,E=zn(f.I);if(oe(E,"SID",f.K),oe(E,"RID",v),oe(E,"TYPE","terminate"),Ma(f,E),v=new wn(f,f.j,v),v.L=2,v.v=Ia(zn(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.v,E=!0),E||(v.g=Ph(v.j,null),v.g.ea(v.v)),v.F=Date.now(),wa(v)}xh(f)}function Vo(f){f.g&&(Oa(f),f.g.cancel(),f.g=null)}function Sh(f){Vo(f),f.u&&(h.clearTimeout(f.u),f.u=null),Mo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function No(f){if(!wo(f.h)&&!f.s){f.s=!0;var v=f.Ga;lt||O(),yt||(lt(),yt=!0),Mt.add(v,f),f.B=0}}function Fm(f,v){return So(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ke(T(f.Ga,f,v),fu(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new wn(this,this.j,f);let J=this.o;if(this.S&&(J?(J=R(J),L(J,this.S)):J=this.S),this.m!==null||this.O||($.H=J,J=null),this.P)t:{for(var v=0,E=0;E<this.i.length;E++){e:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=E;break t}if(v===4096||E===this.i.length-1){v=E+1;break t}}v=1e3}else v=1e3;v=Ah(this,$,v),E=zn(this.I),oe(E,"RID",f),oe(E,"CVER",22),this.D&&oe(E,"X-HTTP-Session-Id",this.D),Ma(this,E),J&&(this.O?v="headers="+encodeURIComponent(String(lu(J)))+"&"+v:this.m&&Ze(E,this.m,J)),Ao(this.h,$),this.Ua&&oe(E,"TYPE","init"),this.P?(oe(E,"$req",v),oe(E,"SID","null"),$.T=!0,bi($,E,null)):bi($,E,v),this.G=2}}else this.G==3&&(f?cu(this,f):this.i.length==0||wo(this.h)||cu(this))};function cu(f,v){var E;v?E=v.l:E=f.U++;const S=zn(f.I);oe(S,"SID",f.K),oe(S,"RID",E),oe(S,"AID",f.T),Ma(f,S),f.m&&f.o&&Ze(S,f.m,f.o),E=new wn(f,f.j,E,f.B+1),f.m===null&&(E.H=f.o),v&&(f.i=v.D.concat(f.i)),v=Ah(f,E,1e3),E.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Ao(f.h,E),bi(E,S,v)}function Ma(f,v){f.H&&_t(f.H,function(E,S){oe(v,S,E)}),f.l&&iu({},function(E,S){oe(v,S,E)})}function Ah(f,v,E){E=Math.min(f.i.length,E);var S=f.l?T(f.l.Na,f.l,f):null;t:{var $=f.i;let J=-1;for(;;){const ft=["count="+E];J==-1?0<E?(J=$[0].g,ft.push("ofs="+J)):J=0:ft.push("ofs="+J);let Yt=!0;for(let Ke=0;Ke<E;Ke++){let Xt=$[Ke].g;const Je=$[Ke].map;if(Xt-=J,0>Xt)J=Math.max(0,$[Ke].g-100),Yt=!1;else try{Qi(Je,ft,"req"+Xt+"_")}catch{S&&S(Je)}}if(Yt){S=ft.join("&");break t}}}return f=f.i.splice(0,E),v.D=f,S}function Rh(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;lt||O(),yt||(lt(),yt=!0),Mt.add(v,f),f.v=0}}function hu(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ke(T(f.Fa,f),fu(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,Ih(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ke(T(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pe(10),Vo(this),Ih(this))};function Oa(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function Ih(f){f.g=new wn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=zn(f.qa);oe(v,"RID","rpc"),oe(v,"SID",f.K),oe(v,"AID",f.T),oe(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&oe(v,"TO",f.ja),oe(v,"TYPE","xmlhttp"),Ma(f,v),f.m&&f.o&&Ze(v,f.m,f.o),f.L&&(f.g.I=f.L);var E=f.g;f=f.ia,E.L=1,E.v=Ia(zn(v)),E.m=null,E.P=!0,xr(E,f)}e.Za=function(){this.C!=null&&(this.C=null,Vo(this),hu(this),pe(19))};function Mo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function Ch(f,v){var E=null;if(f.g==v){Mo(f),Oa(f),f.g=null;var S=2}else if(eu(f.h,v))E=v.D,Sn(f.h,v),S=1;else return;if(f.G!=0){if(v.o)if(S==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var $=f.B;S=ys(),wt(S,new $e(S,E)),No(f)}else Rh(f);else if($=v.s,$==3||$==0&&0<v.X||!(S==1&&Fm(f,v)||S==2&&hu(f)))switch(E&&0<E.length&&(v=f.h,v.i=v.i.concat(E)),$){case 1:kr(f,5);break;case 4:kr(f,10);break;case 3:kr(f,6);break;default:kr(f,2)}}}function fu(f,v){let E=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(E*=2),E*v}function kr(f,v){if(f.j.info("Error code "+v),v==2){var E=T(f.fb,f),S=f.Xa;const $=!S;S=new Le(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Ra(S,"https"),Ia(S),$?xa(S.toString(),E):wi(S.toString(),E)}else pe(2);f.G=0,f.l&&f.l.sa(v),xh(f),Sh(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function xh(f){if(f.G=0,f.ka=[],f.l){const v=nu(f.h);(v.length!=0||f.i.length!=0)&&(P(f.ka,v),P(f.ka,f.i),f.h.i.length=0,x(f.i),f.i.length=0),f.l.ra()}}function Dh(f,v,E){var S=E instanceof Le?zn(E):new Le(E);if(S.g!="")v&&(S.g=v+"."+S.g),bs(S,S.s);else{var $=h.location;S=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;var J=new Le(null);S&&Ra(J,S),v&&(J.g=v),$&&bs(J,$),E&&(J.l=E),S=J}return E=f.D,v=f.ya,E&&v&&oe(S,E,v),oe(S,"VER",f.la),Ma(f,S),S}function Ph(f,v,E){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new ee(new ws({eb:E})):new ee(f.pa),v.Ha(f.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vh(){}e=Vh.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Oo(){}Oo.prototype.g=function(f,v){return new An(f,v)};function An(f,v){pt.call(this),this.g=new Po(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!N(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Zi(this)}D(An,pt),An.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){uu(this.g)},An.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var E={};E.__data__=f,f=E}else this.u&&(E={},E.__data__=Bn(f),f=E);v.i.push(new _h(v.Ya++,f)),v.G==3&&No(v)},An.prototype.N=function(){this.g.l=null,delete this.j,uu(this.g),delete this.g,An.aa.N.call(this)};function Nh(f){Ir.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const E in v){f=E;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}D(Nh,Ir);function Mh(){Wl.call(this),this.status=1}D(Mh,Wl);function Zi(f){this.g=f}D(Zi,Vh),Zi.prototype.ua=function(){wt(this.g,"a")},Zi.prototype.ta=function(f){wt(this.g,new Nh(f))},Zi.prototype.sa=function(f){wt(this.g,new Mh)},Zi.prototype.ra=function(){wt(this.g,"b")},Oo.prototype.createWebChannel=Oo.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,$R=function(){return new Oo},GR=function(){return ys()},HR=qi,Ny={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ts.NO_ERROR=0,Ts.TIMEOUT=8,Ts.HTTP_ERROR=6,od=Ts,Cr.COMPLETE="complete",qR=Cr,Xl.EventType=Rr,Rr.OPEN="a",Rr.CLOSE="b",Rr.ERROR="c",Rr.MESSAGE="d",pt.prototype.listen=pt.prototype.K,lc=Xl,ee.prototype.listenOnce=ee.prototype.L,ee.prototype.getLastError=ee.prototype.Ka,ee.prototype.getLastErrorCode=ee.prototype.Ba,ee.prototype.getStatus=ee.prototype.Z,ee.prototype.getResponseJson=ee.prototype.Oa,ee.prototype.getResponseText=ee.prototype.oa,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Ha,zR=ee}).apply(typeof Bf<"u"?Bf:typeof self<"u"?self:typeof window<"u"?window:{});const Cw="@firebase/firestore",xw="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};_n.UNAUTHENTICATED=new _n(null),_n.GOOGLE_CREDENTIALS=new _n("google-credentials-uid"),_n.FIRST_PARTY=new _n("first-party-uid"),_n.MOCK_USER=new _n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=new sm("@firebase/firestore");function hl(){return co.logLevel}function Tt(e,...t){if(co.logLevel<=$t.DEBUG){const n=t.map(Qv);co.debug(`Firestore (${Bl}): ${e}`,...n)}}function ls(e,...t){if(co.logLevel<=$t.ERROR){const n=t.map(Qv);co.error(`Firestore (${Bl}): ${e}`,...n)}}function Cl(e,...t){if(co.logLevel<=$t.WARN){const n=t.map(Qv);co.warn(`Firestore (${Bl}): ${e}`,...n)}}function Qv(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,KR(e,i,n)}function KR(e,t,n){let i=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ls(i),new Error(i)}function ne(e,t,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,e||KR(t,a,i)}function kt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends ji{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class s4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(_n.UNAUTHENTICATED)))}shutdown(){}}class a4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class o4{constructor(t){this.t=t,this.currentUser=_n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ne(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,n(m)):Promise.resolve();let l=new is;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new is,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new is)}}),0),u()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((i=>this.i!==t?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ne(typeof i.accessToken=="string",31837,{l:i}),new QR(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ne(t===null||typeof t=="string",2055,{h:t}),new _n(t)}}class l4{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=_n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class u4{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new l4(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(_n.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Dw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c4{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ne(this.o===void 0,3512);const i=l=>{l.error!=null&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Tt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Dw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(ne(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dw(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=h4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=t.charAt(a[l]%62))}return i}}function Kt(e,t){return e<t?-1:e>t?1:0}function My(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const a=e.charAt(i),l=t.charAt(i);if(a!==l)return Kg(a)===Kg(l)?Kt(a,l):Kg(a)?1:-1}return Kt(e.length,t.length)}const f4=55296,d4=57343;function Kg(e){const t=e.charCodeAt(0);return t>=f4&&t<=d4}function xl(e,t,n){return e.length===t.length&&e.every(((i,a)=>n(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw="__name__";class sr{constructor(t,n,i){n===void 0?n=0:n>t.length&&Dt(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Dt(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return sr.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof sr?t.forEach((i=>{n.push(i)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let a=0;a<i;a++){const l=sr.compareSegments(t.get(a),n.get(a));if(l!==0)return l}return Kt(t.length,n.length)}static compareSegments(t,n){const i=sr.isNumericId(t),a=sr.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?sr.extractNumericId(t).compare(sr.extractNumericId(n)):My(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ra.fromString(t.substring(4,t.length-2))}}class de extends sr{construct(t,n,i){return new de(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter((a=>a.length>0)))}return new de(n)}static emptyPath(){return new de([])}}const m4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends sr{construct(t,n,i){return new mn(t,n,i)}static isValidIdentifier(t){return m4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pw}static keyField(){return new mn([Pw])}static fromServerFormat(t){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new vt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new vt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new vt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(n)}static emptyPath(){return new mn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(de.fromString(t))}static fromName(t){return new Rt(de.fromString(t).popFirst(5))}static empty(){return new Rt(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return de.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new de(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e,t,n){if(!n)throw new vt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function p4(e,t,n,i){if(t===!0&&i===!0)throw new vt(rt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vw(e){if(!Rt.isDocumentKey(e))throw new vt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Nw(e){if(Rt.isDocumentKey(e))throw new vt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function XR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function cm(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Dt(12329,{type:typeof e})}function us(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cm(e);throw new vt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(e,t){const n={typeString:e};return t&&(n.value=t),n}function th(e,t){if(!XR(e))throw new vt(rt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const u=e[i];if(a&&typeof u!==a){n=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${i}' field to equal '${l.value}'`;break}}if(n)throw new vt(rt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=-62135596800,Ow=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Ow);return new me(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Mw)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ow}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(th(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Mw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ge("string",me._jsonSchemaVersion),seconds:Ge("number"),nanoseconds:Ge("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static fromTimestamp(t){return new Ot(t)}static min(){return new Ot(new me(0,0))}static max(){return new Ot(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=-1;function g4(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,a=Ot.fromTimestamp(i===1e9?new me(n+1,0):new me(n,i));return new oa(a,Rt.empty(),t)}function y4(e){return new oa(e.readTime,e.key,Nc)}class oa{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new oa(Ot.min(),Rt.empty(),Nc)}static max(){return new oa(Ot.max(),Rt.empty(),Nc)}}function v4(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Rt.comparator(e.documentKey,t.documentKey),n!==0?n:Kt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==_4)throw e;Tt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new at(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof at?n:at.resolve(n)}catch(n){return at.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):at.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):at.reject(n)}static resolve(t){return new at(((n,i)=>{n(t)}))}static reject(t){return new at(((n,i)=>{i(t)}))}static waitFor(t){return new at(((n,i)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(m=>i(m)))})),u=!0,l===a&&n()}))}static or(t){let n=at.resolve(!1);for(const i of t)n=n.next((a=>a?at.resolve(a):i()));return n}static forEach(t,n){const i=[];return t.forEach(((a,l)=>{i.push(n.call(this,a,l))})),this.waitFor(i)}static mapArray(t,n){return new at(((i,a)=>{const l=t.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;n(t[p]).next((y=>{u[p]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,n){return new at(((i,a)=>{const l=()=>{t()===!0?n().next((()=>{l()}),a):i()};l()}))}}function E4(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ql(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-1;function fm(e){return e==null}function Dd(e){return e===0&&1/e==-1/0}function b4(e){return typeof e=="number"&&Number.isInteger(e)&&!Dd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="";function w4(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=kw(t)),t=S4(e.get(n),t);return kw(t)}function S4(e,t){let n=t;const i=e.length;for(let a=0;a<i;a++){const l=e.charAt(a);switch(l){case"\0":n+="";break;case WR:n+="";break;default:n+=l}}return n}function kw(e){return e+WR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _a(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ZR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n){this.comparator=t,this.root=n||dn.EMPTY}insert(t,n){return new Se(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,dn.BLACK,null,null))}remove(t){return new Se(this.comparator,this.root.remove(t,this.comparator).copy(null,null,dn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,i)=>(t(n,i),!1)))}toString(){const t=[];return this.inorderTraversal(((n,i)=>(t.push(`${n}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zf(this.root,t,this.comparator,!1)}getReverseIterator(){return new zf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zf(this.root,t,this.comparator,!0)}}class zf{constructor(t,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=n?i(t.key,n):1,n&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class dn{constructor(t,n,i,a,l){this.key=t,this.value=n,this.color=i??dn.RED,this.left=a??dn.EMPTY,this.right=l??dn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,a,l){return new dn(t??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(t,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(t,a.key)===0){if(a.right.isEmpty())return dn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,dn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,dn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}dn.EMPTY=null,dn.RED=!0,dn.BLACK=!1;dn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,n,i,a,l){return this}insert(t,n,i){return new dn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t){this.comparator=t,this.data=new Se(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,i)=>(t(n),!1)))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;n(a.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(t){return new Uw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((i=>{n=n.add(i)})),n}isEqual(t){if(!(t instanceof We)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new We(this.comparator);return n.data=t,n}}class Uw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new Zn([])}unionWith(t){let n=new We(mn.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Zn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return xl(this.fields,t.fields,((n,i)=>n.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new JR("Invalid base64 string: "+l):l}})(t);return new pn(n)}static fromUint8Array(t){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new pn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const A4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function la(e){if(ne(!!e,39018),typeof e=="string"){let t=0;const n=A4.exec(e);if(ne(!!n,46558,{timestamp:e}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(e.seconds),nanos:Ne(e.nanos)}}function Ne(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ua(e){return typeof e=="string"?pn.fromBase64String(e):pn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="server_timestamp",eI="__type__",nI="__previous_value__",iI="__local_write_time__";function Wv(e){return(e?.mapValue?.fields||{})[eI]?.stringValue===tI}function dm(e){const t=e.mapValue.fields[nI];return Wv(t)?dm(t):t}function Mc(e){const t=la(e.mapValue.fields[iI].timestampValue);return new me(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(t,n,i,a,l,u,h,m,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y}}const Pd="(default)";class Oc{constructor(t,n){this.projectId=t,this.database=n||Pd}static empty(){return new Oc("","")}get isDefaultDatabase(){return this.database===Pd}isEqual(t){return t instanceof Oc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="__type__",I4="__max__",qf={mapValue:{}},sI="__vector__",Vd="value";function ca(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Wv(e)?4:x4(e)?9007199254740991:C4(e)?10:11:Dt(28295,{value:e})}function _r(e,t){if(e===t)return!0;const n=ca(e);if(n!==ca(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mc(e).isEqual(Mc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=la(a.timestampValue),h=la(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(e,t);case 5:return e.stringValue===t.stringValue;case 6:return(function(a,l){return ua(a.bytesValue).isEqual(ua(l.bytesValue))})(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return(function(a,l){return Ne(a.geoPointValue.latitude)===Ne(l.geoPointValue.latitude)&&Ne(a.geoPointValue.longitude)===Ne(l.geoPointValue.longitude)})(e,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Ne(a.integerValue)===Ne(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Ne(a.doubleValue),h=Ne(l.doubleValue);return u===h?Dd(u)===Dd(h):isNaN(u)&&isNaN(h)}return!1})(e,t);case 9:return xl(e.arrayValue.values||[],t.arrayValue.values||[],_r);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(Lw(u)!==Lw(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!_r(u[m],h[m])))return!1;return!0})(e,t);default:return Dt(52216,{left:e})}}function kc(e,t){return(e.values||[]).find((n=>_r(n,t)))!==void 0}function Dl(e,t){if(e===t)return 0;const n=ca(e),i=ca(t);if(n!==i)return Kt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Kt(e.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=Ne(l.integerValue||l.doubleValue),m=Ne(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(e,t);case 3:return jw(e.timestampValue,t.timestampValue);case 4:return jw(Mc(e),Mc(t));case 5:return My(e.stringValue,t.stringValue);case 6:return(function(l,u){const h=ua(l),m=ua(u);return h.compareTo(m)})(e.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=Kt(h[p],m[p]);if(y!==0)return y}return Kt(h.length,m.length)})(e.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=Kt(Ne(l.latitude),Ne(u.latitude));return h!==0?h:Kt(Ne(l.longitude),Ne(u.longitude))})(e.geoPointValue,t.geoPointValue);case 9:return Fw(e.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[Vd]?.arrayValue,y=m[Vd]?.arrayValue,_=Kt(p?.values?.length||0,y?.values?.length||0);return _!==0?_:Fw(p,y)})(e.mapValue,t.mapValue);case 11:return(function(l,u){if(l===qf.mapValue&&u===qf.mapValue)return 0;if(l===qf.mapValue)return 1;if(u===qf.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let _=0;_<m.length&&_<y.length;++_){const T=My(m[_],y[_]);if(T!==0)return T;const A=Dl(h[m[_]],p[y[_]]);if(A!==0)return A}return Kt(m.length,y.length)})(e.mapValue,t.mapValue);default:throw Dt(23264,{he:n})}}function jw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Kt(e,t);const n=la(e),i=la(t),a=Kt(n.seconds,i.seconds);return a!==0?a:Kt(n.nanos,i.nanos)}function Fw(e,t){const n=e.values||[],i=t.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=Dl(n[a],i[a]);if(l)return l}return Kt(n.length,i.length)}function Pl(e){return Oy(e)}function Oy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?(function(n){const i=la(n);return`time(${i.seconds},${i.nanos})`})(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?(function(n){return ua(n).toBase64()})(e.bytesValue):"referenceValue"in e?(function(n){return Rt.fromName(n).toString()})(e.referenceValue):"geoPointValue"in e?(function(n){return`geo(${n.latitude},${n.longitude})`})(e.geoPointValue):"arrayValue"in e?(function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Oy(l);return i+"]"})(e.arrayValue):"mapValue"in e?(function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Oy(n.fields[u])}`;return a+"}"})(e.mapValue):Dt(61005,{value:e})}function ld(e){switch(ca(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dm(e);return t?16+ld(t):16;case 5:return 2*e.stringValue.length;case 6:return ua(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+ld(l)),0)})(e.arrayValue);case 10:case 11:return(function(i){let a=0;return _a(i.fields,((l,u)=>{a+=l.length+ld(u)})),a})(e.mapValue);default:throw Dt(13486,{value:e})}}function Bw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ky(e){return!!e&&"integerValue"in e}function Zv(e){return!!e&&"arrayValue"in e}function zw(e){return!!e&&"nullValue"in e}function qw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ud(e){return!!e&&"mapValue"in e}function C4(e){return(e?.mapValue?.fields||{})[rI]?.stringValue===sI}function pc(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return _a(e.mapValue.fields,((n,i)=>t.mapValue.fields[n]=pc(i))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=pc(e.arrayValue.values[n]);return t}return{...e}}function x4(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===I4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t){this.value=t}static empty(){return new Ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ud(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=pc(n)}setAll(t){let n=mn.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const m=this.getFieldsMap(n);this.applyChanges(m,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=pc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(t){const n=this.field(t.popLast());ud(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return _r(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=n.mapValue.fields[t.get(i)];ud(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(t,n,i){_a(n,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new Ln(pc(this.value))}}function aI(e){const t=[];return _a(e.fields,((n,i)=>{const a=new mn([n]);if(ud(i)){const l=aI(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Zn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t,n,i,a,l,u,h){this.key=t,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Tn(t,0,Ot.min(),Ot.min(),Ot.min(),Ln.empty(),0)}static newFoundDocument(t,n,i,a){return new Tn(t,1,n,Ot.min(),i,a,0)}static newNoDocument(t,n){return new Tn(t,2,n,Ot.min(),Ot.min(),Ln.empty(),0)}static newUnknownDocument(t,n){return new Tn(t,3,n,Ot.min(),Ot.min(),Ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(t,n){this.position=t,this.inclusive=n}}function Hw(e,t,n){let i=0;for(let a=0;a<e.position.length;a++){const l=t[a],u=e.position[a];if(l.field.isKeyField()?i=Rt.comparator(Rt.fromName(u.referenceValue),n.key):i=Dl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Gw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_r(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(t,n="asc"){this.field=t,this.dir=n}}function D4(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{}class He extends oI{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new V4(t,n,i):n==="array-contains"?new O4(t,i):n==="in"?new k4(t,i):n==="not-in"?new L4(t,i):n==="array-contains-any"?new U4(t,i):new He(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new N4(t,i):new M4(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dl(n,this.value)):n!==null&&ca(this.value)===ca(n)&&this.matchesComparison(Dl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends oI{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Li(t,n)}matches(t){return lI(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lI(e){return e.op==="and"}function uI(e){return P4(e)&&lI(e)}function P4(e){for(const t of e.filters)if(t instanceof Li)return!1;return!0}function Ly(e){if(e instanceof He)return e.field.canonicalString()+e.op.toString()+Pl(e.value);if(uI(e))return e.filters.map((t=>Ly(t))).join(",");{const t=e.filters.map((n=>Ly(n))).join(",");return`${e.op}(${t})`}}function cI(e,t){return e instanceof He?(function(i,a){return a instanceof He&&i.op===a.op&&i.field.isEqual(a.field)&&_r(i.value,a.value)})(e,t):e instanceof Li?(function(i,a){return a instanceof Li&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&cI(u,a.filters[h])),!0):!1})(e,t):void Dt(19439)}function hI(e){return e instanceof He?(function(n){return`${n.field.canonicalString()} ${n.op} ${Pl(n.value)}`})(e):e instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(hI).join(" ,")+"}"})(e):"Filter"}class V4 extends He{constructor(t,n,i){super(t,n,i),this.key=Rt.fromName(i.referenceValue)}matches(t){const n=Rt.comparator(t.key,this.key);return this.matchesComparison(n)}}class N4 extends He{constructor(t,n){super(t,"in",n),this.keys=fI("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class M4 extends He{constructor(t,n){super(t,"not-in",n),this.keys=fI("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function fI(e,t){return(t.arrayValue?.values||[]).map((n=>Rt.fromName(n.referenceValue)))}class O4 extends He{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Zv(n)&&kc(n.arrayValue,this.value)}}class k4 extends He{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&kc(this.value.arrayValue,n)}}class L4 extends He{constructor(t,n){super(t,"not-in",n)}matches(t){if(kc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!kc(this.value.arrayValue,n)}}class U4 extends He{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Zv(n)||!n.arrayValue.values)&&n.arrayValue.values.some((i=>kc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(t,n=null,i=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function $w(e,t=null,n=[],i=[],a=null,l=null,u=null){return new j4(e,t,n,i,a,l,u)}function Jv(e){const t=kt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((i=>Ly(i))).join(","),n+="|ob:",n+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),fm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((i=>Pl(i))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((i=>Pl(i))).join(",")),t.Te=n}return t.Te}function t_(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!D4(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cI(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gw(e.startAt,t.startAt)&&Gw(e.endAt,t.endAt)}function Uy(e){return Rt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n=null,i=[],a=[],l=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function F4(e,t,n,i,a,l,u,h){return new eh(e,t,n,i,a,l,u,h)}function e_(e){return new eh(e)}function Kw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function dI(e){return e.collectionGroup!==null}function gc(e){const t=kt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),n.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new We(mn.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Md(l,i))})),n.has(mn.keyField().canonicalString())||t.Ie.push(new Md(mn.keyField(),i))}return t.Ie}function hr(e){const t=kt(e);return t.Ee||(t.Ee=B4(t,gc(e))),t.Ee}function B4(e,t){if(e.limitType==="F")return $w(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Md(a.field,l)}));const n=e.endAt?new Nd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Nd(e.startAt.position,e.startAt.inclusive):null;return $w(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function jy(e,t){const n=e.filters.concat([t]);return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fy(e,t,n){return new eh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function mm(e,t){return t_(hr(e),hr(t))&&e.limitType===t.limitType}function mI(e){return`${Jv(hr(e))}|lt:${e.limitType}`}function fl(e){return`Query(target=${(function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map((a=>hI(a))).join(", ")}]`),fm(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map((a=>Pl(a))).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map((a=>Pl(a))).join(",")),`Target(${i})`})(hr(e))}; limitType=${e.limitType})`}function pm(e,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Rt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(e,t)&&(function(i,a){for(const l of gc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(e,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(e,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,m){const p=Hw(u,h,m);return u.inclusive?p<=0:p<0})(i.startAt,gc(i),a)||i.endAt&&!(function(u,h,m){const p=Hw(u,h,m);return u.inclusive?p>=0:p>0})(i.endAt,gc(i),a))})(e,t)}function z4(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pI(e){return(t,n)=>{let i=!1;for(const a of gc(e)){const l=q4(a,t,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function q4(e,t,n){const i=e.field.isKeyField()?Rt.comparator(t.key,n.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Dl(m,p):Dt(42886)})(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Dt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,n]);a.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){_a(this.inner,((n,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return ZR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new Se(Rt.comparator);function cs(){return H4}const gI=new Se(Rt.comparator);function uc(...e){let t=gI;for(const n of e)t=t.insert(n.key,n);return t}function yI(e){let t=gI;return e.forEach(((n,i)=>t=t.insert(n,i.overlayedDocument))),t}function to(){return yc()}function vI(){return yc()}function yc(){return new vo((e=>e.toString()),((e,t)=>e.isEqual(t)))}const G4=new Se(Rt.comparator),$4=new We(Rt.comparator);function Qt(...e){let t=$4;for(const n of e)t=t.add(n);return t}const K4=new We(Kt);function Q4(){return K4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(t)?"-0":t}}function _I(e){return{integerValue:""+e}}function Y4(e,t){return b4(t)?_I(t):n_(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function X4(e,t,n){return e instanceof Lc?(function(a,l){const u={fields:{[eI]:{stringValue:tI},[iI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Wv(l)&&(l=dm(l)),l&&(u.fields[nI]=l),{mapValue:u}})(n,t):e instanceof Uc?EI(e,t):e instanceof jc?bI(e,t):(function(a,l){const u=TI(a,l),h=Qw(u)+Qw(a.Ae);return ky(u)&&ky(a.Ae)?_I(h):n_(a.serializer,h)})(e,t)}function W4(e,t,n){return e instanceof Uc?EI(e,t):e instanceof jc?bI(e,t):n}function TI(e,t){return e instanceof Od?(function(i){return ky(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Lc extends gm{}class Uc extends gm{constructor(t){super(),this.elements=t}}function EI(e,t){const n=wI(t);for(const i of e.elements)n.some((a=>_r(a,i)))||n.push(i);return{arrayValue:{values:n}}}class jc extends gm{constructor(t){super(),this.elements=t}}function bI(e,t){let n=wI(t);for(const i of e.elements)n=n.filter((a=>!_r(a,i)));return{arrayValue:{values:n}}}class Od extends gm{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function Qw(e){return Ne(e.integerValue||e.doubleValue)}function wI(e){return Zv(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(t,n){this.field=t,this.transform=n}}function J4(e,t){return e.field.isEqual(t.field)&&(function(i,a){return i instanceof Uc&&a instanceof Uc||i instanceof jc&&a instanceof jc?xl(i.elements,a.elements,_r):i instanceof Od&&a instanceof Od?_r(i.Ae,a.Ae):i instanceof Lc&&a instanceof Lc})(e.transform,t.transform)}class tU{constructor(t,n){this.version=t,this.transformResults=n}}class fr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fr}static exists(t){return new fr(void 0,t)}static updateTime(t){return new fr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ym{}function SI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new RI(e.key,fr.none()):new nh(e.key,e.data,fr.none());{const n=e.data,i=Ln.empty();let a=new We(mn.comparator);for(let l of t.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ta(e.key,i,new Zn(a.toArray()),fr.none())}}function eU(e,t,n){e instanceof nh?(function(a,l,u){const h=a.value.clone(),m=Xw(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(e,t,n):e instanceof Ta?(function(a,l,u){if(!cd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Xw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(AI(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(e,t,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,n)}function vc(e,t,n,i){return e instanceof nh?(function(l,u,h,m){if(!cd(l.precondition,u))return h;const p=l.value.clone(),y=Ww(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(e,t,n,i):e instanceof Ta?(function(l,u,h,m){if(!cd(l.precondition,u))return h;const p=Ww(l.fieldTransforms,m,u),y=u.data;return y.setAll(AI(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(e,t,n,i):(function(l,u,h){return cd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(e,t,n)}function nU(e,t){let n=null;for(const i of e.fieldTransforms){const a=t.data.field(i.field),l=TI(i.transform,a||null);l!=null&&(n===null&&(n=Ln.empty()),n.set(i.field,l))}return n||null}function Yw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&xl(i,a,((l,u)=>J4(l,u)))})(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nh extends ym{constructor(t,n,i,a=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ta extends ym{constructor(t,n,i,a,l=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function AI(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Xw(e,t,n){const i=new Map;ne(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let a=0;a<n.length;a++){const l=e[a],u=l.transform,h=t.data.field(l.field);i.set(l.field,W4(u,h,n[a]))}return i}function Ww(e,t,n){const i=new Map;for(const a of e){const l=a.transform,u=n.data.field(a.field);i.set(a.field,X4(l,u,t))}return i}class RI extends ym{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iU extends ym{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(t,n,i,a){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&eU(l,t,i[a])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=vc(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=vc(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=vI();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const m=SI(u,h);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Ot.min())})),i}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Qt())}isEqual(t){return this.batchId===t.batchId&&xl(this.mutations,t.mutations,((n,i)=>Yw(n,i)))&&xl(this.baseMutations,t.baseMutations,((n,i)=>Yw(n,i)))}}class i_{constructor(t,n,i,a){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(t,n,i){ne(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return G4})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new i_(t,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be,Zt;function oU(e){switch(e){case rt.OK:return Dt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Dt(15467,{code:e})}}function II(e){if(e===void 0)return ls("GRPC error has no .code"),rt.UNKNOWN;switch(e){case Be.OK:return rt.OK;case Be.CANCELLED:return rt.CANCELLED;case Be.UNKNOWN:return rt.UNKNOWN;case Be.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case Be.INTERNAL:return rt.INTERNAL;case Be.UNAVAILABLE:return rt.UNAVAILABLE;case Be.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case Be.NOT_FOUND:return rt.NOT_FOUND;case Be.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case Be.ABORTED:return rt.ABORTED;case Be.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case Be.DATA_LOSS:return rt.DATA_LOSS;default:return Dt(39323,{code:e})}}(Zt=Be||(Be={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=new ra([4294967295,4294967295],0);function Zw(e){const t=lU().encode(e),n=new BR;return n.update(t),new Uint8Array(n.digest())}function Jw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new ra([n,i],0),new ra([a,l],0)]}class r_{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(i<0)throw new cc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ra.fromNumber(this.ge)}ye(t,n,i){let a=t.add(n.multiply(ra.fromNumber(i)));return a.compare(uU)===1&&(a=new ra([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Zw(t),[i,a]=Jw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,n,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new r_(l,a,n);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const n=Zw(t),[i,a]=Jw(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.Se(u)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t,n,i,a,l){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const a=new Map;return a.set(t,ih.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new vm(Ot.min(),a,new Se(Kt),cs(),Qt())}}class ih{constructor(t,n,i,a,l){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ih(i,n,Qt(),Qt(),Qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(t,n,i,a){this.be=t,this.removedTargetIds=n,this.key=i,this.De=a}}class CI{constructor(t,n){this.targetId=t,this.Ce=n}}class xI{constructor(t,n,i=pn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=a}}class tS{constructor(){this.ve=0,this.Fe=eS(),this.Me=pn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Qt(),n=Qt(),i=Qt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Dt(38017,{changeType:l})}})),new ih(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=eS()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ne(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cU{constructor(t){this.Ge=t,this.ze=new Map,this.je=cs(),this.Je=Hf(),this.He=Hf(),this.Ye=new Se(Kt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Dt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((i,a)=>{this.rt(a)&&n(a)}))}st(t){const n=t.targetId,i=t.Ce.count,a=this.ot(n);if(a){const l=a.target;if(Uy(l))if(i===0){const u=new Rt(l.path);this.et(n,u,Tn.newNoDocument(u,Ot.min()))}else ne(i===1,20013,{expectedCount:i});else{const u=this._t(n);if(u!==i){const h=this.ut(t),m=h?this.ct(h,t,u):1;if(m!==0){this.it(n);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=ua(i).toUint8Array()}catch(m){if(m instanceof JR)return Cl("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new r_(u,a,l)}catch(m){return Cl(m instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(t){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Uy(h.target)){const m=new Rt(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,Tn.newNoDocument(m,t))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let i=Qt();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new vm(t,n,this.Ye,this.je,i);return this.je=cs(),this.Je=Hf(),this.He=Hf(),this.Ye=new Se(Kt),a}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new tS,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new We(Kt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new We(Kt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Tt("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tS),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Hf(){return new Se(Rt.comparator)}function eS(){return new Se(Rt.comparator)}const hU={asc:"ASCENDING",desc:"DESCENDING"},fU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dU={and:"AND",or:"OR"};class mU{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function By(e,t){return e.useProto3Json||fm(t)?t:{value:t}}function kd(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function DI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pU(e,t){return kd(e,t.toTimestamp())}function dr(e){return ne(!!e,49232),Ot.fromTimestamp((function(n){const i=la(n);return new me(i.seconds,i.nanos)})(e))}function s_(e,t){return zy(e,t).canonicalString()}function zy(e,t){const n=(function(a){return new de(["projects",a.projectId,"databases",a.database])})(e).child("documents");return t===void 0?n:n.child(t)}function PI(e){const t=de.fromString(e);return ne(kI(t),10190,{key:t.toString()}),t}function qy(e,t){return s_(e.databaseId,t.path)}function Qg(e,t){const n=PI(t);if(n.get(1)!==e.databaseId.projectId)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new vt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Rt(NI(n))}function VI(e,t){return s_(e.databaseId,t)}function gU(e){const t=PI(e);return t.length===4?de.emptyPath():NI(t)}function Hy(e){return new de(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function NI(e){return ne(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function nS(e,t,n){return{name:qy(e,t),fields:n.value.mapValue.fields}}function yU(e,t){let n;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(ne(y===void 0||typeof y=="string",58123),pn.fromBase64String(y||"")):(ne(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),pn.fromUint8Array(y||new Uint8Array))})(e,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?rt.UNKNOWN:II(p.code);return new vt(y,p.message||"")})(u);n=new xI(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Qg(e,i.document.name),l=dr(i.document.updateTime),u=i.document.createTime?dr(i.document.createTime):Ot.min(),h=new Ln({mapValue:{fields:i.document.fields}}),m=Tn.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new hd(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Qg(e,i.document),l=i.readTime?dr(i.readTime):Ot.min(),u=Tn.newNoDocument(a,l),h=i.removedTargetIds||[];n=new hd([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Qg(e,i.document),l=i.removedTargetIds||[];n=new hd([],l,a,null)}else{if(!("filter"in t))return Dt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new aU(a,l),h=i.targetId;n=new CI(h,u)}}return n}function vU(e,t){let n;if(t instanceof nh)n={update:nS(e,t.key,t.value)};else if(t instanceof RI)n={delete:qy(e,t.key)};else if(t instanceof Ta)n={update:nS(e,t.key,t.data),updateMask:IU(t.fieldMask)};else{if(!(t instanceof iU))return Dt(16599,{Vt:t.type});n={verify:qy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof Lc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Uc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof jc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Od)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Dt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:pU(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Dt(27497)})(e,t.precondition)),n}function _U(e,t){return e&&e.length>0?(ne(t!==void 0,14353),e.map((n=>(function(a,l){let u=a.updateTime?dr(a.updateTime):dr(l);return u.isEqual(Ot.min())&&(u=dr(l)),new tU(u,a.transformResults||[])})(n,t)))):[]}function TU(e,t){return{documents:[VI(e,t.path)]}}function EU(e,t){const n={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=VI(e,a);const l=(function(p){if(p.length!==0)return OI(Li.create(p,"and"))})(t.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(T){return{field:dl(T.field),direction:SU(T.dir)}})(y)))})(t.orderBy);u&&(n.structuredQuery.orderBy=u);const h=By(e,t.limit);return h!==null&&(n.structuredQuery.limit=h),t.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:n,parent:a}}function bU(e){let t=gU(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){ne(i===1,65062);const y=n.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];n.where&&(l=(function(_){const T=MI(_);return T instanceof Li&&uI(T)?T.getFilters():[T]})(n.where));let u=[];n.orderBy&&(u=(function(_){return _.map((T=>(function(D){return new Md(ml(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(T)))})(n.orderBy));let h=null;n.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,fm(T)?null:T})(n.limit));let m=null;n.startAt&&(m=(function(_){const T=!!_.before,A=_.values||[];return new Nd(A,T)})(n.startAt));let p=null;return n.endAt&&(p=(function(_){const T=!_.before,A=_.values||[];return new Nd(A,T)})(n.endAt)),F4(t,a,u,l,h,"F",m,p)}function wU(e,t){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:a})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function MI(e){return e.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ml(n.unaryFilter.field);return He.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(n.unaryFilter.field);return He.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(n.unaryFilter.field);return He.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(n.unaryFilter.field);return He.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}})(e):e.fieldFilter!==void 0?(function(n){return He.create(ml(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(e):e.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((i=>MI(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}})(n.compositeFilter.op))})(e):Dt(30097,{filter:e})}function SU(e){return hU[e]}function AU(e){return fU[e]}function RU(e){return dU[e]}function dl(e){return{fieldPath:e.canonicalString()}}function ml(e){return mn.fromServerFormat(e.fieldPath)}function OI(e){return e instanceof He?(function(n){if(n.op==="=="){if(qw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NAN"}};if(zw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NAN"}};if(zw(n.value))return{unaryFilter:{field:dl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(n.field),op:AU(n.op),value:n.value}}})(e):e instanceof Li?(function(n){const i=n.getFilters().map((a=>OI(a)));return i.length===1?i[0]:{compositeFilter:{op:RU(n.op),filters:i}}})(e):Dt(54877,{filter:e})}function IU(e){const t=[];return e.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function kI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n,i,a,l=Ot.min(),u=Ot.min(),h=pn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new ea(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t){this.yt=t}}function xU(e){const t=bU({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fy(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(){this.Cn=new PU}addToCollectionParentIndex(t,n){return this.Cn.add(n),at.resolve()}getCollectionParents(t,n){return at.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return at.resolve()}deleteFieldIndex(t,n){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,n){return at.resolve()}getDocumentsMatchingTarget(t,n){return at.resolve(null)}getIndexType(t,n){return at.resolve(0)}getFieldIndexes(t,n){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,n){return at.resolve(oa.min())}getMinOffsetFromCollectionGroup(t,n){return at.resolve(oa.min())}updateCollectionGroup(t,n,i){return at.resolve()}updateIndexEntries(t,n){return at.resolve()}}class PU{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n]||new We(de.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(t){const n=t.lastSegment(),i=t.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(t){return(this.index[t]||new We(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LI=41943040;class kn{static withCacheSize(t){return new kn(t,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(LI,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Vl(0)}static cr(){return new Vl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="LruGarbageCollector",VU=1048576;function sS([e,t],[n,i]){const a=Kt(e,n);return a===0?Kt(t,i):a}class NU{constructor(t){this.Ir=t,this.buffer=new We(sS),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();sS(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MU{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Tt(rS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ql(n)?Tt(rS,"Ignoring IndexedDB error during garbage collection: ",n):await zl(n)}await this.Vr(3e5)}))}}class OU{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((i=>Math.floor(n/100*i)))}nthSequenceNumber(t,n){if(n===0)return at.resolve(hm.ce);const i=new NU(n);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(iS)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iS):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,a,l,u,h,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,u=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,n)))).next((_=>(l=_,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(p=Date.now(),hl()<=$t.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${_} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:_}))))}}function kU(e,t){return new OU(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.changes=new vo((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?at.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(t,n,i,a){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,n)))).next((a=>(i!==null&&vc(i.mutation,a,Zn.empty(),me.now()),a)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.getLocalViewOfDocuments(t,i,Qt()).next((()=>i))))}getLocalViewOfDocuments(t,n,i=Qt()){const a=to();return this.populateOverlays(t,a,n).next((()=>this.computeViews(t,n,a,i).next((l=>{let u=uc();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,n){const i=to();return this.populateOverlays(t,i,n).next((()=>this.computeViews(t,n,i,Qt())))}populateOverlays(t,n,i){const a=[];return i.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(t,n,i,a){let l=cs();const u=yc(),h=(function(){return yc()})();return n.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ta)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),vc(y.mutation,p,y.mutation.getFieldMask(),me.now())):u.set(p.key,Zn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),n.forEach(((p,y)=>h.set(p,new UU(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,n){const i=yc();let a=new Se(((u,h)=>u-h)),l=Qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=n.get(m);if(p===null)return;let y=i.get(m)||Zn.empty();y=h.applyToLocalView(p,y),i.set(m,y);const _=(a.get(h.batchId)||Qt()).add(m);a=a.insert(h.batchId,_)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,_=vI();y.forEach((T=>{if(!l.has(T)){const A=SI(n.get(T),i.get(T));A!==null&&_.set(T,A),l=l.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,_))}return at.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,n,i,a){return(function(u){return Rt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dI(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,a):this.getDocumentsMatchingCollectionQuery(t,n,i,a)}getNextDocuments(t,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,a-l.size):at.resolve(to());let h=Nc,m=l;return u.next((p=>at.forEach(p,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),l.get(y)?at.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{m=m.insert(y,T)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Qt()))).next((y=>({batchId:h,changes:yI(y)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Rt(n)).next((i=>{let a=uc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,n,i,a){const l=n.collectionGroup;let u=uc();return this.indexManager.getCollectionParents(t,l).next((h=>at.forEach(h,(m=>{const p=(function(_,T){return new eh(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(n,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Tn.newInvalidDocument(y)))}));let h=uc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&vc(y.mutation,p,Zn.empty(),me.now()),pm(n,p)&&(h=h.insert(m,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FU{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return at.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:dr(a.createTime)}})(n)),at.resolve()}getNamedQuery(t,n){return at.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:xU(a.bundledQuery),readTime:dr(a.readTime)}})(n)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.overlays=new Se(Rt.comparator),this.qr=new Map}getOverlay(t,n){return at.resolve(this.overlays.get(n))}getOverlays(t,n){const i=to();return at.forEach(n,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,n,i){return i.forEach(((a,l)=>{this.St(t,n,l)})),at.resolve()}removeOverlaysForBatchId(t,n,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),at.resolve()}getOverlaysForCollection(t,n,i){const a=to(),l=n.length+1,u=new Rt(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return at.resolve(a)}getOverlaysForCollectionGroup(t,n,i,a){let l=new Se(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=to(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=to(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return at.resolve(h)}St(t,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sU(n,i));let l=this.qr.get(n);l===void 0&&(l=Qt(),this.qr.set(n,l)),this.qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zU{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(){this.Qr=new We(sn.$r),this.Ur=new We(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new sn(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach((i=>this.addReference(i,n)))}removeReference(t,n){this.Gr(new sn(t,n))}zr(t,n){t.forEach((i=>this.removeReference(i,n)))}jr(t){const n=new Rt(new de([])),i=new sn(n,t),a=new sn(n,t+1),l=[];return this.Ur.forEachInRange([i,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Rt(new de([])),i=new sn(n,t),a=new sn(n,t+1);let l=Qt();return this.Ur.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const n=new sn(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class sn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Rt.comparator(t.key,n.key)||Kt(t.Yr,n.Yr)}static Kr(t,n){return Kt(t.Yr,n.Yr)||Rt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(sn.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new rU(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new sn(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return at.resolve(u)}lookupMutationBatch(t,n){return at.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,a=this.ei(i),l=a<0?0:a;return at.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?Xv:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new sn(n,0),a=new sn(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),at.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new We(Kt);return n.forEach((a=>{const l=new sn(a,0),u=new sn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{i=i.add(h.Yr)}))})),at.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,a=i.length+1;let l=i;Rt.isDocumentKey(l)||(l=l.child(""));const u=new sn(new Rt(l),0);let h=new We(Kt);return this.Zr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Yr)),!0)}),u),at.resolve(this.ti(h))}ti(t){const n=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&n.push(a)})),n}removeMutationBatch(t,n){ne(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return at.forEach(n.mutations,(a=>{const l=new sn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,n){const i=new sn(n,0),a=this.Zr.firstAfterOrEqual(i);return at.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(t){this.ri=t,this.docs=(function(){return new Se(Rt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return at.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(n))}getEntries(t,n){let i=cs();return n.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),at.resolve(i)}getDocumentsMatchingQuery(t,n,i,a){let l=cs();const u=n.path,h=new Rt(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||v4(y4(y),i)<=0||(a.has(y.key)||pm(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return at.resolve(l)}getAllFromCollectionGroup(t,n,i,a){Dt(9500)}ii(t,n){return at.forEach(this.docs,(i=>n(i)))}newChangeBuffer(t){return new GU(this)}getSize(t){return at.resolve(this.size)}}class GU extends LU{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),at.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(t){this.persistence=t,this.si=new vo((n=>Jv(n)),t_),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.oi=0,this._i=new a_,this.targetCount=0,this.ai=Vl.ur()}forEachTarget(t,n){return this.si.forEach(((i,a)=>n(a))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),at.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Vl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,at.resolve()}updateTargetData(t,n){return this.Pr(n),at.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,n,i){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),at.waitFor(l).next((()=>a))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return at.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),at.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),at.waitFor(l)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),at.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return at.resolve(i)}containsKey(t,n){return at.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n){this.ui={},this.overlays={},this.ci=new hm(0),this.li=!1,this.li=!0,this.hi=new zU,this.referenceDelegate=t(this),this.Pi=new $U(this),this.indexManager=new DU,this.remoteDocumentCache=(function(a){return new HU(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new CU(n),this.Ii=new FU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new BU,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new qU(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){Tt("MemoryPersistence","Starting transaction:",t);const a=new KU(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(t,n){return at.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,n))))}}class KU extends T4{constructor(t){super(),this.currentSequenceNumber=t}}class o_{constructor(t){this.persistence=t,this.Ri=new a_,this.Vi=null}static mi(t){return new o_(t)}get fi(){if(this.Vi)return this.Vi;throw Dt(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),at.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),at.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(i=>{const a=Rt.fromPath(i);return this.gi(t,a).next((l=>{l||n.removeEntry(a,Ot.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return at.or([()=>at.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Ld{constructor(t,n){this.persistence=t,this.pi=new vo((i=>w4(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=kU(this,n)}static mi(t,n){return new Ld(t,n)}Ei(){}di(t){return at.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>n.next((a=>i+a))))}wr(t){let n=0;return this.pr(t,(i=>{n++})).next((()=>n))}pr(t,n){return at.forEach(this.pi,((i,a)=>this.br(t,i,a).next((l=>l?at.resolve():n(a)))))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(t,(u=>this.br(t,u,n).next((h=>{h||(i++,l.removeEntry(u,Ot.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),at.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ld(t.data.value)),n}br(t,n,i){return at.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const a=this.pi.get(n);return at.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(t,n,i,a){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=a}static As(t,n){let i=Qt(),a=Qt();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new l_(t,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TM()?8:E4(bn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,a){const l={result:null};return this.ys(t,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(t,n,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new QU;return this.Ss(t,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(t,n,u,h.size)}))})).next((()=>l.result))}bs(t,n,i,a){return i.documentReadCount<this.fs?(hl()<=$t.DEBUG&&Tt("QueryEngine","SDK will not create cache indexes for query:",fl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(hl()<=$t.DEBUG&&Tt("QueryEngine","Query:",fl(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(hl()<=$t.DEBUG&&Tt("QueryEngine","The SDK decides to create cache indexes for query:",fl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hr(n))):at.resolve())}ys(t,n){if(Kw(n))return at.resolve(null);let i=hr(n);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Fy(n,null,"F"),i=hr(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Qt(...l);return this.ps.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.Ds(n,h);return this.Cs(n,p,u,m.readTime)?this.ys(t,Fy(n,null,"F")):this.vs(t,p,n,m)}))))})))))}ws(t,n,i,a){return Kw(n)||a.isEqual(Ot.min())?at.resolve(null):this.ps.getDocuments(t,i).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,i,a)?at.resolve(null):(hl()<=$t.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(n)),this.vs(t,u,n,g4(a,Nc)).next((h=>h)))}))}Ds(t,n){let i=new We(pI(t));return n.forEach(((a,l)=>{pm(t,l)&&(i=i.add(l))})),i}Cs(t,n,i,a){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const l=t.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(t,n,i){return hl()<=$t.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",fl(n)),this.ps.getDocumentsMatchingQuery(t,n,oa.min(),i)}vs(t,n,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LocalStore",XU=3e8;class WU{constructor(t,n,i,a){this.persistence=t,this.Fs=n,this.serializer=a,this.Ms=new Se(Kt),this.xs=new vo((l=>Jv(l)),t_),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function ZU(e,t,n,i){return new WU(e,t,n,i)}async function jI(e,t){const n=kt(e);return await n.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,n.Bs(t),n.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let m=Qt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return n.localDocuments.getDocuments(i,m).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function JU(e,t){const n=kt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const _=p.batch,T=_.keys();let A=at.resolve();return T.forEach((D=>{A=A.next((()=>y.getEntry(m,D))).next((x=>{const P=p.docVersions.get(D);ne(P!==null,48541),x.version.compareTo(P)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),y.addEntry(x)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(m,_)))})(n,i,t,l).next((()=>l.apply(i))).next((()=>n.mutationQueue.performConsistencyCheck(i))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Qt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(t)))).next((()=>n.localDocuments.getDocuments(i,a)))}))}function FI(e){const t=kt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function t6(e,t){const n=kt(e),i=t.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const T=a.get(_);if(!T)return;h.push(n.Pi.removeMatchingKeys(l,y.removedDocuments,_).next((()=>n.Pi.addMatchingKeys(l,y.addedDocuments,_))));let A=T.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(_)!==null?A=A.withResumeToken(pn.EMPTY_BYTE_STRING,Ot.min()).withLastLimboFreeSnapshotVersion(Ot.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(_,A),(function(x,P,U){return x.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=XU?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,A,y)&&h.push(n.Pi.updateTargetData(l,A))}));let m=cs(),p=Qt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(e6(l,u,t.documentUpdates).next((y=>{m=y.ks,p=y.qs}))),!i.isEqual(Ot.min())){const y=n.Pi.getLastRemoteSnapshotVersion(l).next((_=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return at.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(n.Ms=a,l)))}function e6(e,t,n){let i=Qt(),a=Qt();return n.forEach((l=>i=i.add(l))),t.getEntries(e,i).next((l=>{let u=cs();return n.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Ot.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):Tt(u_,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{ks:u,qs:a}}))}function n6(e,t){const n=kt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Xv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function i6(e,t){const n=kt(e);return n.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return n.Pi.getTargetData(i,t).next((l=>l?(a=l,at.resolve(a)):n.Pi.allocateTargetId(i).next((u=>(a=new ea(t,u,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=n.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i}))}async function Gy(e,t,n){const i=kt(e),a=i.Ms.get(t),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ql(u))throw u;Tt(u_,`Failed to update sequence numbers for target ${t}: ${u}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function aS(e,t,n){const i=kt(e);let a=Ot.min(),l=Qt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const _=kt(m),T=_.xs.get(y);return T!==void 0?at.resolve(_.Ms.get(T)):_.Pi.getTargetData(p,y)})(i,u,hr(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,t,n?a:Ot.min(),n?l:Qt()))).next((h=>(r6(i,z4(t),h),{documents:h,Qs:l})))))}function r6(e,t,n){let i=e.Os.get(t)||Ot.min();n.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),e.Os.set(t,i)}class oS{constructor(){this.activeTargetIds=Q4()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class s6{constructor(){this.Mo=new oS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new oS,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="ConnectivityMonitor";class uS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Tt(lS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Tt(lS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gf=null;function $y(){return Gf===null?Gf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Gf++,"0x"+Gf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="RestConnection",o6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class l6{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Pd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,n,i,a,l){const u=$y(),h=this.zo(t,n.toUriEncodedString());Tt(Yg,`Sending RPC '${t}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,a,l);const{host:p}=new URL(h),y=po(p);return this.Jo(t,h,m,i,y).then((_=>(Tt(Yg,`Received RPC '${t}' ${u}: `,_),_)),(_=>{throw Cl(Yg,`RPC '${t}' ${u} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,n,i,a,l,u){return this.Go(t,n,i,a,l)}jo(t,n,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}zo(t,n){const i=o6[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class c6 extends l6{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,a,l){const u=$y();return new Promise(((h,m)=>{const p=new zR;p.setWithCredentials(!0),p.listenOnce(qR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case od.NO_ERROR:const _=p.getResponseJson();Tt(vn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(_)),h(_);break;case od.TIMEOUT:Tt(vn,`RPC '${t}' ${u} timed out`),m(new vt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case od.HTTP_ERROR:const T=p.getStatus();if(Tt(vn,`RPC '${t}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const x=(function(U){const N=U.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(N)>=0?N:rt.UNKNOWN})(D.status);m(new vt(x,D.message))}else m(new vt(rt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new vt(rt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Tt(vn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);Tt(vn,`RPC '${t}' ${u} sending request:`,a),p.send(n,"POST",y,i,15)}))}T_(t,n,i){const a=$y(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=$R(),h=GR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,n,i),m.encodeInitMessageHeaders=!0;const y=l.join("");Tt(vn,`Creating RPC '${t}' stream ${a}: ${y}`,m);const _=u.createWebChannel(y,m);this.I_(_);let T=!1,A=!1;const D=new u6({Yo:P=>{A?Tt(vn,`Not sending because RPC '${t}' stream ${a} is closed:`,P):(T||(Tt(vn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),T=!0),Tt(vn,`RPC '${t}' stream ${a} sending:`,P),_.send(P))},Zo:()=>_.close()}),x=(P,U,N)=>{P.listen(U,(H=>{try{N(H)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return x(_,lc.EventType.OPEN,(()=>{A||(Tt(vn,`RPC '${t}' stream ${a} transport opened.`),D.o_())})),x(_,lc.EventType.CLOSE,(()=>{A||(A=!0,Tt(vn,`RPC '${t}' stream ${a} transport closed`),D.a_(),this.E_(_))})),x(_,lc.EventType.ERROR,(P=>{A||(A=!0,Cl(vn,`RPC '${t}' stream ${a} transport errored. Name:`,P.name,"Message:",P.message),D.a_(new vt(rt.UNAVAILABLE,"The operation could not be completed")))})),x(_,lc.EventType.MESSAGE,(P=>{if(!A){const U=P.data[0];ne(!!U,16349);const N=U,H=N?.error||N[0]?.error;if(H){Tt(vn,`RPC '${t}' stream ${a} received error:`,H);const ut=H.status;let tt=(function(R){const I=Be[R];if(I!==void 0)return II(I)})(ut),_t=H.message;tt===void 0&&(tt=rt.INTERNAL,_t="Unknown error status: "+ut+" with message "+H.message),A=!0,D.a_(new vt(tt,_t)),_.close()}else Tt(vn,`RPC '${t}' stream ${a} received:`,U),D.u_(U)}})),x(h,HR.STAT_EVENT,(P=>{P.stat===Ny.PROXY?Tt(vn,`RPC '${t}' stream ${a} detected buffering proxy`):P.stat===Ny.NOPROXY&&Tt(vn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Xg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(e){return new mU(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t,n,i=1e3,a=1.5,l=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-i);a>0&&Tt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="PersistentStream";class zI{constructor(t,n,i,a,l,u,h,m){this.Mi=t,this.S_=i,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new BI(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===rt.RESOURCE_EXHAUSTED?(ls(n.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===n&&this.G_(i,a)}),(i=>{t((()=>{const a=new vt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return Tt(cS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(Tt(cS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class h6 extends zI{constructor(t,n,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=yU(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Ot.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Ot.min():u.readTime?dr(u.readTime):Ot.min()})(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=Hy(this.serializer),n.addTarget=(function(l,u){let h;const m=u.target;if(h=Uy(m)?{documents:TU(l,m)}:{query:EU(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=DI(l,u.resumeToken);const p=By(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ot.min())>0){h.readTime=kd(l,u.snapshotVersion.toTimestamp());const p=By(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=wU(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=Hy(this.serializer),n.removeTarget=t,this.q_(n)}}class f6 extends zI{constructor(t,n,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ne(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ne(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ne(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=_U(t.writeResults,t.commitTime),i=dr(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=Hy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((i=>vU(this.serializer,i)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{}class m6 extends d6{constructor(t,n,i,a){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(t,zy(n,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new vt(rt.UNKNOWN,l.toString())}))}Ho(t,n,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(t,zy(n,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(rt.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class p6{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(n),this.aa=!1):Tt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ho="RemoteStore";class g6{constructor(t,n,i,a,l){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{_o(this)&&(Tt(ho,"Restarting streams for network reachability change."),await(async function(m){const p=kt(m);p.Ea.add(4),await rh(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Tm(p)})(this))}))})),this.Ra=new p6(i,a)}}async function Tm(e){if(_o(e))for(const t of e.da)await t(!0)}async function rh(e){for(const t of e.da)await t(!1)}function qI(e,t){const n=kt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),d_(n)?f_(n):Hl(n).O_()&&h_(n,t))}function c_(e,t){const n=kt(e),i=Hl(n);n.Ia.delete(t),i.O_()&&HI(n,t),n.Ia.size===0&&(i.O_()?i.L_():_o(n)&&n.Ra.set("Unknown"))}function h_(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hl(e).Y_(t)}function HI(e,t){e.Va.Ue(t),Hl(e).Z_(t)}function f_(e){e.Va=new cU({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Hl(e).start(),e.Ra.ua()}function d_(e){return _o(e)&&!Hl(e).x_()&&e.Ia.size>0}function _o(e){return kt(e).Ea.size===0}function GI(e){e.Va=void 0}async function y6(e){e.Ra.set("Online")}async function v6(e){e.Ia.forEach(((t,n)=>{h_(e,t)}))}async function _6(e,t){GI(e),d_(e)?(e.Ra.ha(t),f_(e)):e.Ra.set("Unknown")}async function T6(e,t,n){if(e.Ra.set("Online"),t instanceof xI&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(e,t)}catch(i){Tt(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Ud(e,i)}else if(t instanceof hd?e.Va.Ze(t):t instanceof CI?e.Va.st(t):e.Va.tt(t),!n.isEqual(Ot.min()))try{const i=await FI(e.localStore);n.compareTo(i)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(pn.EMPTY_BYTE_STRING,y.snapshotVersion)),HI(l,m);const _=new ea(y.target,m,p,y.sequenceNumber);h_(l,_)})),l.remoteSyncer.applyRemoteEvent(h)})(e,n)}catch(i){Tt(ho,"Failed to raise snapshot:",i),await Ud(e,i)}}async function Ud(e,t,n){if(!ql(t))throw t;e.Ea.add(1),await rh(e),e.Ra.set("Offline"),n||(n=()=>FI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Tt(ho,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Tm(e)}))}function $I(e,t){return t().catch((n=>Ud(e,n,t)))}async function Em(e){const t=kt(e),n=ha(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Xv;for(;E6(t);)try{const a=await n6(t.localStore,i);if(a===null){t.Ta.length===0&&n.L_();break}i=a.batchId,b6(t,a)}catch(a){await Ud(t,a)}KI(t)&&QI(t)}function E6(e){return _o(e)&&e.Ta.length<10}function b6(e,t){e.Ta.push(t);const n=ha(e);n.O_()&&n.X_&&n.ea(t.mutations)}function KI(e){return _o(e)&&!ha(e).x_()&&e.Ta.length>0}function QI(e){ha(e).start()}async function w6(e){ha(e).ra()}async function S6(e){const t=ha(e);for(const n of e.Ta)t.ea(n.mutations)}async function A6(e,t,n){const i=e.Ta.shift(),a=i_.from(i,t,n);await $I(e,(()=>e.remoteSyncer.applySuccessfulWrite(a))),await Em(e)}async function R6(e,t){t&&ha(e).X_&&await(async function(i,a){if((function(u){return oU(u)&&u!==rt.ABORTED})(a.code)){const l=i.Ta.shift();ha(i).B_(),await $I(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Em(i)}})(e,t),KI(e)&&QI(e)}async function hS(e,t){const n=kt(e);n.asyncQueue.verifyOperationInProgress(),Tt(ho,"RemoteStore received new credentials");const i=_o(n);n.Ea.add(3),await rh(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Tm(n)}async function I6(e,t){const n=kt(e);t?(n.Ea.delete(2),await Tm(n)):t||(n.Ea.add(2),await rh(n),n.Ra.set("Unknown"))}function Hl(e){return e.ma||(e.ma=(function(n,i,a){const l=kt(n);return l.sa(),new h6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:y6.bind(null,e),t_:v6.bind(null,e),r_:_6.bind(null,e),H_:T6.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),d_(e)?f_(e):e.Ra.set("Unknown")):(await e.ma.stop(),GI(e))}))),e.ma}function ha(e){return e.fa||(e.fa=(function(n,i,a){const l=kt(n);return l.sa(),new f6(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:w6.bind(null,e),r_:R6.bind(null,e),ta:S6.bind(null,e),na:A6.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Em(e)):(await e.fa.stop(),e.Ta.length>0&&(Tt(ho,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,n,i,a,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,a,l){const u=Date.now()+i,h=new m_(t,n,u,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p_(e,t){if(ls("AsyncQueue",`${t}: ${e}`),ql(e))return new vt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{static emptySet(t){return new Sl(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||Rt.comparator(n.key,i.key):(n,i)=>Rt.comparator(n.key,i.key),this.keyedMap=uc(),this.sortedSet=new Se(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,i)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Sl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Sl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(){this.ga=new Se(Rt.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Dt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,i)=>{t.push(i)})),t}}class Nl{constructor(t,n,i,a,l,u,h,m,p){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,n,i,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Nl(t,n,Sl.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class x6{constructor(){this.queries=dS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=kt(n),l=a.queries;a.queries=dS(),l.forEach(((u,h)=>{for(const m of h.Sa)m.onError(i)}))})(this,new vt(rt.ABORTED,"Firestore shutting down"))}}function dS(){return new vo((e=>mI(e)),mm)}async function YI(e,t){const n=kt(e);let i=3;const a=t.query;let l=n.queries.get(a);l?!l.ba()&&t.Da()&&(i=2):(l=new C6,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=p_(u,`Initialization of query '${fl(t.query)}' failed`);return void t.onError(h)}n.queries.set(a,l),l.Sa.push(t),t.va(n.onlineState),l.wa&&t.Fa(l.wa)&&g_(n)}async function XI(e,t){const n=kt(e),i=t.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(t);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=t.Da()?0:1:!l.ba()&&t.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function D6(e,t){const n=kt(e);let i=!1;for(const a of t){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(i=!0);u.wa=a}}i&&g_(n)}function P6(e,t,n){const i=kt(e),a=i.queries.get(t);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(t)}function g_(e){e.Ca.forEach((t=>{t.next()}))}var Ky,mS;(mS=Ky||(Ky={})).Ma="default",mS.Cache="cache";class WI{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Nl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t){this.key=t}}class JI{constructor(t){this.key=t}}class V6{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Qt(),this.mutatedKeys=Qt(),this.eu=pI(t),this.tu=new Sl(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new fS,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const T=a.get(y),A=pm(this.query,_)?_:null,D=!!T&&this.mutatedKeys.has(T.key),x=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;T&&A?T.data.isEqual(A.data)?D!==x&&(i.track({type:3,doc:A}),P=!0):this.su(T,A)||(i.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(h=!0)):!T&&A?(i.track({type:0,doc:A}),P=!0):T&&!A&&(i.track({type:1,doc:T}),P=!0,(m||p)&&(h=!0)),P&&(A?(u=u.add(A),l=x?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:l}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,_)=>(function(A,D){const x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Rt:P})}};return x(A)-x(D)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=n&&!a?this._u():[],m=this.Xa.size===0&&this.current&&!a?1:0,p=m!==this.Za;return this.Za=m,u.length!==0||p?{snapshot:new Nl(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Qt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const n=[];return t.forEach((i=>{this.Xa.has(i)||n.push(new JI(i))})),this.Xa.forEach((i=>{t.has(i)||n.push(new ZI(i))})),n}cu(t){this.Ya=t.Qs,this.Xa=Qt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const y_="SyncEngine";class N6{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class M6{constructor(t){this.key=t,this.hu=!1}}class O6{constructor(t,n,i,a,l,u){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new vo((h=>mI(h)),mm),this.Iu=new Map,this.Eu=new Set,this.du=new Se(Rt.comparator),this.Au=new Map,this.Ru=new a_,this.Vu={},this.mu=new Map,this.fu=Vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function k6(e,t,n=!0){const i=sC(e);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await tC(i,t,n,!0),a}async function L6(e,t){const n=sC(e);await tC(n,t,!0,!1)}async function tC(e,t,n,i){const a=await i6(e.localStore,hr(t)),l=a.targetId,u=e.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await U6(e,t,l,u==="current",a.resumeToken)),e.isPrimaryClient&&n&&qI(e.remoteStore,a),h}async function U6(e,t,n,i,a){e.pu=(_,T,A)=>(async function(x,P,U,N){let H=P.view.ru(U);H.Cs&&(H=await aS(x.localStore,P.query,!1).then((({documents:M})=>P.view.ru(M,H))));const ut=N&&N.targetChanges.get(P.targetId),tt=N&&N.targetMismatches.get(P.targetId)!=null,_t=P.view.applyChanges(H,x.isPrimaryClient,ut,tt);return gS(x,P.targetId,_t.au),_t.snapshot})(e,_,T,A);const l=await aS(e.localStore,t,!0),u=new V6(t,l.Qs),h=u.ru(l.documents),m=ih.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",a),p=u.applyChanges(h,e.isPrimaryClient,m);gS(e,n,p.au);const y=new N6(t,n,u);return e.Tu.set(t,y),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),p.snapshot}async function j6(e,t,n){const i=kt(e),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!mm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Gy(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),n&&c_(i.remoteStore,a.targetId),Qy(i,a.targetId)})).catch(zl)):(Qy(i,a.targetId),await Gy(i.localStore,a.targetId,!0))}async function F6(e,t){const n=kt(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),c_(n.remoteStore,i.targetId))}async function B6(e,t,n){const i=Q6(e);try{const a=await(function(u,h){const m=kt(u),p=me.now(),y=h.reduce(((A,D)=>A.add(D.key)),Qt());let _,T;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=cs(),x=Qt();return m.Ns.getEntries(A,y).next((P=>{D=P,D.forEach(((U,N)=>{N.isValidDocument()||(x=x.add(U))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,D))).next((P=>{_=P;const U=[];for(const N of h){const H=nU(N,_.get(N.key).overlayedDocument);H!=null&&U.push(new Ta(N.key,H,aI(H.value.mapValue),fr.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,U,h)})).next((P=>{T=P;const U=P.applyToLocalDocumentSet(_,x);return m.documentOverlayCache.saveOverlays(A,P.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:yI(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.Vu[u.currentUser.toKey()];p||(p=new Se(Kt)),p=p.insert(h,m),u.Vu[u.currentUser.toKey()]=p})(i,a.batchId,n),await sh(i,a.changes),await Em(i.remoteStore)}catch(a){const l=p_(a,"Failed to persist write");n.reject(l)}}async function eC(e,t){const n=kt(e);try{const i=await t6(n.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(ne(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?ne(u.hu,14607):a.removedDocuments.size>0&&(ne(u.hu,42227),u.hu=!1))})),await sh(n,i,t)}catch(i){await zl(i)}}function pS(e,t,n){const i=kt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=kt(u);m.onlineState=h;let p=!1;m.queries.forEach(((y,_)=>{for(const T of _.Sa)T.va(h)&&(p=!0)})),p&&g_(m)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function z6(e,t,n){const i=kt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new Se(Rt.comparator);u=u.insert(l,Tn.newNoDocument(l,Ot.min()));const h=Qt().add(l),m=new vm(Ot.min(),new Map,new Se(Kt),u,h);await eC(i,m),i.du=i.du.remove(l),i.Au.delete(t),v_(i)}else await Gy(i.localStore,t,!1).then((()=>Qy(i,t,n))).catch(zl)}async function q6(e,t){const n=kt(e),i=t.batch.batchId;try{const a=await JU(n.localStore,t);iC(n,i,null),nC(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await sh(n,a)}catch(a){await zl(a)}}async function H6(e,t,n){const i=kt(e);try{const a=await(function(u,h){const m=kt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((_=>(ne(_!==null,37113),y=_.keys(),m.mutationQueue.removeMutationBatch(p,_)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);iC(i,t,n),nC(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await sh(i,a)}catch(a){await zl(a)}}function nC(e,t){(e.mu.get(t)||[]).forEach((n=>{n.resolve()})),e.mu.delete(t)}function iC(e,t,n){const i=kt(e);let a=i.Vu[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(n?l.reject(n):l.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Qy(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((i=>{e.Ru.containsKey(i)||rC(e,i)}))}function rC(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(c_(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),v_(e))}function gS(e,t,n){for(const i of n)i instanceof ZI?(e.Ru.addReference(i.key,t),G6(e,i)):i instanceof JI?(Tt(y_,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||rC(e,i.key)):Dt(19791,{wu:i})}function G6(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(Tt(y_,"New document in limbo: "+n),e.Eu.add(i),v_(e))}function v_(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Rt(de.fromString(t)),i=e.fu.next();e.Au.set(i,new M6(n)),e.du=e.du.insert(n,i),qI(e.remoteStore,new ea(hr(e_(n.path)),i,"TargetPurposeLimboResolution",hm.ce))}}async function sh(e,t,n){const i=kt(e),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{u.push(i.pu(m,t,n).then((p=>{if((p||n)&&i.isPrimaryClient){const y=p?!p.fromCache:n?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=l_.As(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.H_(a),await(async function(m,p){const y=kt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>at.forEach(p,(T=>at.forEach(T.Es,(A=>y.persistence.referenceDelegate.addReference(_,T.targetId,A))).next((()=>at.forEach(T.ds,(A=>y.persistence.referenceDelegate.removeReference(_,T.targetId,A)))))))))}catch(_){if(!ql(_))throw _;Tt(u_,"Failed to update sequence numbers: "+_)}for(const _ of p){const T=_.targetId;if(!_.fromCache){const A=y.Ms.get(T),D=A.snapshotVersion,x=A.withLastLimboFreeSnapshotVersion(D);y.Ms=y.Ms.insert(T,x)}}})(i.localStore,l))}async function $6(e,t){const n=kt(e);if(!n.currentUser.isEqual(t)){Tt(y_,"User change. New user:",t.toKey());const i=await jI(n.localStore,t);n.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new vt(rt.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sh(n,i.Ls)}}function K6(e,t){const n=kt(e),i=n.Au.get(t);if(i&&i.hu)return Qt().add(i.key);{let a=Qt();const l=n.Iu.get(t);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function sC(e){const t=kt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=z6.bind(null,t),t.Pu.H_=D6.bind(null,t.eventManager),t.Pu.yu=P6.bind(null,t.eventManager),t}function Q6(e){const t=kt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=q6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,t),t}class jd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_m(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return ZU(this.persistence,new YU,t.initialUser,this.serializer)}Cu(t){return new UI(o_.mi,this.serializer)}Du(t){return new s6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jd.provider={build:()=>new jd};class Y6 extends jd{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ne(this.persistence.referenceDelegate instanceof Ld,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MU(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new UI((i=>Ld.mi(i,n)),this.serializer)}}class Yy{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>pS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$6.bind(null,this.syncEngine),await I6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new x6})()}createDatastore(t){const n=_m(t.databaseInfo.databaseId),i=(function(l){return new c6(l)})(t.databaseInfo);return(function(l,u,h,m){return new m6(l,u,h,m)})(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return(function(i,a,l,u,h){return new g6(i,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(n=>pS(this.syncEngine,n,0)),(function(){return uS.v()?new uS:new a6})())}createSyncEngine(t,n){return(function(a,l,u,h,m,p,y){const _=new O6(a,l,u,h,m,p);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const i=kt(n);Tt(ho,"RemoteStore shutting down."),i.Ea.add(5),await rh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Yy.provider={build:()=>new Yy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="FirestoreClient";class X6{constructor(t,n,i,a,l){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=_n.UNAUTHENTICATED,this.clientId=Yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{Tt(fa,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(Tt(fa,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=p_(n,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Wg(e,t){e.asyncQueue.verifyOperationInProgress(),Tt(fa,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async a=>{i.isEqual(a)||(await jI(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function yS(e,t){e.asyncQueue.verifyOperationInProgress();const n=await W6(e);Tt(fa,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((i=>hS(t.remoteStore,i))),e.setAppCheckTokenChangeListener(((i,a)=>hS(t.remoteStore,a))),e._onlineComponents=t}async function W6(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Tt(fa,"Using user provided OfflineComponentProvider");try{await Wg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Cl("Error using user provided cache. Falling back to memory cache: "+n),await Wg(e,new jd)}}else Tt(fa,"Using default OfflineComponentProvider"),await Wg(e,new Y6(void 0));return e._offlineComponents}async function oC(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Tt(fa,"Using user provided OnlineComponentProvider"),await yS(e,e._uninitializedComponentsProvider._online)):(Tt(fa,"Using default OnlineComponentProvider"),await yS(e,new Yy))),e._onlineComponents}function Z6(e){return oC(e).then((t=>t.syncEngine))}async function lC(e){const t=await oC(e),n=t.eventManager;return n.onListen=k6.bind(null,t.syncEngine),n.onUnlisten=j6.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=L6.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=F6.bind(null,t.syncEngine),n}function J6(e,t,n={}){const i=new is;return e.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new aC({next:T=>{y.Nu(),u.enqueueAndForget((()=>XI(l,_)));const A=T.docs.has(h);!A&&T.fromCache?p.reject(new vt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&T.fromCache&&m&&m.source==="server"?p.reject(new vt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new WI(e_(h.path),y,{includeMetadataChanges:!0,qa:!0});return YI(l,_)})(await lC(e),e.asyncQueue,t,n,i))),i.promise}function t3(e,t,n={}){const i=new is;return e.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new aC({next:T=>{y.Nu(),u.enqueueAndForget((()=>XI(l,_))),T.fromCache&&m.source==="server"?p.reject(new vt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(T)},error:T=>p.reject(T)}),_=new WI(h,y,{includeMetadataChanges:!0,qa:!0});return YI(l,_)})(await lC(e),e.asyncQueue,t,n,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="firestore.googleapis.com",_S=!0;class TS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cC,this.ssl=_S}else this.host=t.host,this.ssl=t.ssl??_S;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=LI;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<VU)throw new vt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}p4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new vt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bm{constructor(t,n,i,a){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new s4;switch(i.type){case"firstParty":return new u4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new vt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const i=vS.get(n);i&&(Tt("ComponentProvider","Removing Datastore"),vS.delete(n),i.terminate())})(this),Promise.resolve()}}function e3(e,t,n,i={}){e=us(e,bm);const a=po(t),l=e._getSettings(),u={...l,emulatorOptions:e._getEmulatorOptions()},h=`${t}:${n}`;a&&(Lv(`https://${h}`),Uv("Firestore",!0)),l.host!==cC&&l.host!==h&&Cl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!aa(m,u)&&(e._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=_n.MOCK_USER;else{p=fM(i.mockUserToken,e._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new vt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new _n(_)}e._authCredentials=new a4(new QR(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Gl(this.firestore,t,this._query)}}class Me{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(th(n,Me._jsonSchema))return new Me(t,i||null,new Rt(de.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ge("string",Me._jsonSchemaVersion),referencePath:Ge("string")};class sa extends Gl{constructor(t,n,i){super(t,n,e_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new Rt(t))}withConverter(t){return new sa(this.firestore,t,this._path)}}function $f(e,t,...n){if(e=we(e),YR("collection","path",t),e instanceof bm){const i=de.fromString(t,...n);return Nw(i),new sa(e,null,i)}{if(!(e instanceof Me||e instanceof sa))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(de.fromString(t,...n));return Nw(i),new sa(e.firestore,null,i)}}function $s(e,t,...n){if(e=we(e),arguments.length===1&&(t=Yv.newId()),YR("doc","path",t),e instanceof bm){const i=de.fromString(t,...n);return Vw(i),new Me(e,null,new Rt(i))}{if(!(e instanceof Me||e instanceof sa))throw new vt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(de.fromString(t,...n));return Vw(i),new Me(e.firestore,e instanceof sa?e.converter:null,new Rt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="AsyncQueue";class bS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new BI(this,"async_queue_retry"),this._c=()=>{const i=Xg();i&&Tt(ES,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Xg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Xg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ql(t))throw t;Tt(ES,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",wS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const a=m_.createAndSchedule(this,t,n,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Dt(47125,{Pc:wS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,i)=>n.targetTimeMs-i.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function wS(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ah extends bm{constructor(t,n,i,a){super(t,n,i,a),this.type="firestore",this._queue=new bS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bS(t),this._firestoreClient=void 0,await t}}}function n3(e,t){const n=typeof e=="object"?e:am(),i=typeof e=="string"?e:Pd,a=ya(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=Y1("firestore");l&&e3(a,...l)}return a}function __(e){if(e._terminated)throw new vt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||i3(e),e._firestoreClient}function i3(e){const t=e._freezeSettings(),n=(function(a,l,u,h){return new R4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new X6(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gi(pn.fromBase64String(t))}catch(n){throw new vt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new gi(pn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:gi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(th(t,gi._jsonSchema))return gi.fromBase64String(t.bytes)}}gi._jsonSchemaVersion="firestore/bytes/1.0",gi._jsonSchema={type:Ge("string",gi._jsonSchemaVersion),bytes:Ge("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new vt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new vt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new vt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mr._jsonSchemaVersion}}static fromJSON(t){if(th(t,mr._jsonSchema))return new mr(t.latitude,t.longitude)}}mr._jsonSchemaVersion="firestore/geoPoint/1.0",mr._jsonSchema={type:Ge("string",mr._jsonSchemaVersion),latitude:Ge("number"),longitude:Ge("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(th(t,pr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new pr(t.vectorValues);throw new vt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pr._jsonSchemaVersion="firestore/vectorValue/1.0",pr._jsonSchema={type:Ge("string",pr._jsonSchemaVersion),vectorValues:Ge("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=/^__.*__$/;class s3{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Ta(t,this.data,this.fieldMask,n,this.fieldTransforms):new nh(t,this.data,n,this.fieldTransforms)}}class hC{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new Ta(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function fC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ac:e})}}class T_{constructor(t,n,i,a,l,u){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new T_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){const n=this.path?.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Fd(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fC(this.Ac)&&r3.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class a3{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||_m(t)}Cc(t,n,i,a=!1){return new T_({Ac:t,methodName:n,Dc:i,path:mn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E_(e){const t=e._freezeSettings(),n=_m(e._databaseId);return new a3(e._databaseId,!!t.ignoreUndefinedProperties,n)}function o3(e,t,n,i,a,l={}){const u=e.Cc(l.merge||l.mergeFields?2:0,t,n,a);w_("Data must be an object, but it was:",u,i);const h=dC(i,u);let m,p;if(l.merge)m=new Zn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const _ of l.mergeFields){const T=Xy(t,_,n);if(!u.contains(T))throw new vt(rt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);pC(y,T)||y.push(T)}m=new Zn(y),p=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,p=u.fieldTransforms;return new s3(new Ln(h),m,p)}class Am extends Sm{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Am}}class b_ extends Sm{_toFieldTransform(t){return new Z4(t.path,new Lc)}isEqual(t){return t instanceof b_}}function l3(e,t,n,i){const a=e.Cc(1,t,n);w_("Data must be an object, but it was:",a,i);const l=[],u=Ln.empty();_a(i,((m,p)=>{const y=S_(t,m,n);p=we(p);const _=a.yc(y);if(p instanceof Am)l.push(y);else{const T=oh(p,_);T!=null&&(l.push(y),u.set(y,T))}}));const h=new Zn(l);return new hC(u,h,a.fieldTransforms)}function u3(e,t,n,i,a,l){const u=e.Cc(1,t,n),h=[Xy(t,i,n)],m=[a];if(l.length%2!=0)throw new vt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<l.length;T+=2)h.push(Xy(t,l[T])),m.push(l[T+1]);const p=[],y=Ln.empty();for(let T=h.length-1;T>=0;--T)if(!pC(p,h[T])){const A=h[T];let D=m[T];D=we(D);const x=u.yc(A);if(D instanceof Am)p.push(A);else{const P=oh(D,x);P!=null&&(p.push(A),y.set(A,P))}}const _=new Zn(p);return new hC(y,_,u.fieldTransforms)}function c3(e,t,n,i=!1){return oh(n,e.Cc(i?4:3,t))}function oh(e,t){if(mC(e=we(e)))return w_("Unsupported field value:",t,e),dC(e,t);if(e instanceof Sm)return(function(i,a){if(!fC(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let m=oh(h,a.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(e,t)}return(function(i,a){if((i=we(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Y4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=me.fromDate(i);return{timestampValue:kd(a.serializer,l)}}if(i instanceof me){const l=new me(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kd(a.serializer,l)}}if(i instanceof mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof gi)return{bytesValue:DI(a.serializer,i._byteString)};if(i instanceof Me){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:s_(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof pr)return(function(u,h){return{mapValue:{fields:{[rI]:{stringValue:sI},[Vd]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return n_(h.serializer,p)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${cm(i)}`)})(e,t)}function dC(e,t){const n={};return ZR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_a(e,((i,a)=>{const l=oh(a,t.mc(i));l!=null&&(n[i]=l)})),{mapValue:{fields:n}}}function mC(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof me||e instanceof mr||e instanceof gi||e instanceof Me||e instanceof Sm||e instanceof pr)}function w_(e,t,n){if(!mC(n)||!XR(n)){const i=cm(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function Xy(e,t,n){if((t=we(t))instanceof wm)return t._internalPath;if(typeof t=="string")return S_(e,t);throw Fd("Field path arguments must be of type string or ",e,!1,void 0,n)}const h3=new RegExp("[~\\*/\\[\\]]");function S_(e,t,n){if(t.search(h3)>=0)throw Fd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wm(...t.split("."))._internalPath}catch{throw Fd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Fd(e,t,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new vt(rt.INVALID_ARGUMENT,h+e+m)}function pC(e,t){return e.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(t,n,i,a,l){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new f3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(A_("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f3 extends gC{data(){return super.data()}}function A_(e,t){return typeof t=="string"?S_(e,t):t instanceof wm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class R_{}class m3 extends R_{}function Kf(e,t,...n){let i=[];t instanceof R_&&i.push(t),i=i.concat(n),(function(l){const u=l.filter((m=>m instanceof I_)).length,h=l.filter((m=>m instanceof Rm)).length;if(u>1||u>0&&h>0)throw new vt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)e=a._apply(e);return e}class Rm extends m3{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Rm(t,n,i)}_apply(t){const n=this._parse(t);return yC(t._query,n),new Gl(t.firestore,t.converter,jy(t._query,n))}_parse(t){const n=E_(t.firestore);return(function(l,u,h,m,p,y,_){let T;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new vt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){AS(_,y);const D=[];for(const x of _)D.push(SS(m,l,x));T={arrayValue:{values:D}}}else T=SS(m,l,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||AS(_,y),T=c3(h,u,_,y==="in"||y==="not-in");return He.create(p,y,T)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function Qf(e,t,n){const i=t,a=A_("where",e);return Rm._create(a,i,n)}class I_ extends R_{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new I_(t,n)}_parse(t){const n=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return n.length===1?n[0]:Li.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)yC(u,m),u=jy(u,m)})(t._query,n),new Gl(t.firestore,t.converter,jy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SS(e,t,n){if(typeof(n=we(n))=="string"){if(n==="")throw new vt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dI(t)&&n.indexOf("/")!==-1)throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(de.fromString(n));if(!Rt.isDocumentKey(i))throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bw(e,new Rt(i))}if(n instanceof Me)return Bw(e,n._key);throw new vt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cm(n)}.`)}function AS(e,t){if(!Array.isArray(e)||e.length===0)throw new vt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function yC(e,t){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(e.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new vt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class p3{convertValue(t,n="none"){switch(ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ua(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return _a(t,((a,l)=>{i[a]=this.convertValue(l,n)})),i}convertVectorValue(t){const n=t.fields?.[Vd].arrayValue?.values?.map((i=>Ne(i.doubleValue)));return new pr(n)}convertGeoPoint(t){return new mr(Ne(t.latitude),Ne(t.longitude))}convertArray(t,n){return(t.values||[]).map((i=>this.convertValue(i,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const i=dm(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Mc(t));default:return null}}convertTimestamp(t){const n=la(t);return new me(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=de.fromString(t);ne(kI(i),9688,{name:t});const a=new Oc(i.get(1),i.get(3)),l=new Rt(i.popFirst(5));return a.isEqual(n)||ls(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(e,t,n){let i;return i=e?e.toFirestore(t):t,i}class hc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class so extends gC{constructor(t,n,i,a,l,u){super(t,n,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(A_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:Ge("string",so._jsonSchemaVersion),bundleSource:Ge("string","DocumentSnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class fd extends so{data(t={}){return super.data(t)}}class Al{constructor(t,n,i,a){this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new hc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((i=>{t.call(n,new fd(this._firestore,this._userDataWriter,i.key,i,new hc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new fd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new hc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new fd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new hc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:y3(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Al._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Yv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function y3(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(e){e=us(e,Me);const t=us(e.firestore,ah);return J6(__(t),e._key).then((n=>v3(t,e,n)))}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:Ge("string",Al._jsonSchemaVersion),bundleSource:Ge("string","QuerySnapshot"),bundleName:Ge("string"),bundle:Ge("string")};class vC extends p3{constructor(t){super(),this.firestore=t}convertBytes(t){return new gi(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function Yf(e){e=us(e,Gl);const t=us(e.firestore,ah),n=__(t),i=new vC(t);return d3(e._query),t3(n,e._query).then((a=>new Al(t,i,e,a)))}function Xf(e,t,n){e=us(e,Me);const i=us(e.firestore,ah),a=g3(e.converter,t);return _C(i,[o3(E_(i),"setDoc",e._key,a,e.converter!==null,n).toMutation(e._key,fr.none())])}function IS(e,t,n,...i){e=us(e,Me);const a=us(e.firestore,ah),l=E_(a);let u;return u=typeof(t=we(t))=="string"||t instanceof wm?u3(l,"updateDoc",e._key,t,n,i):l3(l,"updateDoc",e._key,t),_C(a,[u.toMutation(e._key,fr.exists(!0))])}function _C(e,t){return(function(i,a){const l=new is;return i.asyncQueue.enqueueAndForget((async()=>B6(await Z6(i),a,l))),l.promise})(__(e),t)}function v3(e,t,n){const i=n.docs.get(t._key),a=new vC(e);return new so(e,a,t._key,i,new hc(n.hasPendingWrites,n.fromCache),t.converter)}function CS(){return new b_("serverTimestamp")}(function(t,n=!0){(function(a){Bl=a})(jl),Oi(new vi("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new ah(new o4(i.getProvider("auth-internal")),new c4(u,i.getProvider("app-check-internal")),(function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new vt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oc(p.options.projectId,y)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),jn(Cw,xw,t),jn(Cw,xw,"esm2020")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _3{constructor(t,n,i,a){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,Wn(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||i.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),a=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy="us-central1";class T3{constructor(t,n,i,a,l=Wy,u=(...h)=>fetch(...h)){this.app=t,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new _3(t,n,i,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Wy}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function E3(e,t,n){const i=po(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(Lv(e.emulatorOrigin+"/backends"),Uv("Functions",!0))}const xS="@firebase/functions",DS="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="auth-internal",w3="app-check-internal",S3="messaging-internal";function A3(e){const t=(n,{instanceIdentifier:i})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(b3),u=n.getProvider(S3),h=n.getProvider(w3);return new T3(a,l,u,h,i)};Oi(new vi(TC,t,"PUBLIC").setMultipleInstances(!0)),jn(xS,DS,e),jn(xS,DS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(e=am(),t=Wy){const i=ya(we(e),TC).getImmediate({identifier:t}),a=Y1("functions");return a&&I3(i,...a),i}function I3(e,t,n){E3(we(e),t,n)}A3();const EC="@firebase/installations",C_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=1e4,wC=`w:${C_}`,SC="FIS_v2",C3="https://firebaseinstallations.googleapis.com/v1",x3=3600*1e3,D3="installations",P3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},fo=new go(D3,P3,V3);function AC(e){return e instanceof ji&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC({projectId:e}){return`${C3}/projects/${e}/installations`}function IC(e){return{token:e.token,requestStatus:2,expiresIn:M3(e.expiresIn),creationTime:Date.now()}}async function CC(e,t){const i=(await t.json()).error;return fo.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function xC({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function N3(e,{refreshToken:t}){const n=xC(e);return n.append("Authorization",O3(t)),n}async function DC(e){const t=await e();return t.status>=500&&t.status<600?e():t}function M3(e){return Number(e.replace("s","000"))}function O3(e){return`${SC} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k3({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=RC(e),a=xC(e),l=t.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:SC,appId:e.appId,sdkVersion:wC},h={method:"POST",headers:a,body:JSON.stringify(u)},m=await DC(()=>fetch(i,h));if(m.ok){const p=await m.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:IC(p.authToken)}}else throw await CC("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=/^[cdef][\w-]{21}$/,Zy="";function j3(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=F3(e);return U3.test(n)?n:Zy}catch{return Zy}}function F3(e){return L3(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new Map;function NC(e,t){const n=Im(e);MC(n,t),B3(n,t)}function MC(e,t){const n=VC.get(e);if(n)for(const i of n)i(t)}function B3(e,t){const n=z3();n&&n.postMessage({key:e,fid:t}),q3()}let eo=null;function z3(){return!eo&&"BroadcastChannel"in self&&(eo=new BroadcastChannel("[Firebase] FID Change"),eo.onmessage=e=>{MC(e.data.key,e.data.fid)}),eo}function q3(){VC.size===0&&eo&&(eo.close(),eo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="firebase-installations-database",G3=1,mo="firebase-installations-store";let Zg=null;function x_(){return Zg||(Zg=iR(H3,G3,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(mo)}}})),Zg}async function Bd(e,t){const n=Im(e),a=(await x_()).transaction(mo,"readwrite"),l=a.objectStore(mo),u=await l.get(n);return await l.put(t,n),await a.done,(!u||u.fid!==t.fid)&&NC(e,t.fid),t}async function OC(e){const t=Im(e),i=(await x_()).transaction(mo,"readwrite");await i.objectStore(mo).delete(t),await i.done}async function Cm(e,t){const n=Im(e),a=(await x_()).transaction(mo,"readwrite"),l=a.objectStore(mo),u=await l.get(n),h=t(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&NC(e,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(e){let t;const n=await Cm(e.appConfig,i=>{const a=$3(i),l=K3(e,a);return t=l.registrationPromise,l.installationEntry});return n.fid===Zy?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function $3(e){const t=e||{fid:j3(),registrationStatus:0};return kC(t)}function K3(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(fo.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=Q3(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Y3(e)}:{installationEntry:t}}async function Q3(e,t){try{const n=await k3(e,t);return Bd(e.appConfig,n)}catch(n){throw AC(n)&&n.customData.serverCode===409?await OC(e.appConfig):await Bd(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Y3(e){let t=await PS(e.appConfig);for(;t.registrationStatus===1;)await PC(100),t=await PS(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await D_(e);return i||n}return t}function PS(e){return Cm(e,t=>{if(!t)throw fo.create("installation-not-found");return kC(t)})}function kC(e){return X3(e)?{fid:e.fid,registrationStatus:0}:e}function X3(e){return e.registrationStatus===1&&e.registrationTime+bC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3({appConfig:e,heartbeatServiceProvider:t},n){const i=Z3(e,n),a=N3(e,n),l=t.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:wC,appId:e.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},m=await DC(()=>fetch(i,h));if(m.ok){const p=await m.json();return IC(p)}else throw await CC("Generate Auth Token",m)}function Z3(e,{fid:t}){return`${RC(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P_(e,t=!1){let n;const i=await Cm(e.appConfig,l=>{if(!LC(l))throw fo.create("not-registered");const u=l.authToken;if(!t&&e9(u))return l;if(u.requestStatus===1)return n=J3(e,t),l;{if(!navigator.onLine)throw fo.create("app-offline");const h=i9(l);return n=t9(e,h),h}});return n?await n:i.authToken}async function J3(e,t){let n=await VS(e.appConfig);for(;n.authToken.requestStatus===1;)await PC(100),n=await VS(e.appConfig);const i=n.authToken;return i.requestStatus===0?P_(e,t):i}function VS(e){return Cm(e,t=>{if(!LC(t))throw fo.create("not-registered");const n=t.authToken;return r9(n)?{...t,authToken:{requestStatus:0}}:t})}async function t9(e,t){try{const n=await W3(e,t),i={...t,authToken:n};return await Bd(e.appConfig,i),n}catch(n){if(AC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OC(e.appConfig);else{const i={...t,authToken:{requestStatus:0}};await Bd(e.appConfig,i)}throw n}}function LC(e){return e!==void 0&&e.registrationStatus===2}function e9(e){return e.requestStatus===2&&!n9(e)}function n9(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+x3}function i9(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function r9(e){return e.requestStatus===1&&e.requestTime+bC<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s9(e){const t=e,{installationEntry:n,registrationPromise:i}=await D_(t);return i?i.catch(console.error):P_(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a9(e,t=!1){const n=e;return await o9(n),(await P_(n,t)).token}async function o9(e){const{registrationPromise:t}=await D_(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(e){if(!e||!e.options)throw Jg("App Configuration");if(!e.name)throw Jg("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jg(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Jg(e){return fo.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC="installations",u9="installations-internal",c9=e=>{const t=e.getProvider("app").getImmediate(),n=l9(t),i=ya(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},h9=e=>{const t=e.getProvider("app").getImmediate(),n=ya(t,UC).getImmediate();return{getId:()=>s9(n),getToken:a=>a9(n,a)}};function f9(){Oi(new vi(UC,c9,"PUBLIC")),Oi(new vi(u9,h9,"PRIVATE"))}f9();jn(EC,C_);jn(EC,C_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="analytics",d9="firebase_id",m9="origin",p9=60*1e3,g9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",V_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new sm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jn=new go("analytics","Analytics",y9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(e){if(!e.startsWith(V_)){const t=Jn.create("invalid-gtag-resource",{gtagURL:e});return Fn.warn(t.message),""}return e}function jC(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function _9(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function T9(e,t){const n=_9("firebase-js-sdk-policy",{createScriptURL:v9}),i=document.createElement("script"),a=`${V_}?l=${e}&id=${t}`;i.src=n?n?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function E9(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function b9(e,t,n,i,a,l){const u=i[a];try{if(u)await t[u];else{const m=(await jC(n)).find(p=>p.measurementId===a);m&&await t[m.appId]}}catch(h){Fn.error(h)}e("config",a,l)}async function w9(e,t,n,i,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await jC(n);for(const m of u){const p=h.find(_=>_.measurementId===m),y=p&&t[p.appId];if(y)l.push(y);else{l=[];break}}}l.length===0&&(l=Object.values(t)),await Promise.all(l),e("event",i,a||{})}catch(l){Fn.error(l)}}function S9(e,t,n,i){async function a(l,...u){try{if(l==="event"){const[h,m]=u;await w9(e,t,n,h,m)}else if(l==="config"){const[h,m]=u;await b9(e,t,n,i,h,m)}else if(l==="consent"){const[h,m]=u;e("consent",h,m)}else if(l==="get"){const[h,m,p]=u;e("get",h,m,p)}else if(l==="set"){const[h]=u;e("set",h)}else e(l,...u)}catch(h){Fn.error(h)}}return a}function A9(e,t,n,i,a){let l=function(...u){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=S9(l,e,t,n),{gtagCore:l,wrappedGtag:window[a]}}function R9(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(V_)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I9=30,C9=1e3;class x9{constructor(t={},n=C9){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const FC=new x9;function D9(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function P9(e){const{appId:t,apiKey:n}=e,i={method:"GET",headers:D9(n)},a=g9.replace("{app-id}",t),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw Jn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function V9(e,t=FC,n){const{appId:i,apiKey:a,measurementId:l}=e.options;if(!i)throw Jn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Jn.create("no-api-key")}const u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new O9;return setTimeout(async()=>{h.abort()},p9),BC({appId:i,apiKey:a,measurementId:l},u,h,t)}async function BC(e,{throttleEndTimeMillis:t,backoffCount:n},i,a=FC){const{appId:l,measurementId:u}=e;try{await N9(i,t)}catch(h){if(u)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await P9(e);return a.deleteThrottleMetadata(l),h}catch(h){const m=h;if(!M9(m)){if(a.deleteThrottleMetadata(l),u)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(m?.customData?.httpStatus)===503?Jb(n,a.intervalMillis,I9):Jb(n,a.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,y),Fn.debug(`Calling attemptFetch again in ${p} millis`),BC(e,y,i,a)}}function N9(e,t){return new Promise((n,i)=>{const a=Math.max(t-Date.now(),0),l=setTimeout(n,a);e.addEventListener(()=>{clearTimeout(l),i(Jn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function M9(e){if(!(e instanceof ji)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class O9{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function k9(e,t,n,i,a){if(a&&a.global){e("event",n,i);return}else{const l=await t,u={...i,send_to:l};e("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L9(){if(J1())try{await tR()}catch(e){return Fn.warn(Jn.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}else return Fn.warn(Jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U9(e,t,n,i,a,l,u){const h=V9(e);h.then(T=>{n[T.measurementId]=T.appId,e.options.measurementId&&T.measurementId!==e.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${T.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(T=>Fn.error(T)),t.push(h);const m=L9().then(T=>{if(T)return i.getId()}),[p,y]=await Promise.all([h,m]);R9(l)||T9(l,p.measurementId),a("js",new Date);const _=u?.config??{};return _[m9]="firebase",_.update=!0,y!=null&&(_[d9]=y),a("config",p.measurementId,_),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(t){this.app=t}_delete(){return delete _c[this.app.options.appId],Promise.resolve()}}let _c={},NS=[];const MS={};let ty="dataLayer",F9="gtag",OS,zC,kS=!1;function B9(){const e=[];if(Z1()&&e.push("This is a browser extension environment."),EM()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,a)=>`(${a+1}) ${i}`).join(" "),n=Jn.create("invalid-analytics-context",{errorInfo:t});Fn.warn(n.message)}}function z9(e,t,n){B9();const i=e.options.appId;if(!i)throw Jn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jn.create("no-api-key");if(_c[i]!=null)throw Jn.create("already-exists",{id:i});if(!kS){E9(ty);const{wrappedGtag:l,gtagCore:u}=A9(_c,NS,MS,ty,F9);zC=l,OS=u,kS=!0}return _c[i]=U9(e,NS,MS,t,OS,ty,n),new j9(e)}function q9(e=am()){e=we(e);const t=ya(e,zd);return t.isInitialized()?t.getImmediate():H9(e)}function H9(e,t={}){const n=ya(e,zd);if(n.isInitialized()){const a=n.getImmediate();if(aa(t,n.getOptions()))return a;throw Jn.create("already-initialized")}return n.initialize({options:t})}function G9(e,t,n,i){e=we(e),k9(zC,_c[e.app.options.appId],t,n,i).catch(a=>Fn.error(a))}const LS="@firebase/analytics",US="0.10.18";function $9(){Oi(new vi(zd,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return z9(i,a,n)},"PUBLIC")),Oi(new vi("analytics-internal",e,"PRIVATE")),jn(LS,US),jn(LS,US,"esm2020");function e(t){try{const n=t.getProvider(zd).getImmediate();return{logEvent:(i,a,l)=>G9(n,i,a,l)}}catch(n){throw Jn.create("interop-component-reg-failed",{reason:n})}}}$9();const K9={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""},xm=rR(K9),dd=e4(xm),Ii=n3(xm);R3(xm);typeof window<"u"&&q9(xm);class qC{static async createUserProfile(t,n){const i=$s(Ii,"users",t),a={id:t,...n,createdAt:new Date};return await Xf(i,{...a,createdAt:CS()}),a}static async getUserProfile(t){const n=$s(Ii,"users",t),i=await RS(n);if(i.exists()){const a=i.data();return{...a,id:i.id,createdAt:a.createdAt?.toDate()||new Date,subscriptionEndDate:a.subscriptionEndDate?.toDate()}}return null}static async updateUserProfile(t,n){const i=$s(Ii,"users",t),a={...n};n.subscriptionEndDate&&(a.subscriptionEndDate=n.subscriptionEndDate),await IS(i,a)}static async getUserInnermosts(t){const n=$f(Ii,"innermosts"),i=Kf(n,Qf("partnerA","==",t)),a=Kf(n,Qf("partnerB","==",t)),[l,u]=await Promise.all([Yf(i),Yf(a)]),h=[];return[...l.docs,...u.docs].forEach(m=>{const p=m.data();h.push({...p,id:m.id,createdAt:p.createdAt?.toDate()||new Date})}),h}static async createInnermost(t){const n=$s($f(Ii,"innermosts")),i={...t,id:n.id,createdAt:new Date};return await Xf(n,{...i,createdAt:CS()}),i}static async getWillingBox(t){const n=$s(Ii,"willingBoxes",t),i=await RS(n);if(i.exists()){const a=i.data();return{...a,id:i.id,lockedAt:a.lockedAt?.toDate()}}return null}static async saveWillingBox(t){const n=$s(Ii,"willingBoxes",t.id),i={...t,lockedAt:t.lockedAt||null};await Xf(n,i)}static async getWeeklyScores(t){const n=$f(Ii,"weeklyScores"),i=Kf(n,Qf("innermostId","==",t)),a=await Yf(i),l=[];return a.docs.forEach(u=>{const h=u.data();l.push({...h,id:u.id,completedAt:h.completedAt?.toDate()})}),l.sort((u,h)=>u.weekNumber-h.weekNumber)}static async saveWeeklyScore(t){const n=$s(Ii,"weeklyScores",t.id),i={...t,completedAt:t.completedAt||null};await Xf(n,i)}static async updateSubscriptionStatus(t,n,i){const a=$s(Ii,"users",t),l={subscriptionStatus:n};i&&(l.subscriptionEndDate=i),await IS(a,l)}static async isEmailRegistered(t){const n=$f(Ii,"users"),i=Kf(n,Qf("email","==",t.toLowerCase()));return!(await Yf(i)).empty}}const Xn=q1()(H1(nM((e,t)=>({user:null,firebaseUser:null,isLoading:!1,isInitialized:!1,error:null,setUser:n=>e({user:n}),setFirebaseUser:n=>e({firebaseUser:n}),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),setInitialized:n=>e({isInitialized:n}),clearError:()=>e({error:null}),login:async(n,i)=>{try{e({isLoading:!0,error:null});const a=await Uk(dd,n,i)}catch(a){const l=a instanceof Error?a.message:"Login failed";throw e({error:l}),a}finally{e({isLoading:!1})}},signup:async(n,i,a,l,u)=>{try{e({isLoading:!0,error:null});const h=await Lk(dd,n,i);await Fk(h.user,{displayName:a});const m=await qC.createUserProfile(h.user.uid,{email:h.user.email,displayName:a,age:l,gender:u,activeInnermosts:[],subscriptionStatus:"free"});e({user:m})}catch(h){const m=h instanceof Error?h.message:"Signup failed";throw e({error:m}),h}finally{e({isLoading:!1})}},logout:async()=>{try{e({isLoading:!0,error:null}),await Hk(dd),e({user:null,firebaseUser:null})}catch(n){const i=n instanceof Error?n.message:"Logout failed";throw e({error:i}),n}finally{e({isLoading:!1})}}}),{name:"auth-storage",partialize:e=>({user:e.user,isInitialized:e.isInitialized})}),{name:"auth-store"}));let jS=null;const Q9=()=>{if(jS)return;console.log("[AuthStore] Starting auth initialization...");const e=setTimeout(()=>{console.error("[AuthStore] Auth initialization timeout - forcing initialized state"),Xn.getState().setInitialized(!0),Xn.getState().setError("Authentication initialization timed out")},5e3);jS=qk(dd,async t=>{if(clearTimeout(e),console.log("[AuthStore] Auth state changed:",t?.email||"no user"),Xn.getState().setFirebaseUser(t),t)try{const n=await qC.getUserProfile(t.uid);n?(console.log("[AuthStore] User profile loaded:",n.email),Xn.getState().setUser(n)):(console.warn("[AuthStore] User exists in Auth but not in Firestore"),Xn.getState().setUser(null))}catch(n){console.error("[AuthStore] Error fetching user profile:",n),Xn.getState().setError("Failed to load user profile"),Xn.getState().setUser(null)}else console.log("[AuthStore] No authenticated user"),Xn.getState().setUser(null);console.log("[AuthStore] Setting initialized to true"),Xn.getState().setInitialized(!0)})};class Y9 extends z.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(t){return{hasError:!0,error:t,errorInfo:null}}componentDidCatch(t,n){console.error("Uncaught error:",t,n),this.setState({error:t,errorInfo:n})}render(){return this.state.hasError?q.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",border:"1px solid #fcc",margin:"20px"},children:[q.jsx("h2",{style:{color:"#c00"},children:"Something went wrong!"}),q.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"10px"},children:[q.jsx("summary",{children:"Error Details (click to expand)"}),q.jsxs("p",{children:[q.jsx("strong",{children:"Error:"})," ",this.state.error?.toString()]}),q.jsx("p",{children:q.jsx("strong",{children:"Stack:"})}),q.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:this.state.error?.stack}),this.state.errorInfo&&q.jsxs(q.Fragment,{children:[q.jsx("p",{children:q.jsx("strong",{children:"Component Stack:"})}),q.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:this.state.errorInfo.componentStack})]})]})]}):this.props.children}}var lh=e=>e.type==="checkbox",no=e=>e instanceof Date,In=e=>e==null;const HC=e=>typeof e=="object";var Oe=e=>!In(e)&&!Array.isArray(e)&&HC(e)&&!no(e),X9=e=>Oe(e)&&e.target?lh(e.target)?e.target.checked:e.target.value:e,W9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Z9=(e,t)=>e.has(W9(t)),J9=e=>{const t=e.constructor&&e.constructor.prototype;return Oe(t)&&t.hasOwnProperty("isPrototypeOf")},N_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function rn(e){let t;const n=Array.isArray(e),i=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(N_&&(e instanceof Blob||i))&&(n||Oe(e)))if(t=n?[]:Object.create(Object.getPrototypeOf(e)),!n&&!J9(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=rn(e[a]));else return e;return t}var Dm=e=>/^\w*$/.test(e),qe=e=>e===void 0,M_=e=>Array.isArray(e)?e.filter(Boolean):[],O_=e=>M_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),bt=(e,t,n)=>{if(!t||!Oe(e))return n;const i=(Dm(t)?[t]:O_(t)).reduce((a,l)=>In(a)?a:a[l],e);return qe(i)||i===e?qe(e[t])?n:e[t]:i},ar=e=>typeof e=="boolean",ye=(e,t,n)=>{let i=-1;const a=Dm(t)?[t]:O_(t),l=a.length,u=l-1;for(;++i<l;){const h=a[i];let m=n;if(i!==u){const p=e[h];m=Oe(p)||Array.isArray(p)?p:isNaN(+a[i+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;e[h]=m,e=e[h]}};const FS={BLUR:"blur",FOCUS_OUT:"focusout"},Pi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Zr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},t5=fn.createContext(null);t5.displayName="HookFormContext";var e5=(e,t,n,i=!0)=>{const a={defaultValues:t._defaultValues};for(const l in e)Object.defineProperty(a,l,{get:()=>{const u=l;return t._proxyFormState[u]!==Pi.all&&(t._proxyFormState[u]=!i||Pi.all),e[u]}});return a};const n5=typeof window<"u"?fn.useLayoutEffect:fn.useEffect;var lr=e=>typeof e=="string",i5=(e,t,n,i,a)=>lr(e)?(i&&t.watch.add(e),bt(n,e,a)):Array.isArray(e)?e.map(l=>(i&&t.watch.add(l),bt(n,l))):(i&&(t.watchAll=!0),n),Jy=e=>In(e)||!HC(e);function ta(e,t,n=new WeakSet){if(Jy(e)||Jy(t))return e===t;if(no(e)&&no(t))return e.getTime()===t.getTime();const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const l of i){const u=e[l];if(!a.includes(l))return!1;if(l!=="ref"){const h=t[l];if(no(u)&&no(h)||Oe(u)&&Oe(h)||Array.isArray(u)&&Array.isArray(h)?!ta(u,h,n):u!==h)return!1}}return!0}var r5=(e,t,n,i,a)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[i]:a||!0}}:{},Tc=e=>Array.isArray(e)?e:[e],BS=()=>{let e=[];return{get observers(){return e},next:a=>{for(const l of e)l.next&&l.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(l=>l!==a)}}),unsubscribe:()=>{e=[]}}},On=e=>Oe(e)&&!Object.keys(e).length,k_=e=>e.type==="file",Vi=e=>typeof e=="function",qd=e=>{if(!N_)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},GC=e=>e.type==="select-multiple",L_=e=>e.type==="radio",s5=e=>L_(e)||lh(e),ey=e=>qd(e)&&e.isConnected;function a5(e,t){const n=t.slice(0,-1).length;let i=0;for(;i<n;)e=qe(e)?i++:e[t[i++]];return e}function o5(e){for(const t in e)if(e.hasOwnProperty(t)&&!qe(e[t]))return!1;return!0}function Fe(e,t){const n=Array.isArray(t)?t:Dm(t)?[t]:O_(t),i=n.length===1?e:a5(e,n),a=n.length-1,l=n[a];return i&&delete i[l],a!==0&&(Oe(i)&&On(i)||Array.isArray(i)&&o5(i))&&Fe(e,n.slice(0,-1)),e}var $C=e=>{for(const t in e)if(Vi(e[t]))return!0;return!1};function Hd(e,t={}){const n=Array.isArray(e);if(Oe(e)||n)for(const i in e)Array.isArray(e[i])||Oe(e[i])&&!$C(e[i])?(t[i]=Array.isArray(e[i])?[]:{},Hd(e[i],t[i])):In(e[i])||(t[i]=!0);return t}function KC(e,t,n){const i=Array.isArray(e);if(Oe(e)||i)for(const a in e)Array.isArray(e[a])||Oe(e[a])&&!$C(e[a])?qe(t)||Jy(n[a])?n[a]=Array.isArray(e[a])?Hd(e[a],[]):{...Hd(e[a])}:KC(e[a],In(t)?{}:t[a],n[a]):n[a]=!ta(e[a],t[a]);return n}var nc=(e,t)=>KC(e,t,Hd(t));const zS={value:!1,isValid:!1},qS={value:!0,isValid:!0};var QC=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qe(e[0].attributes.value)?qe(e[0].value)||e[0].value===""?qS:{value:e[0].value,isValid:!0}:qS:zS}return zS},YC=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:i})=>qe(e)?e:t?e===""?NaN:e&&+e:n&&lr(e)?new Date(e):i?i(e):e;const HS={isValid:!1,value:null};var XC=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,HS):HS;function GS(e){const t=e.ref;return k_(t)?t.files:L_(t)?XC(e.refs).value:GC(t)?[...t.selectedOptions].map(({value:n})=>n):lh(t)?QC(e.refs).value:YC(qe(t.value)?e.ref.value:t.value,e)}var l5=(e,t,n,i)=>{const a={};for(const l of e){const u=bt(t,l);u&&ye(a,l,u._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:i}},Gd=e=>e instanceof RegExp,ic=e=>qe(e)?e:Gd(e)?e.source:Oe(e)?Gd(e.value)?e.value.source:e.value:e,$S=e=>({isOnSubmit:!e||e===Pi.onSubmit,isOnBlur:e===Pi.onBlur,isOnChange:e===Pi.onChange,isOnAll:e===Pi.all,isOnTouch:e===Pi.onTouched});const KS="AsyncFunction";var u5=e=>!!e&&!!e.validate&&!!(Vi(e.validate)&&e.validate.constructor.name===KS||Oe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===KS)),c5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),QS=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(i=>e.startsWith(i)&&/^\.\w+/.test(e.slice(i.length))));const Ec=(e,t,n,i)=>{for(const a of n||Object.keys(e)){const l=bt(e,a);if(l){const{_f:u,...h}=l;if(u){if(u.refs&&u.refs[0]&&t(u.refs[0],a)&&!i)return!0;if(u.ref&&t(u.ref,u.name)&&!i)return!0;if(Ec(h,t))break}else if(Oe(h)&&Ec(h,t))break}}};function YS(e,t,n){const i=bt(e,n);if(i||Dm(n))return{error:i,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),u=bt(t,l),h=bt(e,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(h&&h.type)return{name:l,error:h};if(h&&h.root&&h.root.type)return{name:`${l}.root`,error:h.root};a.pop()}return{name:n}}var h5=(e,t,n,i)=>{n(e);const{name:a,...l}=e;return On(l)||Object.keys(l).length>=Object.keys(t).length||Object.keys(l).find(u=>t[u]===(!i||Pi.all))},f5=(e,t,n)=>!e||!t||e===t||Tc(e).some(i=>i&&(n?i===t:i.startsWith(t)||t.startsWith(i))),d5=(e,t,n,i,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(t||e):(n?i.isOnBlur:a.isOnBlur)?!e:(n?i.isOnChange:a.isOnChange)?e:!0,m5=(e,t)=>!M_(bt(e,t)).length&&Fe(e,t),p5=(e,t,n)=>{const i=Tc(bt(e,n));return ye(i,"root",t[n]),ye(e,n,i),e},md=e=>lr(e);function XS(e,t,n="validate"){if(md(e)||Array.isArray(e)&&e.every(md)||ar(e)&&!e)return{type:n,message:md(e)?e:"",ref:t}}var cl=e=>Oe(e)&&!Gd(e)?e:{value:e,message:""},WS=async(e,t,n,i,a,l)=>{const{ref:u,refs:h,required:m,maxLength:p,minLength:y,min:_,max:T,pattern:A,validate:D,name:x,valueAsNumber:P,mount:U}=e._f,N=bt(n,x);if(!U||t.has(x))return{};const H=h?h[0]:u,ut=j=>{a&&H.reportValidity&&(H.setCustomValidity(ar(j)?"":j||""),H.reportValidity())},tt={},_t=L_(u),M=lh(u),R=_t||M,I=(P||k_(u))&&qe(u.value)&&qe(N)||qd(u)&&u.value===""||N===""||Array.isArray(N)&&!N.length,L=r5.bind(null,x,i,tt),F=(j,C,Lt,Ut=Zr.maxLength,Z=Zr.minLength)=>{const lt=j?C:Lt;tt[x]={type:j?Ut:Z,message:lt,ref:u,...L(j?Ut:Z,lt)}};if(l?!Array.isArray(N)||!N.length:m&&(!R&&(I||In(N))||ar(N)&&!N||M&&!QC(h).isValid||_t&&!XC(h).isValid)){const{value:j,message:C}=md(m)?{value:!!m,message:m}:cl(m);if(j&&(tt[x]={type:Zr.required,message:C,ref:H,...L(Zr.required,C)},!i))return ut(C),tt}if(!I&&(!In(_)||!In(T))){let j,C;const Lt=cl(T),Ut=cl(_);if(!In(N)&&!isNaN(N)){const Z=u.valueAsNumber||N&&+N;In(Lt.value)||(j=Z>Lt.value),In(Ut.value)||(C=Z<Ut.value)}else{const Z=u.valueAsDate||new Date(N),lt=O=>new Date(new Date().toDateString()+" "+O),yt=u.type=="time",Mt=u.type=="week";lr(Lt.value)&&N&&(j=yt?lt(N)>lt(Lt.value):Mt?N>Lt.value:Z>new Date(Lt.value)),lr(Ut.value)&&N&&(C=yt?lt(N)<lt(Ut.value):Mt?N<Ut.value:Z<new Date(Ut.value))}if((j||C)&&(F(!!j,Lt.message,Ut.message,Zr.max,Zr.min),!i))return ut(tt[x].message),tt}if((p||y)&&!I&&(lr(N)||l&&Array.isArray(N))){const j=cl(p),C=cl(y),Lt=!In(j.value)&&N.length>+j.value,Ut=!In(C.value)&&N.length<+C.value;if((Lt||Ut)&&(F(Lt,j.message,C.message),!i))return ut(tt[x].message),tt}if(A&&!I&&lr(N)){const{value:j,message:C}=cl(A);if(Gd(j)&&!N.match(j)&&(tt[x]={type:Zr.pattern,message:C,ref:u,...L(Zr.pattern,C)},!i))return ut(C),tt}if(D){if(Vi(D)){const j=await D(N,n),C=XS(j,H);if(C&&(tt[x]={...C,...L(Zr.validate,C.message)},!i))return ut(C.message),tt}else if(Oe(D)){let j={};for(const C in D){if(!On(j)&&!i)break;const Lt=XS(await D[C](N,n),H,C);Lt&&(j={...Lt,...L(C,Lt.message)},ut(Lt.message),i&&(tt[x]=j))}if(!On(j)&&(tt[x]={ref:H,...j},!i))return tt}}return ut(!0),tt};const g5={mode:Pi.onSubmit,reValidateMode:Pi.onChange,shouldFocusError:!0};function y5(e={}){let t={...g5,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Vi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},i={},a=Oe(t.defaultValues)||Oe(t.values)?rn(t.defaultValues||t.values)||{}:{},l=t.shouldUnregister?{}:rn(a),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,p=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...y};const T={array:BS(),state:BS()},A=t.criteriaMode===Pi.all,D=k=>Y=>{clearTimeout(p),p=setTimeout(k,Y)},x=async k=>{if(!t.disabled&&(y.isValid||_.isValid||k)){const Y=t.resolver?On((await M()).errors):await I(i,!0);Y!==n.isValid&&T.state.next({isValid:Y})}},P=(k,Y)=>{!t.disabled&&(y.isValidating||y.validatingFields||_.isValidating||_.validatingFields)&&((k||Array.from(h.mount)).forEach(et=>{et&&(Y?ye(n.validatingFields,et,Y):Fe(n.validatingFields,et))}),T.state.next({validatingFields:n.validatingFields,isValidating:!On(n.validatingFields)}))},U=(k,Y=[],et,gt,dt=!0,ht=!0)=>{if(gt&&et&&!t.disabled){if(u.action=!0,ht&&Array.isArray(bt(i,k))){const pt=et(bt(i,k),gt.argA,gt.argB);dt&&ye(i,k,pt)}if(ht&&Array.isArray(bt(n.errors,k))){const pt=et(bt(n.errors,k),gt.argA,gt.argB);dt&&ye(n.errors,k,pt),m5(n.errors,k)}if((y.touchedFields||_.touchedFields)&&ht&&Array.isArray(bt(n.touchedFields,k))){const pt=et(bt(n.touchedFields,k),gt.argA,gt.argB);dt&&ye(n.touchedFields,k,pt)}(y.dirtyFields||_.dirtyFields)&&(n.dirtyFields=nc(a,l)),T.state.next({name:k,isDirty:F(k,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ye(l,k,Y)},N=(k,Y)=>{ye(n.errors,k,Y),T.state.next({errors:n.errors})},H=k=>{n.errors=k,T.state.next({errors:n.errors,isValid:!1})},ut=(k,Y,et,gt)=>{const dt=bt(i,k);if(dt){const ht=bt(l,k,qe(et)?bt(a,k):et);qe(ht)||gt&&gt.defaultChecked||Y?ye(l,k,Y?ht:GS(dt._f)):Lt(k,ht),u.mount&&x()}},tt=(k,Y,et,gt,dt)=>{let ht=!1,pt=!1;const wt={name:k};if(!t.disabled){if(!et||gt){(y.isDirty||_.isDirty)&&(pt=n.isDirty,n.isDirty=wt.isDirty=F(),ht=pt!==wt.isDirty);const Bt=ta(bt(a,k),Y);pt=!!bt(n.dirtyFields,k),Bt?Fe(n.dirtyFields,k):ye(n.dirtyFields,k,!0),wt.dirtyFields=n.dirtyFields,ht=ht||(y.dirtyFields||_.dirtyFields)&&pt!==!Bt}if(et){const Bt=bt(n.touchedFields,k);Bt||(ye(n.touchedFields,k,et),wt.touchedFields=n.touchedFields,ht=ht||(y.touchedFields||_.touchedFields)&&Bt!==et)}ht&&dt&&T.state.next(wt)}return ht?wt:{}},_t=(k,Y,et,gt)=>{const dt=bt(n.errors,k),ht=(y.isValid||_.isValid)&&ar(Y)&&n.isValid!==Y;if(t.delayError&&et?(m=D(()=>N(k,et)),m(t.delayError)):(clearTimeout(p),m=null,et?ye(n.errors,k,et):Fe(n.errors,k)),(et?!ta(dt,et):dt)||!On(gt)||ht){const pt={...gt,...ht&&ar(Y)?{isValid:Y}:{},errors:n.errors,name:k};n={...n,...pt},T.state.next(pt)}},M=async k=>{P(k,!0);const Y=await t.resolver(l,t.context,l5(k||h.mount,i,t.criteriaMode,t.shouldUseNativeValidation));return P(k),Y},R=async k=>{const{errors:Y}=await M(k);if(k)for(const et of k){const gt=bt(Y,et);gt?ye(n.errors,et,gt):Fe(n.errors,et)}else n.errors=Y;return Y},I=async(k,Y,et={valid:!0})=>{for(const gt in k){const dt=k[gt];if(dt){const{_f:ht,...pt}=dt;if(ht){const wt=h.array.has(ht.name),Bt=dt._f&&u5(dt._f);Bt&&y.validatingFields&&P([gt],!0);const re=await WS(dt,h.disabled,l,A,t.shouldUseNativeValidation&&!Y,wt);if(Bt&&y.validatingFields&&P([gt]),re[ht.name]&&(et.valid=!1,Y))break;!Y&&(bt(re,ht.name)?wt?p5(n.errors,re,ht.name):ye(n.errors,ht.name,re[ht.name]):Fe(n.errors,ht.name))}!On(pt)&&await I(pt,Y,et)}}return et.valid},L=()=>{for(const k of h.unMount){const Y=bt(i,k);Y&&(Y._f.refs?Y._f.refs.every(et=>!ey(et)):!ey(Y._f.ref))&&Ae(k)}h.unMount=new Set},F=(k,Y)=>!t.disabled&&(k&&Y&&ye(l,k,Y),!ta(O(),a)),j=(k,Y,et)=>i5(k,h,{...u.mount?l:qe(Y)?a:lr(k)?{[k]:Y}:Y},et,Y),C=k=>M_(bt(u.mount?l:a,k,t.shouldUnregister?bt(a,k,[]):[])),Lt=(k,Y,et={})=>{const gt=bt(i,k);let dt=Y;if(gt){const ht=gt._f;ht&&(!ht.disabled&&ye(l,k,YC(Y,ht)),dt=qd(ht.ref)&&In(Y)?"":Y,GC(ht.ref)?[...ht.ref.options].forEach(pt=>pt.selected=dt.includes(pt.value)):ht.refs?lh(ht.ref)?ht.refs.forEach(pt=>{(!pt.defaultChecked||!pt.disabled)&&(Array.isArray(dt)?pt.checked=!!dt.find(wt=>wt===pt.value):pt.checked=dt===pt.value||!!dt)}):ht.refs.forEach(pt=>pt.checked=pt.value===dt):k_(ht.ref)?ht.ref.value="":(ht.ref.value=dt,ht.ref.type||T.state.next({name:k,values:rn(l)})))}(et.shouldDirty||et.shouldTouch)&&tt(k,dt,et.shouldTouch,et.shouldDirty,!0),et.shouldValidate&&Mt(k)},Ut=(k,Y,et)=>{for(const gt in Y){if(!Y.hasOwnProperty(gt))return;const dt=Y[gt],ht=k+"."+gt,pt=bt(i,ht);(h.array.has(k)||Oe(dt)||pt&&!pt._f)&&!no(dt)?Ut(ht,dt,et):Lt(ht,dt,et)}},Z=(k,Y,et={})=>{const gt=bt(i,k),dt=h.array.has(k),ht=rn(Y);ye(l,k,ht),dt?(T.array.next({name:k,values:rn(l)}),(y.isDirty||y.dirtyFields||_.isDirty||_.dirtyFields)&&et.shouldDirty&&T.state.next({name:k,dirtyFields:nc(a,l),isDirty:F(k,ht)})):gt&&!gt._f&&!In(ht)?Ut(k,ht,et):Lt(k,ht,et),QS(k,h)&&T.state.next({...n,name:k}),T.state.next({name:u.mount?k:void 0,values:rn(l)})},lt=async k=>{u.mount=!0;const Y=k.target;let et=Y.name,gt=!0;const dt=bt(i,et),ht=Bt=>{gt=Number.isNaN(Bt)||no(Bt)&&isNaN(Bt.getTime())||ta(Bt,bt(l,et,Bt))},pt=$S(t.mode),wt=$S(t.reValidateMode);if(dt){let Bt,re;const br=Y.type?GS(dt._f):X9(k),ei=k.type===FS.BLUR||k.type===FS.FOCUS_OUT,wr=!c5(dt._f)&&!t.resolver&&!bt(n.errors,et)&&!dt._f.deps||d5(ei,bt(n.touchedFields,et),n.isSubmitted,wt,pt),Ti=QS(et,h,ei);ye(l,et,br),ei?(!Y||!Y.readOnly)&&(dt._f.onBlur&&dt._f.onBlur(k),m&&m(0)):dt._f.onChange&&dt._f.onChange(k);const Ei=tt(et,br,ei),Bn=!On(Ei)||Ti;if(!ei&&T.state.next({name:et,type:k.type,values:rn(l)}),wr)return(y.isValid||_.isValid)&&(t.mode==="onBlur"?ei&&x():ei||x()),Bn&&T.state.next({name:et,...Ti?{}:Ei});if(!ei&&Ti&&T.state.next({...n}),t.resolver){const{errors:Sr}=await M([et]);if(ht(br),gt){const Ar=YS(n.errors,i,et),gs=YS(Sr,i,Ar.name||et);Bt=gs.error,et=gs.name,re=On(Sr)}}else P([et],!0),Bt=(await WS(dt,h.disabled,l,A,t.shouldUseNativeValidation))[et],P([et]),ht(br),gt&&(Bt?re=!1:(y.isValid||_.isValid)&&(re=await I(i,!0)));gt&&(dt._f.deps&&Mt(dt._f.deps),_t(et,re,Bt,Ei))}},yt=(k,Y)=>{if(bt(n.errors,Y)&&k.focus)return k.focus(),1},Mt=async(k,Y={})=>{let et,gt;const dt=Tc(k);if(t.resolver){const ht=await R(qe(k)?k:dt);et=On(ht),gt=k?!dt.some(pt=>bt(ht,pt)):et}else k?(gt=(await Promise.all(dt.map(async ht=>{const pt=bt(i,ht);return await I(pt&&pt._f?{[ht]:pt}:pt)}))).every(Boolean),!(!gt&&!n.isValid)&&x()):gt=et=await I(i);return T.state.next({...!lr(k)||(y.isValid||_.isValid)&&et!==n.isValid?{}:{name:k},...t.resolver||!k?{isValid:et}:{},errors:n.errors}),Y.shouldFocus&&!gt&&Ec(i,yt,k?dt:h.mount),gt},O=k=>{const Y={...u.mount?l:a};return qe(k)?Y:lr(k)?bt(Y,k):k.map(et=>bt(Y,et))},ot=(k,Y)=>({invalid:!!bt((Y||n).errors,k),isDirty:!!bt((Y||n).dirtyFields,k),error:bt((Y||n).errors,k),isValidating:!!bt(n.validatingFields,k),isTouched:!!bt((Y||n).touchedFields,k)}),mt=k=>{k&&Tc(k).forEach(Y=>Fe(n.errors,Y)),T.state.next({errors:k?n.errors:{}})},ct=(k,Y,et)=>{const gt=(bt(i,k,{_f:{}})._f||{}).ref,dt=bt(n.errors,k)||{},{ref:ht,message:pt,type:wt,...Bt}=dt;ye(n.errors,k,{...Bt,...Y,ref:gt}),T.state.next({name:k,errors:n.errors,isValid:!1}),et&&et.shouldFocus&&gt&&gt.focus&&gt.focus()},At=(k,Y)=>Vi(k)?T.state.subscribe({next:et=>"values"in et&&k(j(void 0,Y),et)}):j(k,Y,!0),jt=k=>T.state.subscribe({next:Y=>{f5(k.name,Y.name,k.exact)&&h5(Y,k.formState||y,Pn,k.reRenderRoot)&&k.callback({values:{...l},...n,...Y,defaultValues:a})}}).unsubscribe,Pt=k=>(u.mount=!0,_={..._,...k.formState},jt({...k,formState:_})),Ae=(k,Y={})=>{for(const et of k?Tc(k):h.mount)h.mount.delete(et),h.array.delete(et),Y.keepValue||(Fe(i,et),Fe(l,et)),!Y.keepError&&Fe(n.errors,et),!Y.keepDirty&&Fe(n.dirtyFields,et),!Y.keepTouched&&Fe(n.touchedFields,et),!Y.keepIsValidating&&Fe(n.validatingFields,et),!t.shouldUnregister&&!Y.keepDefaultValue&&Fe(a,et);T.state.next({values:rn(l)}),T.state.next({...n,...Y.keepDirty?{isDirty:F()}:{}}),!Y.keepIsValid&&x()},ie=({disabled:k,name:Y})=>{(ar(k)&&u.mount||k||h.disabled.has(Y))&&(k?h.disabled.add(Y):h.disabled.delete(Y))},Dn=(k,Y={})=>{let et=bt(i,k);const gt=ar(Y.disabled)||ar(t.disabled);return ye(i,k,{...et||{},_f:{...et&&et._f?et._f:{ref:{name:k}},name:k,mount:!0,...Y}}),h.mount.add(k),et?ie({disabled:ar(Y.disabled)?Y.disabled:t.disabled,name:k}):ut(k,!0,Y.value),{...gt?{disabled:Y.disabled||t.disabled}:{},...t.progressive?{required:!!Y.required,min:ic(Y.min),max:ic(Y.max),minLength:ic(Y.minLength),maxLength:ic(Y.maxLength),pattern:ic(Y.pattern)}:{},name:k,onChange:lt,onBlur:lt,ref:dt=>{if(dt){Dn(k,Y),et=bt(i,k);const ht=qe(dt.value)&&dt.querySelectorAll&&dt.querySelectorAll("input,select,textarea")[0]||dt,pt=s5(ht),wt=et._f.refs||[];if(pt?wt.find(Bt=>Bt===ht):ht===et._f.ref)return;ye(i,k,{_f:{...et._f,...pt?{refs:[...wt.filter(ey),ht,...Array.isArray(bt(a,k))?[{}]:[]],ref:{type:ht.type,name:k}}:{ref:ht}}}),ut(k,!1,void 0,ht)}else et=bt(i,k,{}),et._f&&(et._f.mount=!1),(t.shouldUnregister||Y.shouldUnregister)&&!(Z9(h.array,k)&&u.action)&&h.unMount.add(k)}}},ti=()=>t.shouldFocusError&&Ec(i,yt,h.mount),_i=k=>{ar(k)&&(T.state.next({disabled:k}),Ec(i,(Y,et)=>{const gt=bt(i,et);gt&&(Y.disabled=gt._f.disabled||k,Array.isArray(gt._f.refs)&&gt._f.refs.forEach(dt=>{dt.disabled=gt._f.disabled||k}))},0,!1))},Bi=(k,Y)=>async et=>{let gt;et&&(et.preventDefault&&et.preventDefault(),et.persist&&et.persist());let dt=rn(l);if(T.state.next({isSubmitting:!0}),t.resolver){const{errors:ht,values:pt}=await M();n.errors=ht,dt=rn(pt)}else await I(i);if(h.disabled.size)for(const ht of h.disabled)Fe(dt,ht);if(Fe(n.errors,"root"),On(n.errors)){T.state.next({errors:{}});try{await k(dt,et)}catch(ht){gt=ht}}else Y&&await Y({...n.errors},et),ti(),setTimeout(ti);if(T.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:On(n.errors)&&!gt,submitCount:n.submitCount+1,errors:n.errors}),gt)throw gt},Er=(k,Y={})=>{bt(i,k)&&(qe(Y.defaultValue)?Z(k,rn(bt(a,k))):(Z(k,Y.defaultValue),ye(a,k,rn(Y.defaultValue))),Y.keepTouched||Fe(n.touchedFields,k),Y.keepDirty||(Fe(n.dirtyFields,k),n.isDirty=Y.defaultValue?F(k,rn(bt(a,k))):F()),Y.keepError||(Fe(n.errors,k),y.isValid&&x()),T.state.next({...n}))},zi=(k,Y={})=>{const et=k?rn(k):a,gt=rn(et),dt=On(k),ht=dt?a:gt;if(Y.keepDefaultValues||(a=et),!Y.keepValues){if(Y.keepDirtyValues){const pt=new Set([...h.mount,...Object.keys(nc(a,l))]);for(const wt of Array.from(pt))bt(n.dirtyFields,wt)?ye(ht,wt,bt(l,wt)):Z(wt,bt(ht,wt))}else{if(N_&&qe(k))for(const pt of h.mount){const wt=bt(i,pt);if(wt&&wt._f){const Bt=Array.isArray(wt._f.refs)?wt._f.refs[0]:wt._f.ref;if(qd(Bt)){const re=Bt.closest("form");if(re){re.reset();break}}}}if(Y.keepFieldsRef)for(const pt of h.mount)Z(pt,bt(ht,pt));else i={}}l=t.shouldUnregister?Y.keepDefaultValues?rn(a):{}:rn(ht),T.array.next({values:{...ht}}),T.state.next({values:{...ht}})}h={mount:Y.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!y.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,u.watch=!!t.shouldUnregister,T.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:dt?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!ta(k,a)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:dt?{}:Y.keepDirtyValues?Y.keepDefaultValues&&l?nc(a,l):n.dirtyFields:Y.keepDefaultValues&&k?nc(a,k):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},ms=(k,Y)=>zi(Vi(k)?k(l):k,Y),To=(k,Y={})=>{const et=bt(i,k),gt=et&&et._f;if(gt){const dt=gt.refs?gt.refs[0]:gt.ref;dt.focus&&(dt.focus(),Y.shouldSelect&&Vi(dt.select)&&dt.select())}},Pn=k=>{n={...n,...k}},ps={control:{register:Dn,unregister:Ae,getFieldState:ot,handleSubmit:Bi,setError:ct,_subscribe:jt,_runSchema:M,_focusError:ti,_getWatch:j,_getDirty:F,_setValid:x,_setFieldArray:U,_setDisabledField:ie,_setErrors:H,_getFieldArray:C,_reset:zi,_resetDefaultValues:()=>Vi(t.defaultValues)&&t.defaultValues().then(k=>{ms(k,t.resetOptions),T.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:_i,_subjects:T,_proxyFormState:y,get _fields(){return i},get _formValues(){return l},get _state(){return u},set _state(k){u=k},get _defaultValues(){return a},get _names(){return h},set _names(k){h=k},get _formState(){return n},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:Pt,trigger:Mt,register:Dn,handleSubmit:Bi,watch:At,setValue:Z,getValues:O,reset:ms,resetField:Er,clearErrors:mt,unregister:Ae,setError:ct,setFocus:To,getFieldState:ot};return{...ps,formControl:ps}}function WC(e={}){const t=fn.useRef(void 0),n=fn.useRef(void 0),[i,a]=fn.useState({isDirty:!1,isValidating:!1,isLoading:Vi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Vi(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:i},e.defaultValues&&!Vi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...h}=y5(e);t.current={...h,formState:i}}const l=t.current.control;return l._options=e,n5(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(h=>({...h,isReady:!0})),l._formState.isReady=!0,u},[l]),fn.useEffect(()=>l._disableForm(e.disabled),[l,e.disabled]),fn.useEffect(()=>{e.mode&&(l._options.mode=e.mode),e.reValidateMode&&(l._options.reValidateMode=e.reValidateMode)},[l,e.mode,e.reValidateMode]),fn.useEffect(()=>{e.errors&&(l._setErrors(e.errors),l._focusError())},[l,e.errors]),fn.useEffect(()=>{e.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,e.shouldUnregister]),fn.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==i.isDirty&&l._subjects.state.next({isDirty:u})}},[l,i.isDirty]),fn.useEffect(()=>{e.values&&!ta(e.values,n.current)?(l._reset(e.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=e.values,a(u=>({...u}))):l._resetDefaultValues()},[l,e.values]),fn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),t.current.formState=e5(i,l),t.current}const ZC=z.createContext({});function v5(e){const t=z.useRef(null);return t.current===null&&(t.current=e()),t.current}const U_=typeof window<"u",_5=U_?z.useLayoutEffect:z.useEffect,j_=z.createContext(null);function F_(e,t){e.indexOf(t)===-1&&e.push(t)}function B_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const hs=(e,t,n)=>n>t?t:n<e?e:n;let z_=()=>{};const fs={},JC=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function tx(e){return typeof e=="object"&&e!==null}const ex=e=>/^0[^.\s]+$/u.test(e);function q_(e){let t;return()=>(t===void 0&&(t=e()),t)}const yi=e=>e,T5=(e,t)=>n=>t(e(n)),uh=(...e)=>e.reduce(T5),Fc=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i};class H_{constructor(){this.subscriptions=[]}add(t){return F_(this.subscriptions,t),()=>B_(this.subscriptions,t)}notify(t,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gr=e=>e*1e3,yr=e=>e/1e3;function nx(e,t){return t?e*(1e3/t):0}const ix=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,E5=1e-7,b5=12;function w5(e,t,n,i,a){let l,u,h=0;do u=t+(n-t)/2,l=ix(u,i,a)-e,l>0?n=u:t=u;while(Math.abs(l)>E5&&++h<b5);return u}function ch(e,t,n,i){if(e===t&&n===i)return yi;const a=l=>w5(l,0,1,e,n);return l=>l===0||l===1?l:ix(a(l),t,i)}const rx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sx=e=>t=>1-e(1-t),ax=ch(.33,1.53,.69,.99),G_=sx(ax),ox=rx(G_),lx=e=>(e*=2)<1?.5*G_(e):.5*(2-Math.pow(2,-10*(e-1))),$_=e=>1-Math.sin(Math.acos(e)),ux=sx($_),cx=rx($_),S5=ch(.42,0,1,1),A5=ch(0,0,.58,1),hx=ch(.42,0,.58,1),R5=e=>Array.isArray(e)&&typeof e[0]!="number",fx=e=>Array.isArray(e)&&typeof e[0]=="number",I5={linear:yi,easeIn:S5,easeInOut:hx,easeOut:A5,circIn:$_,circInOut:cx,circOut:ux,backIn:G_,backInOut:ox,backOut:ax,anticipate:lx},C5=e=>typeof e=="string",ZS=e=>{if(fx(e)){z_(e.length===4);const[t,n,i,a]=e;return ch(t,n,i,a)}else if(C5(e))return I5[e];return e},Wf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function x5(e,t){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),e()),y(h)}const p={schedule:(y,_=!1,T=!1)=>{const D=T&&a?n:i;return _&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),n.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const D5=40;function dx(e,t){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Wf.reduce((H,ut)=>(H[ut]=x5(l),H),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:y,update:_,preRender:T,render:A,postRender:D}=u,x=()=>{const H=fs.useManualTiming?a.timestamp:performance.now();n=!1,fs.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(H-a.timestamp,D5),1)),a.timestamp=H,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),y.process(a),_.process(a),T.process(a),A.process(a),D.process(a),a.isProcessing=!1,n&&t&&(i=!1,e(x))},P=()=>{n=!0,i=!0,a.isProcessing||e(x)};return{schedule:Wf.reduce((H,ut)=>{const tt=u[ut];return H[ut]=(_t,M=!1,R=!1)=>(n||P(),tt.schedule(_t,M,R)),H},{}),cancel:H=>{for(let ut=0;ut<Wf.length;ut++)u[Wf[ut]].cancel(H)},state:a,steps:u}}const{schedule:ve,cancel:da,state:hn,steps:ny}=dx(typeof requestAnimationFrame<"u"?requestAnimationFrame:yi,!0);let pd;function P5(){pd=void 0}const Un={now:()=>(pd===void 0&&Un.set(hn.isProcessing||fs.useManualTiming?hn.timestamp:performance.now()),pd),set:e=>{pd=e,queueMicrotask(P5)}},mx=e=>t=>typeof t=="string"&&t.startsWith(e),K_=mx("--"),V5=mx("var(--"),Q_=e=>V5(e)?N5.test(e.split("/*")[0].trim()):!1,N5=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$l={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bc={...$l,transform:e=>hs(0,1,e)},Zf={...$l,default:1},bc=e=>Math.round(e*1e5)/1e5,Y_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function M5(e){return e==null}const O5=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,X_=(e,t)=>n=>!!(typeof n=="string"&&O5.test(n)&&n.startsWith(e)||t&&!M5(n)&&Object.prototype.hasOwnProperty.call(n,t)),px=(e,t,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(Y_);return{[e]:parseFloat(a),[t]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},k5=e=>hs(0,255,e),iy={...$l,transform:e=>Math.round(k5(e))},io={test:X_("rgb","red"),parse:px("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+iy.transform(e)+", "+iy.transform(t)+", "+iy.transform(n)+", "+bc(Bc.transform(i))+")"};function L5(e){let t="",n="",i="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const tv={test:X_("#"),parse:L5,transform:io.transform},hh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ks=hh("deg"),vr=hh("%"),Nt=hh("px"),U5=hh("vh"),j5=hh("vw"),JS={...vr,parse:e=>vr.parse(e)/100,transform:e=>vr.transform(e*100)},gl={test:X_("hsl","hue"),parse:px("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+vr.transform(bc(t))+", "+vr.transform(bc(n))+", "+bc(Bc.transform(i))+")"},ze={test:e=>io.test(e)||tv.test(e)||gl.test(e),parse:e=>io.test(e)?io.parse(e):gl.test(e)?gl.parse(e):tv.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?io.transform(e):gl.transform(e),getAnimatableNone:e=>{const t=ze.parse(e);return t.alpha=0,ze.transform(t)}},F5=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function B5(e){return isNaN(e)&&typeof e=="string"&&(e.match(Y_)?.length||0)+(e.match(F5)?.length||0)>0}const gx="number",yx="color",z5="var",q5="var(",tA="${}",H5=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zc(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(H5,m=>(ze.test(m)?(i.color.push(l),a.push(yx),n.push(ze.parse(m))):m.startsWith(q5)?(i.var.push(l),a.push(z5),n.push(m)):(i.number.push(l),a.push(gx),n.push(parseFloat(m))),++l,tA)).split(tA);return{values:n,split:h,indexes:i,types:a}}function vx(e){return zc(e).values}function _x(e){const{split:t,types:n}=zc(e),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const h=n[u];h===gx?l+=bc(a[u]):h===yx?l+=ze.transform(a[u]):l+=a[u]}return l}}const G5=e=>typeof e=="number"?0:ze.test(e)?ze.getAnimatableNone(e):e;function $5(e){const t=vx(e);return _x(e)(t.map(G5))}const ma={test:B5,parse:vx,createTransformer:_x,getAnimatableNone:$5};function ry(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function K5({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let a=0,l=0,u=0;if(!t)a=l=u=n;else{const h=n<.5?n*(1+t):n+t-n*t,m=2*n-h;a=ry(m,h,e+1/3),l=ry(m,h,e),u=ry(m,h,e-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function $d(e,t){return n=>n>0?t:e}const be=(e,t,n)=>e+(t-e)*n,sy=(e,t,n)=>{const i=e*e,a=n*(t*t-i)+i;return a<0?0:Math.sqrt(a)},Q5=[tv,io,gl],Y5=e=>Q5.find(t=>t.test(e));function eA(e){const t=Y5(e);if(!t)return!1;let n=t.parse(e);return t===gl&&(n=K5(n)),n}const nA=(e,t)=>{const n=eA(e),i=eA(t);if(!n||!i)return $d(e,t);const a={...n};return l=>(a.red=sy(n.red,i.red,l),a.green=sy(n.green,i.green,l),a.blue=sy(n.blue,i.blue,l),a.alpha=be(n.alpha,i.alpha,l),io.transform(a))},ev=new Set(["none","hidden"]);function X5(e,t){return ev.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function W5(e,t){return n=>be(e,t,n)}function W_(e){return typeof e=="number"?W5:typeof e=="string"?Q_(e)?$d:ze.test(e)?nA:tj:Array.isArray(e)?Tx:typeof e=="object"?ze.test(e)?nA:Z5:$d}function Tx(e,t){const n=[...e],i=n.length,a=e.map((l,u)=>W_(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function Z5(e,t){const n={...e,...t},i={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(i[a]=W_(e[a])(e[a],t[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function J5(e,t){const n=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=e.indexes[l][i[l]],h=e.values[u]??0;n[a]=h,i[l]++}return n}const tj=(e,t)=>{const n=ma.createTransformer(t),i=zc(e),a=zc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?ev.has(e)&&!a.values.length||ev.has(t)&&!i.values.length?X5(e,t):uh(Tx(J5(i,a),a.values),n):$d(e,t)};function Ex(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?be(e,t,n):W_(e)(e,t)}const ej=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>ve.update(t,n),stop:()=>da(t),now:()=>hn.isProcessing?hn.timestamp:Un.now()}},bx=(e,t,n=10)=>{let i="";const a=Math.max(Math.round(t/n),2);for(let l=0;l<a;l++)i+=Math.round(e(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Kd=2e4;function Z_(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Kd;)t+=n,i=e.next(t);return t>=Kd?1/0:t}function nj(e,t=100,n){const i=n({...e,keyframes:[0,t]}),a=Math.min(Z_(i),Kd);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:yr(a)}}const ij=5;function wx(e,t,n){const i=Math.max(t-ij,0);return nx(n-e(i),t-i)}const Ce={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ay=.001;function rj({duration:e=Ce.duration,bounce:t=Ce.bounce,velocity:n=Ce.velocity,mass:i=Ce.mass}){let a,l,u=1-t;u=hs(Ce.minDamping,Ce.maxDamping,u),e=hs(Ce.minDuration,Ce.maxDuration,yr(e)),u<1?(a=p=>{const y=p*u,_=y*e,T=y-n,A=nv(p,u),D=Math.exp(-_);return ay-T/A*D},l=p=>{const _=p*u*e,T=_*n+n,A=Math.pow(u,2)*Math.pow(p,2)*e,D=Math.exp(-_),x=nv(Math.pow(p,2),u);return(-a(p)+ay>0?-1:1)*((T-A)*D)/x}):(a=p=>{const y=Math.exp(-p*e),_=(p-n)*e+1;return-ay+y*_},l=p=>{const y=Math.exp(-p*e),_=(n-p)*(e*e);return y*_});const h=5/e,m=aj(a,l,h);if(e=gr(e),isNaN(m))return{stiffness:Ce.stiffness,damping:Ce.damping,duration:e};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:e}}}const sj=12;function aj(e,t,n){let i=n;for(let a=1;a<sj;a++)i=i-e(i)/t(i);return i}function nv(e,t){return e*Math.sqrt(1-t*t)}const oj=["duration","bounce"],lj=["stiffness","damping","mass"];function iA(e,t){return t.some(n=>e[n]!==void 0)}function uj(e){let t={velocity:Ce.velocity,stiffness:Ce.stiffness,damping:Ce.damping,mass:Ce.mass,isResolvedFromDuration:!1,...e};if(!iA(e,lj)&&iA(e,oj))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*hs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ce.mass,stiffness:a,damping:l}}else{const n=rj(e);t={...t,...n,mass:Ce.mass},t.isResolvedFromDuration=!0}return t}function Qd(e=Ce.visualDuration,t=Ce.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:_,velocity:T,isResolvedFromDuration:A}=uj({...n,velocity:-yr(n.velocity||0)}),D=T||0,x=p/(2*Math.sqrt(m*y)),P=u-l,U=yr(Math.sqrt(m/y)),N=Math.abs(P)<5;i||(i=N?Ce.restSpeed.granular:Ce.restSpeed.default),a||(a=N?Ce.restDelta.granular:Ce.restDelta.default);let H;if(x<1){const tt=nv(U,x);H=_t=>{const M=Math.exp(-x*U*_t);return u-M*((D+x*U*P)/tt*Math.sin(tt*_t)+P*Math.cos(tt*_t))}}else if(x===1)H=tt=>u-Math.exp(-U*tt)*(P+(D+U*P)*tt);else{const tt=U*Math.sqrt(x*x-1);H=_t=>{const M=Math.exp(-x*U*_t),R=Math.min(tt*_t,300);return u-M*((D+x*U*P)*Math.sinh(R)+tt*P*Math.cosh(R))/tt}}const ut={calculatedDuration:A&&_||null,next:tt=>{const _t=H(tt);if(A)h.done=tt>=_;else{let M=tt===0?D:0;x<1&&(M=tt===0?gr(D):wx(H,tt,_t));const R=Math.abs(M)<=i,I=Math.abs(u-_t)<=a;h.done=R&&I}return h.value=h.done?u:_t,h},toString:()=>{const tt=Math.min(Z_(ut),Kd),_t=bx(M=>ut.next(tt*M).value,tt,30);return tt+"ms "+_t},toTransition:()=>{}};return ut}Qd.applyToOptions=e=>{const t=nj(e,100,Qd);return e.ease=t.ease,e.duration=gr(t.duration),e.type="keyframes",e};function iv({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:y}){const _=e[0],T={done:!1,value:_},A=R=>h!==void 0&&R<h||m!==void 0&&R>m,D=R=>h===void 0?m:m===void 0||Math.abs(h-R)<Math.abs(m-R)?h:m;let x=n*t;const P=_+x,U=u===void 0?P:u(P);U!==P&&(x=U-_);const N=R=>-x*Math.exp(-R/i),H=R=>U+N(R),ut=R=>{const I=N(R),L=H(R);T.done=Math.abs(I)<=p,T.value=T.done?U:L};let tt,_t;const M=R=>{A(T.value)&&(tt=R,_t=Qd({keyframes:[T.value,D(T.value)],velocity:wx(H,R,T.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return M(0),{calculatedDuration:null,next:R=>{let I=!1;return!_t&&tt===void 0&&(I=!0,ut(R),M(R)),tt!==void 0&&R>=tt?_t.next(R-tt):(!I&&ut(R),T)}}}function cj(e,t,n){const i=[],a=n||fs.mix||Ex,l=e.length-1;for(let u=0;u<l;u++){let h=a(e[u],e[u+1]);if(t){const m=Array.isArray(t)?t[u]||yi:t;h=uh(m,h)}i.push(h)}return i}function hj(e,t,{clamp:n=!0,ease:i,mixer:a}={}){const l=e.length;if(z_(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=cj(t,i,a),m=h.length,p=y=>{if(u&&y<e[0])return t[0];let _=0;if(m>1)for(;_<e.length-2&&!(y<e[_+1]);_++);const T=Fc(e[_],e[_+1],y);return h[_](T)};return n?y=>p(hs(e[0],e[l-1],y)):p}function fj(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const a=Fc(0,t,i);e.push(be(n,1,a))}}function dj(e){const t=[0];return fj(t,e.length-1),t}function mj(e,t){return e.map(n=>n*t)}function pj(e,t){return e.map(()=>t||hx).splice(0,e.length-1)}function wc({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const a=R5(i)?i.map(ZS):ZS(i),l={done:!1,value:t[0]},u=mj(n&&n.length===t.length?n:dj(t),e),h=hj(u,t,{ease:Array.isArray(a)?a:pj(t,a)});return{calculatedDuration:e,next:m=>(l.value=h(m),l.done=m>=e,l)}}const gj=e=>e!==null;function J_(e,{repeat:t,repeatType:n="loop"},i,a=1){const l=e.filter(gj),h=a<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const yj={decay:iv,inertia:iv,tween:wc,keyframes:wc,spring:Qd};function Sx(e){typeof e.type=="string"&&(e.type=yj[e.type])}class t0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const vj=e=>e/100;class e0 extends t0{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Un.now()&&this.tick(Un.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Sx(t);const{type:n=wc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const m=n||wc;m!==wc&&typeof h[0]!="number"&&(this.mixKeyframes=uh(vj,Ex(h[0],h[1])),h=[0,100]);const p=m({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Z_(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:A,type:D,onUpdate:x,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const U=this.currentTime-p*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?U<0:U>a;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let H=this.currentTime,ut=i;if(_){const R=Math.min(this.currentTime,a)/h;let I=Math.floor(R),L=R%1;!L&&R>=1&&(L=1),L===1&&I--,I=Math.min(I,_+1),!!(I%2)&&(T==="reverse"?(L=1-L,A&&(L-=A/h)):T==="mirror"&&(ut=u)),H=hs(0,1,L)*h}const tt=N?{done:!1,value:y[0]}:ut.next(H);l&&(tt.value=l(tt.value));let{done:_t}=tt;!N&&m!==null&&(_t=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_t);return M&&D!==iv&&(tt.value=J_(y,this.options,P,this.speed)),x&&x(tt.value),M&&this.finish(),tt}then(t,n){return this.finished.then(t,n)}get duration(){return yr(this.calculatedDuration)}get time(){return yr(this.currentTime)}set time(t){t=gr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Un.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=yr(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=ej,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Un.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function _j(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ro=e=>e*180/Math.PI,rv=e=>{const t=ro(Math.atan2(e[1],e[0]));return sv(t)},Tj={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:rv,rotateZ:rv,skewX:e=>ro(Math.atan(e[1])),skewY:e=>ro(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},sv=e=>(e=e%360,e<0&&(e+=360),e),rA=rv,sA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),aA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Ej={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:sA,scaleY:aA,scale:e=>(sA(e)+aA(e))/2,rotateX:e=>sv(ro(Math.atan2(e[6],e[5]))),rotateY:e=>sv(ro(Math.atan2(-e[2],e[0]))),rotateZ:rA,rotate:rA,skewX:e=>ro(Math.atan(e[4])),skewY:e=>ro(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function av(e){return e.includes("scale")?1:0}function ov(e,t){if(!e||e==="none")return av(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=Ej,a=n;else{const h=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Tj,a=h}if(!a)return av(t);const l=i[t],u=a[1].split(",").map(wj);return typeof l=="function"?l(u):u[l]}const bj=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ov(n,t)};function wj(e){return parseFloat(e.trim())}const Kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ql=new Set(Kl),oA=e=>e===$l||e===Nt,Sj=new Set(["x","y","z"]),Aj=Kl.filter(e=>!Sj.has(e));function Rj(e){const t=[];return Aj.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const ao={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ov(t,"x"),y:(e,{transform:t})=>ov(t,"y")};ao.translateX=ao.x;ao.translateY=ao.y;const oo=new Set;let lv=!1,uv=!1,cv=!1;function Ax(){if(uv){const e=Array.from(oo).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const a=Rj(i);a.length&&(n.set(i,a),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}uv=!1,lv=!1,oo.forEach(e=>e.complete(cv)),oo.clear()}function Rx(){oo.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(uv=!0)})}function Ij(){cv=!0,Rx(),Ax(),cv=!1}class n0{constructor(t,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(oo.add(this),lv||(lv=!0,ve.read(Rx),ve.resolveKeyframes(Ax))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}_j(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),oo.delete(this)}cancel(){this.state==="scheduled"&&(oo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Cj=e=>e.startsWith("--");function xj(e,t,n){Cj(t)?e.style.setProperty(t,n):e.style[t]=n}const Dj=q_(()=>window.ScrollTimeline!==void 0),Pj={};function Vj(e,t){const n=q_(e);return()=>Pj[t]??n()}const Ix=Vj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fc=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,lA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fc([0,.65,.55,1]),circOut:fc([.55,0,1,.45]),backIn:fc([.31,.01,.66,-.59]),backOut:fc([.33,1.53,.69,.99])};function Cx(e,t){if(e)return typeof e=="function"?Ix()?bx(e,t):"ease-out":fx(e)?fc(e):Array.isArray(e)?e.map(n=>Cx(n,t)||lA.easeOut):lA[e]}function Nj(e,t,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const y={[t]:n};m&&(y.offset=m);const _=Cx(h,a);Array.isArray(_)&&(y.easing=_);const T={delay:i,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(T.pseudoElement=p),e.animate(y,T)}function xx(e){return typeof e=="function"&&"applyToOptions"in e}function Mj({type:e,...t}){return xx(e)&&Ix()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Oj extends t0{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,z_(typeof t.type!="string");const p=Mj(t);this.animation=Nj(n,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=J_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):xj(n,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return yr(Number(t))}get time(){return yr(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=gr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&Dj()?(this.animation.timeline=t,yi):n(this)}}const Dx={anticipate:lx,backInOut:ox,circInOut:cx};function kj(e){return e in Dx}function Lj(e){typeof e.ease=="string"&&kj(e.ease)&&(e.ease=Dx[e.ease])}const uA=10;class Uj extends Oj{constructor(t){Lj(t),Sx(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const h=new e0({...u,autoplay:!1}),m=gr(this.finishedTime??this.time);n.setWithVelocity(h.sample(m-uA).value,h.sample(m).value,uA),h.stop()}}const cA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ma.test(e)||e==="0")&&!e.startsWith("url("));function jj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Fj(e,t,n,i){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=cA(a,t),h=cA(l,t);return!u||!h?!1:jj(e)||(n==="spring"||xx(n))&&i}function hv(e){e.duration=0,e.type}const Bj=new Set(["opacity","clipPath","filter","transform"]),zj=q_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qj(e){const{motionValue:t,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return zj()&&n&&Bj.has(n)&&(n!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Hj=40;class Gj extends t0{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:y,..._}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Un.now();const T={autoplay:t,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,..._},A=y?.KeyframeResolver||n0;this.keyframeResolver=new A(h,(D,x,P)=>this.onKeyframesResolved(D,x,T,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Un.now(),Fj(t,l,u,h)||((fs.instantAnimations||!m)&&y?.(J_(t,i,n)),t[0]=t[t.length-1],hv(i),i.repeat=0);const T={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Hj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:t},A=!p&&qj(T)?new Uj({...T,element:T.motionValue.owner.current}):new e0(T);A.finished.then(()=>this.notifyFinished()).catch(yi),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ij()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const $j=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Kj(e){const t=$j.exec(e);if(!t)return[,];const[,n,i,a]=t;return[`--${n??i}`,a]}function Px(e,t,n=1){const[i,a]=Kj(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return JC(u)?parseFloat(u):u}return Q_(a)?Px(a,t,n+1):a}function i0(e,t){return e?.[t]??e?.default??e}const Vx=new Set(["width","height","top","left","right","bottom",...Kl]),Qj={test:e=>e==="auto",parse:e=>e},Nx=e=>t=>t.test(e),Mx=[$l,Nt,vr,Ks,j5,U5,Qj],hA=e=>Mx.find(Nx(e));function Yj(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ex(e):!0}const Xj=new Set(["brightness","contrast","saturate","opacity"]);function Wj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(Y_)||[];if(!i)return e;const a=n.replace(i,"");let l=Xj.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+a+")"}const Zj=/\b([a-z-]*)\(.*?\)/gu,fv={...ma,getAnimatableNone:e=>{const t=e.match(Zj);return t?t.map(Wj).join(" "):e}},fA={...$l,transform:Math.round},Jj={rotate:Ks,rotateX:Ks,rotateY:Ks,rotateZ:Ks,scale:Zf,scaleX:Zf,scaleY:Zf,scaleZ:Zf,skew:Ks,skewX:Ks,skewY:Ks,distance:Nt,translateX:Nt,translateY:Nt,translateZ:Nt,x:Nt,y:Nt,z:Nt,perspective:Nt,transformPerspective:Nt,opacity:Bc,originX:JS,originY:JS,originZ:Nt},r0={borderWidth:Nt,borderTopWidth:Nt,borderRightWidth:Nt,borderBottomWidth:Nt,borderLeftWidth:Nt,borderRadius:Nt,radius:Nt,borderTopLeftRadius:Nt,borderTopRightRadius:Nt,borderBottomRightRadius:Nt,borderBottomLeftRadius:Nt,width:Nt,maxWidth:Nt,height:Nt,maxHeight:Nt,top:Nt,right:Nt,bottom:Nt,left:Nt,padding:Nt,paddingTop:Nt,paddingRight:Nt,paddingBottom:Nt,paddingLeft:Nt,margin:Nt,marginTop:Nt,marginRight:Nt,marginBottom:Nt,marginLeft:Nt,backgroundPositionX:Nt,backgroundPositionY:Nt,...Jj,zIndex:fA,fillOpacity:Bc,strokeOpacity:Bc,numOctaves:fA},tF={...r0,color:ze,backgroundColor:ze,outlineColor:ze,fill:ze,stroke:ze,borderColor:ze,borderTopColor:ze,borderRightColor:ze,borderBottomColor:ze,borderLeftColor:ze,filter:fv,WebkitFilter:fv},Ox=e=>tF[e];function kx(e,t){let n=Ox(e);return n!==fv&&(n=ma),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eF=new Set(["auto","none","0"]);function nF(e,t,n){let i=0,a;for(;i<e.length&&!a;){const l=e[i];typeof l=="string"&&!eF.has(l)&&zc(l).values.length&&(a=e[i]),i++}if(a&&n)for(const l of t)e[l]=kx(n,a)}class iF extends n0{constructor(t,n,i,a,l){super(t,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let p=t[m];if(typeof p=="string"&&(p=p.trim(),Q_(p))){const y=Px(p,n.current);y!==void 0&&(t[m]=y),m===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Vx.has(i)||t.length!==2)return;const[a,l]=t,u=hA(a),h=hA(l);if(u!==h)if(oA(u)&&oA(h))for(let m=0;m<t.length;m++){const p=t[m];typeof p=="string"&&(t[m]=parseFloat(p))}else ao[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||Yj(t[a]))&&i.push(a);i.length&&nF(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ao[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=ao[n](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function rF(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let i=document;const a=n?.[e]??i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Lx=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function sF(e){return tx(e)&&"offsetHeight"in e}const dA=30,aF=e=>!isNaN(parseFloat(e));class oF{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Un.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Un.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aF(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new H_);const i=this.events[t].add(n);return t==="change"?()=>{i(),ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Un.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>dA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,dA);return nx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ml(e,t){return new oF(e,t)}const{schedule:s0}=dx(queueMicrotask,!1),Ci={x:!1,y:!1};function Ux(){return Ci.x||Ci.y}function lF(e){return e==="x"||e==="y"?Ci[e]?null:(Ci[e]=!0,()=>{Ci[e]=!1}):Ci.x||Ci.y?null:(Ci.x=Ci.y=!0,()=>{Ci.x=Ci.y=!1})}function jx(e,t){const n=rF(e),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[n,a,()=>i.abort()]}function mA(e){return!(e.pointerType==="touch"||Ux())}function uF(e,t,n={}){const[i,a,l]=jx(e,n),u=h=>{if(!mA(h))return;const{target:m}=h,p=t(m,h);if(typeof p!="function"||!m)return;const y=_=>{mA(_)&&(p(_),m.removeEventListener("pointerleave",y))};m.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const Fx=(e,t)=>t?e===t?!0:Fx(e,t.parentElement):!1,a0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hF(e){return cF.has(e.tagName)||e.tabIndex!==-1}const gd=new WeakSet;function pA(e){return t=>{t.key==="Enter"&&e(t)}}function oy(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const fF=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=pA(()=>{if(gd.has(n))return;oy(n,"down");const a=pA(()=>{oy(n,"up")}),l=()=>oy(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function gA(e){return a0(e)&&!Ux()}function dF(e,t,n={}){const[i,a,l]=jx(e,n),u=h=>{const m=h.currentTarget;if(!gA(h))return;gd.add(m);const p=t(m,h),y=(A,D)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),gd.has(m)&&gd.delete(m),gA(A)&&typeof p=="function"&&p(A,{success:D})},_=A=>{y(A,m===window||m===document||n.useGlobalTarget||Fx(m,A.target))},T=A=>{y(A,!1)};window.addEventListener("pointerup",_,a),window.addEventListener("pointercancel",T,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),sF(h)&&(h.addEventListener("focus",p=>fF(p,a)),!hF(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Bx(e){return tx(e)&&"ownerSVGElement"in e}function mF(e){return Bx(e)&&e.tagName==="svg"}const En=e=>!!(e&&e.getVelocity),pF=[...Mx,ze,ma],gF=e=>pF.find(Nx(e)),zx=z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function yF(e=!0){const t=z.useContext(j_);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=t,l=z.useId();z.useEffect(()=>{if(e)return a(l)},[e]);const u=z.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,u]:[!0]}const qx=z.createContext({strict:!1}),yA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ol={};for(const e in yA)Ol[e]={isEnabled:t=>yA[e].some(n=>!!t[n])};function vF(e){for(const t in e)Ol[t]={...Ol[t],...e[t]}}const _F=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Yd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_F.has(e)}let Hx=e=>!Yd(e);function TF(e){typeof e=="function"&&(Hx=t=>t.startsWith("on")?!Yd(t):e(t))}try{TF(require("@emotion/is-prop-valid").default)}catch{}function EF(e,t,n){const i={};for(const a in e)a==="values"&&typeof e.values=="object"||(Hx(a)||n===!0&&Yd(a)||!t&&!Yd(a)||e.draggable&&a.startsWith("onDrag"))&&(i[a]=e[a]);return i}const Pm=z.createContext({});function Vm(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function qc(e){return typeof e=="string"||Array.isArray(e)}const o0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],l0=["initial",...o0];function Nm(e){return Vm(e.animate)||l0.some(t=>qc(e[t]))}function Gx(e){return!!(Nm(e)||e.variants)}function bF(e,t){if(Nm(e)){const{initial:n,animate:i}=e;return{initial:n===!1||qc(n)?n:void 0,animate:qc(i)?i:void 0}}return e.inherit!==!1?t:{}}function wF(e){const{initial:t,animate:n}=bF(e,z.useContext(Pm));return z.useMemo(()=>({initial:t,animate:n}),[vA(t),vA(n)])}function vA(e){return Array.isArray(e)?e.join(" "):e}const Hc={};function SF(e){for(const t in e)Hc[t]=e[t],K_(t)&&(Hc[t].isCSSVariable=!0)}function $x(e,{layout:t,layoutId:n}){return Ql.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Hc[e]||e==="opacity")}const AF={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},RF=Kl.length;function IF(e,t,n){let i="",a=!0;for(let l=0;l<RF;l++){const u=Kl[l],h=e[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||n){const p=Lx(h,r0[u]);if(!m){a=!1;const y=AF[u]||u;i+=`${y}(${p}) `}n&&(t[u]=p)}}return i=i.trim(),n?i=n(t,a?"":i):a&&(i="none"),i}function u0(e,t,n){const{style:i,vars:a,transformOrigin:l}=e;let u=!1,h=!1;for(const m in t){const p=t[m];if(Ql.has(m)){u=!0;continue}else if(K_(m)){a[m]=p;continue}else{const y=Lx(p,r0[m]);m.startsWith("origin")?(h=!0,l[m]=y):i[m]=y}}if(t.transform||(u||n?i.transform=IF(t,e.transform,n):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}const c0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kx(e,t,n){for(const i in t)!En(t[i])&&!$x(i,n)&&(e[i]=t[i])}function CF({transformTemplate:e},t){return z.useMemo(()=>{const n=c0();return u0(n,t,e),Object.assign({},n.vars,n.style)},[t])}function xF(e,t){const n=e.style||{},i={};return Kx(i,n,e),Object.assign(i,CF(e,t)),i}function DF(e,t){const n={},i=xF(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const PF={offset:"stroke-dashoffset",array:"stroke-dasharray"},VF={offset:"strokeDashoffset",array:"strokeDasharray"};function NF(e,t,n=1,i=0,a=!0){e.pathLength=1;const l=a?PF:VF;e[l.offset]=Nt.transform(-i);const u=Nt.transform(t),h=Nt.transform(n);e[l.array]=`${u} ${h}`}function Qx(e,{attrX:t,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,p,y){if(u0(e,h,p),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:_,style:T}=e;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=y?.transformBox??"fill-box",delete _.transformBox),t!==void 0&&(_.x=t),n!==void 0&&(_.y=n),i!==void 0&&(_.scale=i),a!==void 0&&NF(_,a,l,u,!1)}const Yx=()=>({...c0(),attrs:{}}),Xx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function MF(e,t,n,i){const a=z.useMemo(()=>{const l=Yx();return Qx(l,t,Xx(i),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};Kx(l,e.style,e),a.style={...l,...a.style}}return a}const OF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function h0(e){return typeof e!="string"||e.includes("-")?!1:!!(OF.indexOf(e)>-1||/[A-Z]/u.test(e))}function kF(e,t,n,{latestValues:i},a,l=!1){const h=(h0(e)?MF:DF)(t,i,a,e),m=EF(t,typeof e=="string",l),p=e!==z.Fragment?{...m,...h,ref:n}:{},{children:y}=t,_=z.useMemo(()=>En(y)?y.get():y,[y]);return z.createElement(e,{...p,children:_})}function _A(e){const t=[{},{}];return e?.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function f0(e,t,n,i){if(typeof t=="function"){const[a,l]=_A(i);t=t(n!==void 0?n:e.custom,a,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,l]=_A(i);t=t(n!==void 0?n:e.custom,a,l)}return t}function yd(e){return En(e)?e.get():e}function LF({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,a){return{latestValues:UF(n,i,a,e),renderState:t()}}function UF(e,t,n,i){const a={},l=i(e,{});for(const T in l)a[T]=yd(l[T]);let{initial:u,animate:h}=e;const m=Nm(e),p=Gx(e);t&&p&&!m&&e.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!Vm(_)){const T=Array.isArray(_)?_:[_];for(let A=0;A<T.length;A++){const D=f0(e,T[A]);if(D){const{transitionEnd:x,transition:P,...U}=D;for(const N in U){let H=U[N];if(Array.isArray(H)){const ut=y?H.length-1:0;H=H[ut]}H!==null&&(a[N]=H)}for(const N in x)a[N]=x[N]}}}return a}const Wx=e=>(t,n)=>{const i=z.useContext(Pm),a=z.useContext(j_),l=()=>LF(e,t,i,a);return n?l():v5(l)};function d0(e,t,n){const{style:i}=e,a={};for(const l in i)(En(i[l])||t.style&&En(t.style[l])||$x(l,e)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=i[l]);return a}const jF=Wx({scrapeMotionValuesFromProps:d0,createRenderState:c0});function Zx(e,t,n){const i=d0(e,t,n);for(const a in e)if(En(e[a])||En(t[a])){const l=Kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=e[a]}return i}const FF=Wx({scrapeMotionValuesFromProps:Zx,createRenderState:Yx}),BF=Symbol.for("motionComponentSymbol");function yl(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function zF(e,t,n){return z.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):yl(n)&&(n.current=i))},[t])}const m0=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),qF="framerAppearId",Jx="data-"+m0(qF),tD=z.createContext({});function HF(e,t,n,i,a){const{visualElement:l}=z.useContext(Pm),u=z.useContext(qx),h=z.useContext(j_),m=z.useContext(zx).reducedMotion,p=z.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const y=p.current,_=z.useContext(tD);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&GF(p.current,n,a,_);const T=z.useRef(!1);z.useInsertionEffect(()=>{y&&T.current&&y.update(n,h)});const A=n[Jx],D=z.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return _5(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),D.current&&y.animationState&&y.animationState.animateChanges())}),z.useEffect(()=>{y&&(!D.current&&y.animationState&&y.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),D.current=!1),y.enteringChildren=void 0)}),y}function GF(e,t,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:eD(e.parent)),e.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&yl(h),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function eD(e){if(e)return e.options.allowProjection!==!1?e.projection:eD(e.parent)}function ly(e,{forwardMotionProps:t=!1}={},n,i){n&&vF(n);const a=h0(e)?FF:jF;function l(h,m){let p;const y={...z.useContext(zx),...h,layoutId:$F(h)},{isStatic:_}=y,T=wF(h),A=a(h,_);if(!_&&U_){KF();const D=QF(y);p=D.MeasureLayout,T.visualElement=HF(e,A,y,i,D.ProjectionNode)}return q.jsxs(Pm.Provider,{value:T,children:[p&&T.visualElement?q.jsx(p,{visualElement:T.visualElement,...y}):null,kF(e,h,zF(A,T.visualElement,m),A,_,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=z.forwardRef(l);return u[BF]=e,u}function $F({layoutId:e}){const t=z.useContext(ZC).id;return t&&e!==void 0?t+"-"+e:e}function KF(e,t){z.useContext(qx).strict}function QF(e){const{drag:t,layout:n}=Ol;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function YF(e,t){if(typeof Proxy>"u")return ly;const n=new Map,i=(l,u)=>ly(l,u,e,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(n.has(u)||n.set(u,ly(u,void 0,e,t)),n.get(u))})}function nD({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function XF({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function WF(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function uy(e){return e===void 0||e===1}function dv({scale:e,scaleX:t,scaleY:n}){return!uy(e)||!uy(t)||!uy(n)}function Ja(e){return dv(e)||iD(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function iD(e){return TA(e.x)||TA(e.y)}function TA(e){return e&&e!=="0%"}function Xd(e,t,n){const i=e-n,a=t*i;return n+a}function EA(e,t,n,i,a){return a!==void 0&&(e=Xd(e,a,i)),Xd(e,n,i)+t}function mv(e,t=0,n=1,i,a){e.min=EA(e.min,t,n,i,a),e.max=EA(e.max,t,n,i,a)}function rD(e,{x:t,y:n}){mv(e.x,t.translate,t.scale,t.originPoint),mv(e.y,n.translate,n.scale,n.originPoint)}const bA=.999999999999,wA=1.0000000000001;function ZF(e,t,n,i=!1){const a=n.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&_l(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,rD(e,u)),i&&Ja(l.latestValues)&&_l(e,l.latestValues))}t.x<wA&&t.x>bA&&(t.x=1),t.y<wA&&t.y>bA&&(t.y=1)}function vl(e,t){e.min=e.min+t,e.max=e.max+t}function SA(e,t,n,i,a=.5){const l=be(e.min,e.max,a);mv(e,t,n,l,i)}function _l(e,t){SA(e.x,t.x,t.scaleX,t.scale,t.originX),SA(e.y,t.y,t.scaleY,t.scale,t.originY)}function sD(e,t){return nD(WF(e.getBoundingClientRect(),t))}function JF(e,t,n){const i=sD(e,n),{scroll:a}=t;return a&&(vl(i.x,a.offset.x),vl(i.y,a.offset.y)),i}const AA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tl=()=>({x:AA(),y:AA()}),RA=()=>({min:0,max:0}),Ve=()=>({x:RA(),y:RA()}),pv={current:null},aD={current:!1};function tB(){if(aD.current=!0,!!U_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pv.current=e.matches;e.addEventListener("change",t),t()}else pv.current=!1}const eB=new WeakMap;function nB(e,t,n){for(const i in t){const a=t[i],l=n[i];if(En(a))e.addValue(i,a);else if(En(l))e.addValue(i,Ml(a,{owner:e}));else if(l!==a)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=e.getStaticValue(i);e.addValue(i,Ml(u!==void 0?u:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const IA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iB{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=n0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=Un.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,ve.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=p,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=Nm(n),this.isVariantNode=Gx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(n,{},this);for(const T in _){const A=_[T];m[T]!==void 0&&En(A)&&A.set(m[T])}}mount(t){this.current=t,eB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),aD.current||tB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),da(this.notifyUpdate),da(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Ql.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ol){const n=Ol[t];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<IA.length;i++){const a=IA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=nB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=Ml(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(JC(i)||ex(i))?i=parseFloat(i):!gF(i)&&ma.test(n)&&(i=kx(t,n)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const l=f0(this.props,n,this.presenceContext?.custom);l&&(i=l[t])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!En(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new H_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){s0.render(this.render)}}class oD extends iB{constructor(){super(...arguments),this.KeyframeResolver=iF}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function lD(e,{style:t,vars:n},i,a){const l=e.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in n)l.setProperty(u,n[u])}function rB(e){return window.getComputedStyle(e)}class sB extends oD{constructor(){super(...arguments),this.type="html",this.renderInstance=lD}readValueFromInstance(t,n){if(Ql.has(n))return this.projection?.isProjecting?av(n):bj(t,n);{const i=rB(t),a=(K_(n)?i.getPropertyValue(n):i[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return sD(t,n)}build(t,n,i){u0(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return d0(t,n,i)}}const uD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aB(e,t,n,i){lD(e,t,void 0,i);for(const a in t.attrs)e.setAttribute(uD.has(a)?a:m0(a),t.attrs[a])}class oB extends oD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ve}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ql.has(n)){const i=Ox(n);return i&&i.default||0}return n=uD.has(n)?n:m0(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return Zx(t,n,i)}build(t,n,i){Qx(t,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,n,i,a){aB(t,n,i,a)}mount(t){this.isSVGTag=Xx(t.tagName),super.mount(t)}}const lB=(e,t)=>h0(e)?new oB(t):new sB(t,{allowProjection:e!==z.Fragment});function Rl(e,t,n){const i=e.getProps();return f0(i,t,n!==void 0?n:i.custom,e)}const gv=e=>Array.isArray(e);function uB(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ml(n))}function cB(e){return gv(e)?e[e.length-1]||0:e}function hB(e,t){const n=Rl(e,t);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=cB(l[u]);uB(e,u,h)}}function fB(e){return!!(En(e)&&e.add)}function yv(e,t){const n=e.getValue("willChange");if(fB(n))return n.add(t);if(!n&&fs.WillChange){const i=new fs.WillChange("auto");e.addValue("willChange",i),i.add(t)}}function cD(e){return e.props[Jx]}const dB=e=>e!==null;function mB(e,{repeat:t,repeatType:n="loop"},i){const a=e.filter(dB),l=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[l]}const pB={type:"spring",stiffness:500,damping:25,restSpeed:10},gB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),yB={type:"keyframes",duration:.8},vB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_B=(e,{keyframes:t})=>t.length>2?yB:Ql.has(e)?e.startsWith("scale")?gB(t[1]):pB:vB;function TB({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const p0=(e,t,n,i={},a,l)=>u=>{const h=i0(i,e)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-gr(m);const y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:T=>{t.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:e,motionValue:t,element:l?void 0:a};TB(h)||Object.assign(y,_B(e,y)),y.duration&&(y.duration=gr(y.duration)),y.repeatDelay&&(y.repeatDelay=gr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(hv(y),y.delay===0&&(_=!0)),(fs.instantAnimations||fs.skipAnimations)&&(_=!0,hv(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!l&&t.get()!==void 0){const T=mB(y.keyframes,h);if(T!==void 0){ve.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new e0(y):new Gj(y)};function EB({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function hD(e,t,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:u,...h}=t;i&&(l=i);const m=[],p=a&&e.animationState&&e.animationState.getState()[a];for(const y in h){const _=e.getValue(y,e.latestValues[y]??null),T=h[y];if(T===void 0||p&&EB(p,y))continue;const A={delay:n,...i0(l||{},y)},D=_.get();if(D!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===D&&!A.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const U=cD(e);if(U){const N=window.MotionHandoffAnimation(U,y,ve);N!==null&&(A.startTime=N,x=!0)}}yv(e,y),_.start(p0(y,_,T,e.shouldReduceMotion&&Vx.has(y)?{type:!1}:A,e,x));const P=_.animation;P&&m.push(P)}return u&&Promise.all(m).then(()=>{ve.update(()=>{u&&hB(e,u)})}),m}function fD(e,t,n,i=0,a=1){const l=Array.from(e).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=e.size,h=(u-1)*i;return typeof n=="function"?n(l,u):a===1?l*i:h-l*i}function vv(e,t,n={}){const i=Rl(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(hD(e,i,n)):()=>Promise.resolve(),u=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:_}=a;return bB(e,t,m,p,y,_,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function bB(e,t,n=0,i=0,a=0,l=1,u){const h=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),h.push(vv(m,t,{...u,delay:n+(typeof i=="function"?0:i)+fD(e.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(h)}function wB(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>vv(e,l,n));i=Promise.all(a)}else if(typeof t=="string")i=vv(e,t,n);else{const a=typeof t=="function"?Rl(e,t,n.custom):t;i=Promise.all(hD(e,a,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}function dD(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const SB=l0.length;function mD(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?mD(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<SB;n++){const i=l0[n],a=e.props[i];(qc(a)||a===!1)&&(t[i]=a)}return t}const AB=[...o0].reverse(),RB=o0.length;function IB(e){return t=>Promise.all(t.map(({animation:n,options:i})=>wB(e,n,i)))}function CB(e){let t=IB(e),n=CA(),i=!0;const a=m=>(p,y)=>{const _=Rl(e,y,m==="exit"?e.presenceContext?.custom:void 0);if(_){const{transition:T,transitionEnd:A,...D}=_;p={...p,...D,...A}}return p};function l(m){t=m(e)}function u(m){const{props:p}=e,y=mD(e.parent)||{},_=[],T=new Set;let A={},D=1/0;for(let P=0;P<RB;P++){const U=AB[P],N=n[U],H=p[U]!==void 0?p[U]:y[U],ut=qc(H),tt=U===m?N.isActive:null;tt===!1&&(D=P);let _t=H===y[U]&&H!==p[U]&&ut;if(_t&&i&&e.manuallyAnimateOnMount&&(_t=!1),N.protectedKeys={...A},!N.isActive&&tt===null||!H&&!N.prevProp||Vm(H)||typeof H=="boolean")continue;const M=xB(N.prevProp,H);let R=M||U===m&&N.isActive&&!_t&&ut||P>D&&ut,I=!1;const L=Array.isArray(H)?H:[H];let F=L.reduce(a(U),{});tt===!1&&(F={});const{prevResolvedValues:j={}}=N,C={...j,...F},Lt=lt=>{R=!0,T.has(lt)&&(I=!0,T.delete(lt)),N.needsAnimating[lt]=!0;const yt=e.getValue(lt);yt&&(yt.liveStyle=!1)};for(const lt in C){const yt=F[lt],Mt=j[lt];if(A.hasOwnProperty(lt))continue;let O=!1;gv(yt)&&gv(Mt)?O=!dD(yt,Mt):O=yt!==Mt,O?yt!=null?Lt(lt):T.add(lt):yt!==void 0&&T.has(lt)?Lt(lt):N.protectedKeys[lt]=!0}N.prevProp=H,N.prevResolvedValues=F,N.isActive&&(A={...A,...F}),i&&e.blockInitialAnimation&&(R=!1);const Ut=_t&&M;R&&(!Ut||I)&&_.push(...L.map(lt=>{const yt={type:U};if(typeof lt=="string"&&i&&!Ut&&e.manuallyAnimateOnMount&&e.parent){const{parent:Mt}=e,O=Rl(Mt,lt);if(Mt.enteringChildren&&O){const{delayChildren:ot}=O.transition||{};yt.delay=fD(Mt.enteringChildren,e,ot)}}return{animation:lt,options:yt}}))}if(T.size){const P={};if(typeof p.initial!="boolean"){const U=Rl(e,Array.isArray(p.initial)?p.initial[0]:p.initial);U&&U.transition&&(P.transition=U.transition)}T.forEach(U=>{const N=e.getBaseTarget(U),H=e.getValue(U);H&&(H.liveStyle=!0),P[U]=N??null}),_.push({animation:P})}let x=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!e.manuallyAnimateOnMount&&(x=!1),i=!1,x?t(_):Promise.resolve()}function h(m,p){if(n[m].isActive===p)return Promise.resolve();e.variantChildren?.forEach(_=>_.animationState?.setActive(m,p)),n[m].isActive=p;const y=u(m);for(const _ in n)n[_].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=CA(),i=!0}}}function xB(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dD(t,e):!1}function Wa(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function CA(){return{animate:Wa(!0),whileInView:Wa(),whileHover:Wa(),whileTap:Wa(),whileDrag:Wa(),whileFocus:Wa(),exit:Wa()}}class Ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class DB extends Ea{constructor(t){super(t),t.animationState||(t.animationState=CB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PB=0;class VB extends Ea{constructor(){super(...arguments),this.id=PB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const NB={animation:{Feature:DB},exit:{Feature:VB}};function Gc(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function fh(e){return{point:{x:e.pageX,y:e.pageY}}}const MB=e=>t=>a0(t)&&e(t,fh(t));function Sc(e,t,n,i){return Gc(e,t,MB(n),i)}const pD=1e-4,OB=1-pD,kB=1+pD,gD=.01,LB=0-gD,UB=0+gD;function xn(e){return e.max-e.min}function jB(e,t,n){return Math.abs(e-t)<=n}function xA(e,t,n,i=.5){e.origin=i,e.originPoint=be(t.min,t.max,e.origin),e.scale=xn(n)/xn(t),e.translate=be(n.min,n.max,e.origin)-e.originPoint,(e.scale>=OB&&e.scale<=kB||isNaN(e.scale))&&(e.scale=1),(e.translate>=LB&&e.translate<=UB||isNaN(e.translate))&&(e.translate=0)}function Ac(e,t,n,i){xA(e.x,t.x,n.x,i?i.originX:void 0),xA(e.y,t.y,n.y,i?i.originY:void 0)}function DA(e,t,n){e.min=n.min+t.min,e.max=e.min+xn(t)}function FB(e,t,n){DA(e.x,t.x,n.x),DA(e.y,t.y,n.y)}function PA(e,t,n){e.min=t.min-n.min,e.max=e.min+xn(t)}function Rc(e,t,n){PA(e.x,t.x,n.x),PA(e.y,t.y,n.y)}function pi(e){return[e("x"),e("y")]}const yD=({current:e})=>e?e.ownerDocument.defaultView:null,VA=(e,t)=>Math.abs(e-t);function BB(e,t){const n=VA(e.x,t.x),i=VA(e.y,t.y);return Math.sqrt(n**2+i**2)}class vD{constructor(t,n,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=hy(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,D=BB(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!D)return;const{point:x}=T,{timestamp:P}=hn;this.history.push({...x,timestamp:P});const{onStart:U,onMove:N}=this.handlers;A||(U&&U(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,T)},this.handlePointerMove=(T,A)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=cy(A,this.transformPagePoint),ve.update(this.updatePoint,!0)},this.handlePointerUp=(T,A)=>{this.end();const{onEnd:D,onSessionEnd:x,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=hy(T.type==="pointercancel"?this.lastMoveEventInfo:cy(A,this.transformPagePoint),this.history);this.startEvent&&D&&D(T,U),x&&x(T,U)},!a0(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=fh(t),m=cy(h,this.transformPagePoint),{point:p}=m,{timestamp:y}=hn;this.history=[{...p,timestamp:y}];const{onSessionStart:_}=n;_&&_(t,hy(m,this.history)),this.removeListeners=uh(Sc(this.contextWindow,"pointermove",this.handlePointerMove),Sc(this.contextWindow,"pointerup",this.handlePointerUp),Sc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),da(this.updatePoint)}}function cy(e,t){return t?{point:t(e.point)}:e}function NA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hy({point:e},t){return{point:e,delta:NA(e,_D(t)),offset:NA(e,zB(t)),velocity:qB(t,.1)}}function zB(e){return e[0]}function _D(e){return e[e.length-1]}function qB(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const a=_D(e);for(;n>=0&&(i=e[n],!(a.timestamp-i.timestamp>gr(t)));)n--;if(!i)return{x:0,y:0};const l=yr(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function HB(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?be(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?be(n,e,i.max):Math.min(e,n)),e}function MA(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GB(e,{top:t,left:n,bottom:i,right:a}){return{x:MA(e.x,n,a),y:MA(e.y,t,i)}}function OA(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function $B(e,t){return{x:OA(e.x,t.x),y:OA(e.y,t.y)}}function KB(e,t){let n=.5;const i=xn(e),a=xn(t);return a>i?n=Fc(t.min,t.max-i,e.min):i>a&&(n=Fc(e.min,e.max-a,t.min)),hs(0,1,n)}function QB(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const _v=.35;function YB(e=_v){return e===!1?e=0:e===!0&&(e=_v),{x:kA(e,"left","right"),y:kA(e,"top","bottom")}}function kA(e,t,n){return{min:LA(e,t),max:LA(e,n)}}function LA(e,t){return typeof e=="number"?e:e[t]||0}const XB=new WeakMap;class WB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(fh(_).point)},u=(_,T)=>{const{drag:A,dragPropagation:D,onDragStart:x}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lF(A),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),pi(U=>{let N=this.getAxisMotionValue(U).get()||0;if(vr.test(N)){const{projection:H}=this.visualElement;if(H&&H.layout){const ut=H.layout.layoutBox[U];ut&&(N=xn(ut)*(parseFloat(N)/100))}}this.originPoint[U]=N}),x&&ve.postRender(()=>x(_,T)),yv(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:x,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:U}=T;if(D&&this.currentDirection===null){this.currentDirection=ZB(U),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",T.point,U),this.updateAxis("y",T.point,U),this.visualElement.render(),P&&P(_,T)},m=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>pi(_=>this.getAnimationState(_)==="paused"&&this.getAxisMotionValue(_).animation?.play()),{dragSnapToOrigin:y}=this.getProps();this.panSession=new vD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:yD(this.visualElement)})}stop(t,n){const i=t||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ve.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:a}=this.getProps();if(!i||!Jf(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=HB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&yl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=GB(i.layoutBox,t):this.constraints=!1,this.elastic=YB(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&pi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=QB(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!yl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=JF(i,a.root,this.visualElement.getTransformPagePoint());let u=$B(a.layout.layoutBox,l);if(n){const h=n(XF(u));this.hasMutatedConstraints=!!h,h&&(u=nD(h))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=pi(y=>{if(!Jf(y,n,this.currentDirection))return;let _=m&&m[y]||{};u&&(_={min:0,max:0});const T=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:i?t[y]:0,bounceStiffness:T,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,..._};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return yv(this.visualElement,t),i.start(p0(t,i,0,n,this.visualElement,!1))}stopAnimation(){pi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){pi(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){pi(n=>{const{drag:i}=this.getProps();if(!Jf(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(t[n]-be(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!yl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};pi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();a[u]=KB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),pi(u=>{if(!Jf(u,t,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(be(m,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;XB.set(this.visualElement,this);const t=this.visualElement.current,n=Sc(t,"pointerdown",m=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();yl(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ve.read(i);const u=Gc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(pi(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=m[y].translate,_.set(_.get()+m[y].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=_v,dragMomentum:h=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Jf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function ZB(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class JB extends Ea{constructor(t){super(t),this.removeGroupControls=yi,this.removeListeners=yi,this.controls=new WB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const UA=e=>(t,n)=>{e&&ve.postRender(()=>e(t,n))};class tz extends Ea{constructor(){super(...arguments),this.removePointerDownListener=yi}onPointerDown(t){this.session=new vD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:UA(t),onStart:UA(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&ve.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Sc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function jA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const rc={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Nt.test(e))e=parseFloat(e);else return e;const n=jA(e,t.target.x),i=jA(e,t.target.y);return`${n}% ${i}%`}},ez={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,a=ma.parse(e);if(a.length>5)return i;const l=ma.createTransformer(e),u=typeof a[0]!="number"?1:0,h=n.x.scale*t.x,m=n.y.scale*t.y;a[0+u]/=h,a[1+u]/=m;const p=be(h,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let fy=!1;class nz extends z.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;SF(iz),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),fy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,fy=!0,a||t.layoutDependency!==n||n===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ve.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),s0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=t;fy=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TD(e){const[t,n]=yF(),i=z.useContext(ZC);return q.jsx(nz,{...e,layoutGroup:i,switchLayoutGroup:z.useContext(tD),isPresent:t,safeToRemove:n})}const iz={borderRadius:{...rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:rc,borderTopRightRadius:rc,borderBottomLeftRadius:rc,borderBottomRightRadius:rc,boxShadow:ez};function rz(e,t,n){const i=En(e)?e:Ml(e);return i.start(p0("",i,t,n)),i.animation}const sz=(e,t)=>e.depth-t.depth;class az{constructor(){this.children=[],this.isDirty=!1}add(t){F_(this.children,t),this.isDirty=!0}remove(t){B_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sz),this.isDirty=!1,this.children.forEach(t)}}function oz(e,t){const n=Un.now(),i=({timestamp:a})=>{const l=a-n;l>=t&&(da(i),e(l-t))};return ve.setup(i,!0),()=>da(i)}const ED=["TopLeft","TopRight","BottomLeft","BottomRight"],lz=ED.length,FA=e=>typeof e=="string"?parseFloat(e):e,BA=e=>typeof e=="number"||Nt.test(e);function uz(e,t,n,i,a,l){a?(e.opacity=be(0,n.opacity??1,cz(i)),e.opacityExit=be(t.opacity??1,0,hz(i))):l&&(e.opacity=be(t.opacity??1,n.opacity??1,i));for(let u=0;u<lz;u++){const h=`border${ED[u]}Radius`;let m=zA(t,h),p=zA(n,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||BA(m)===BA(p)?(e[h]=Math.max(be(FA(m),FA(p),i),0),(vr.test(p)||vr.test(m))&&(e[h]+="%")):e[h]=p}(t.rotate||n.rotate)&&(e.rotate=be(t.rotate||0,n.rotate||0,i))}function zA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cz=bD(0,.5,ux),hz=bD(.5,.95,yi);function bD(e,t,n){return i=>i<e?0:i>t?1:n(Fc(e,t,i))}function qA(e,t){e.min=t.min,e.max=t.max}function mi(e,t){qA(e.x,t.x),qA(e.y,t.y)}function HA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function GA(e,t,n,i,a){return e-=t,e=Xd(e,1/n,i),a!==void 0&&(e=Xd(e,1/a,i)),e}function fz(e,t=0,n=1,i=.5,a,l=e,u=e){if(vr.test(t)&&(t=parseFloat(t),t=be(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=be(l.min,l.max,i);e===l&&(h-=t),e.min=GA(e.min,t,n,h,a),e.max=GA(e.max,t,n,h,a)}function $A(e,t,[n,i,a],l,u){fz(e,t[n],t[i],t[a],t.scale,l,u)}const dz=["x","scaleX","originX"],mz=["y","scaleY","originY"];function KA(e,t,n,i){$A(e.x,t,dz,n?n.x:void 0,i?i.x:void 0),$A(e.y,t,mz,n?n.y:void 0,i?i.y:void 0)}function QA(e){return e.translate===0&&e.scale===1}function wD(e){return QA(e.x)&&QA(e.y)}function YA(e,t){return e.min===t.min&&e.max===t.max}function pz(e,t){return YA(e.x,t.x)&&YA(e.y,t.y)}function XA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function SD(e,t){return XA(e.x,t.x)&&XA(e.y,t.y)}function WA(e){return xn(e.x)/xn(e.y)}function ZA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class gz{constructor(){this.members=[]}add(t){F_(this.members,t),t.scheduleRender()}remove(t){if(B_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yz(e,t,n){let i="";const a=e.x.translate/t.x,l=e.y.translate/t.y,u=n?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:T,skewX:A,skewY:D}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const h=e.x.scale*t.x,m=e.y.scale*t.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const dy=["","X","Y","Z"],vz=1e3;let _z=0;function my(e,t,n,i){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),i&&(i[e]=0))}function AD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=cD(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",ve,!(a||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&AD(i)}function RD({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=_z++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bz),this.nodes.forEach(Rz),this.nodes.forEach(Iz),this.nodes.forEach(wz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new az)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new H_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Bx(u)&&!mF(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),e){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;ve.read(()=>{_=window.innerWidth}),e(u,()=>{const A=window.innerWidth;A!==_&&(_=A,this.root.updateBlockedByResize=!0,y&&y(),y=oz(T,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(e1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||Vz,{onLayoutAnimationStart:x,onLayoutAnimationComplete:P}=p.getProps(),U=!this.targetLayout||!SD(this.targetLayout,A),N=!_&&T;if(this.options.layoutRoot||this.resumeFrom||N||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...i0(D,"layout"),onPlay:x,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(y,N)}else _||e1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),da(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Cz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&AD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Az),this.nodes.forEach(Tz),this.nodes.forEach(Ez)):this.nodes.forEach(t1),this.clearAllSnapshots();const h=Un.now();hn.delta=hs(0,1e3/60,h-hn.timestamp),hn.timestamp=h,hn.isProcessing=!0,ny.update.process(hn),ny.preRender.process(hn),ny.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sz),this.sharedNodes.forEach(xz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!xn(this.snapshot.measuredBox.x)&&!xn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!wD(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Ja(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),Nz(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ve();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Mz))){const{scroll:p}=this.root;p&&(vl(h.x,p.offset.x),vl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Ve();if(mi(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:_}=p;p!==this.root&&y&&_.layoutScroll&&(y.wasRoot&&mi(h,u),vl(h.x,y.offset.x),vl(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const m=Ve();mi(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&_l(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ja(y.latestValues)&&_l(m,y.latestValues)}return Ja(this.latestValues)&&_l(m,this.latestValues),m}removeTransform(u){const h=Ve();mi(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ja(p.latestValues))continue;dv(p.latestValues)&&p.updateSnapshot();const y=Ve(),_=p.measurePageBox();mi(y,_),KA(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ja(this.latestValues)&&KA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!(!this.layout||!(y||_))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const T=this.getClosestProjectingParent();T&&T.layout&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),Rc(this.relativeTargetOrigin,this.layout.layoutBox,T.layout.layoutBox),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):mi(this.target,this.layout.layoutBox),rD(this.target,this.targetDelta)):mi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const T=this.getClosestProjectingParent();T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?(this.relativeParent=T,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),Rc(this.relativeTargetOrigin,this.target,T.target),mi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dv(this.parent.latestValues)||iD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;mi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;ZF(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ve());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HA(this.prevProjectionDelta.x,this.projectionDelta.x),HA(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!ZA(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tl(),this.projectionDelta=Tl(),this.projectionDeltaWithTransform=Tl()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},_=Tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=Ve(),A=m?m.source:void 0,D=this.layout?this.layout.source:void 0,x=A!==D,P=this.getStack(),U=!P||P.members.length<=1,N=!!(x&&!U&&this.options.crossfade===!0&&!this.path.some(Pz));this.animationProgress=0;let H;this.mixTargetDelta=ut=>{const tt=ut/1e3;n1(_.x,u.x,tt),n1(_.y,u.y,tt),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rc(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dz(this.relativeTarget,this.relativeTargetOrigin,T,tt),H&&pz(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Ve()),mi(H,this.relativeTarget)),x&&(this.animationValues=y,uz(y,p,this.latestValues,tt,N,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=tt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(da(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ve.update(()=>{vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ml(0)),this.currentAnimation=rz(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&ID(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ve();const _=xn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+_;const T=xn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}mi(h,m),_l(h,y),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gz),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&my("z",u,p,this.animationValues);for(let y=0;y<dy.length;y++)my(`rotate${dy[y]}`,u,p,this.animationValues),my(`skew${dy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=yd(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=yd(h?.pointerEvents)||""),this.hasProjected&&!Ja(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let _=yz(this.projectionDeltaWithTransform,this.treeScale,y);m&&(_=m(y,_)),u.transform=_;const{x:T,y:A}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in Hc){if(y[D]===void 0)continue;const{correct:x,applyTo:P,isCSSVariable:U}=Hc[D],N=_==="none"?y[D]:x(y[D],p);if(P){const H=P.length;for(let ut=0;ut<H;ut++)u[P[ut]]=N}else U?this.options.visualElement.renderState.vars[D]=N:u[D]=N}this.options.layoutId&&(u.pointerEvents=p===this?yd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(JA),this.root.sharedNodes.clear()}}}function Tz(e){e.updateLayout()}function Ez(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?pi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=xn(_);_.min=n[y].min,_.max=_.min+T}):ID(a,t.layoutBox,n)&&pi(y=>{const _=l?t.measuredBox[y]:t.layoutBox[y],T=xn(n[y]);_.max=_.min+T,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+T)});const u=Tl();Ac(u,n,t.layoutBox);const h=Tl();l?Ac(h,e.applyTransform(i,!0),t.measuredBox):Ac(h,n,t.layoutBox);const m=!wD(u);let p=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:_,layout:T}=y;if(_&&T){const A=Ve();Rc(A,t.layoutBox,_.layoutBox);const D=Ve();Rc(D,n,T.layoutBox),SD(A,D)||(p=!0),y.options.layoutRoot&&(e.relativeTarget=D,e.relativeTargetOrigin=A,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function bz(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wz(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sz(e){e.clearSnapshot()}function JA(e){e.clearMeasurements()}function t1(e){e.isLayoutDirty=!1}function Az(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Rz(e){e.resolveTargetDelta()}function Iz(e){e.calcProjection()}function Cz(e){e.resetSkewAndRotation()}function xz(e){e.removeLeadSnapshot()}function n1(e,t,n){e.translate=be(t.translate,0,n),e.scale=be(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function i1(e,t,n,i){e.min=be(t.min,n.min,i),e.max=be(t.max,n.max,i)}function Dz(e,t,n,i){i1(e.x,t.x,n.x,i),i1(e.y,t.y,n.y,i)}function Pz(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Vz={duration:.45,ease:[.4,0,.1,1]},r1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s1=r1("applewebkit/")&&!r1("chrome/")?Math.round:yi;function a1(e){e.min=s1(e.min),e.max=s1(e.max)}function Nz(e){a1(e.x),a1(e.y)}function ID(e,t,n){return e==="position"||e==="preserve-aspect"&&!jB(WA(t),WA(n),.2)}function Mz(e){return e!==e.root&&e.scroll?.wasRoot}const Oz=RD({attachResizeListener:(e,t)=>Gc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),py={current:void 0},CD=RD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!py.current){const e=new Oz({});e.mount(window),e.setOptions({layoutScroll:!0}),py.current=e}return py.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kz={pan:{Feature:tz},drag:{Feature:JB,ProjectionNode:CD,MeasureLayout:TD}};function o1(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&ve.postRender(()=>l(t,fh(t)))}class Lz extends Ea{mount(){const{current:t}=this.node;t&&(this.unmount=uF(t,(n,i)=>(o1(this.node,i,"Start"),a=>o1(this.node,a,"End"))))}unmount(){}}class Uz extends Ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uh(Gc(this.node.current,"focus",()=>this.onFocus()),Gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function l1(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&ve.postRender(()=>l(t,fh(t)))}class jz extends Ea{mount(){const{current:t}=this.node;t&&(this.unmount=dF(t,(n,i)=>(l1(this.node,i,"Start"),(a,{success:l})=>l1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Tv=new WeakMap,gy=new WeakMap,Fz=e=>{const t=Tv.get(e.target);t&&t(e)},Bz=e=>{e.forEach(Fz)};function zz({root:e,...t}){const n=e||document;gy.has(n)||gy.set(n,{});const i=gy.get(n),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(Bz,{root:e,...t})),i[a]}function qz(e,t,n){const i=zz(t);return Tv.set(e,n),i.observe(e),()=>{Tv.delete(e),i.unobserve(e)}}const Hz={some:0,all:1};class Gz extends Ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Hz[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=p?y:_;T&&T(m)};return qz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some($z(t,n))&&this.startObserver()}unmount(){}}function $z({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Kz={inView:{Feature:Gz},tap:{Feature:jz},focus:{Feature:Uz},hover:{Feature:Lz}},Qz={layout:{ProjectionNode:CD,MeasureLayout:TD}},Yz={...NB,...Kz,...kz,...Qz},Ev=YF(Yz,lB);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),u1=e=>{const t=Wz(e);return t.charAt(0).toUpperCase()+t.slice(1)},xD=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),Zz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=z.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},m)=>z.createElement("svg",{ref:m,...Jz,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:xD("lucide",a),...!l&&!Zz(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,y])=>z.createElement(p,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=(e,t)=>{const n=z.forwardRef(({className:i,...a},l)=>z.createElement(t7,{ref:l,iconNode:t,className:xD(`lucide-${Xz(u1(e))}`,`lucide-${e}`,i),...a}));return n.displayName=u1(e),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],n7=Fi("calendar",e7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bv=Fi("eye-off",i7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wv=Fi("eye",r7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Sv=Fi("heart",s7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],o7=Fi("loader-circle",a7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],c1=Fi("lock",l7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],c7=Fi("mail",u7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],h1=Fi("plus",h7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],f1=Fi("trophy",f7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],m7=Fi("user",d7);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Av=Fi("users",p7),Qs=({variant:e="primary",size:t="md",loading:n=!1,fullWidth:i=!1,leftIcon:a,rightIcon:l,children:u,disabled:h,className:m="",...p})=>{const y="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",_={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500"},T={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},A=i?"w-full":"",D=`${y} ${_[e]} ${T[t]} ${A} ${m}`;return q.jsxs(Ev.button,{whileTap:{scale:.95},className:D,disabled:h||n,...p,children:[n&&q.jsx(o7,{className:"w-4 h-4 mr-2 animate-spin"}),!n&&a&&q.jsx("span",{className:"mr-2",children:a}),u,!n&&l&&q.jsx("span",{className:"ml-2",children:l})]})},g7=()=>{const[e,t]=z.useState(!1),{login:n,isLoading:i,error:a,clearError:l}=Xn(),u=Zd(),{register:h,handleSubmit:m,formState:{errors:p,isSubmitting:y}}=WC({defaultValues:{email:"",password:"",rememberMe:!1}}),_=async T=>{try{l(),await n(T.email,T.password),Ee.success("Welcome back!"),u("/",{replace:!0})}catch{Ee.error("Login failed. Please check your credentials.")}};return q.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:q.jsxs(Ev.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[q.jsxs("div",{className:"text-center mb-8",children:[q.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:q.jsx(Sv,{className:"w-8 h-8 text-white fill-current"})}),q.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),q.jsx("p",{className:"text-gray-600 mt-1",children:"Sign in to continue growing together"})]}),q.jsxs(Ev.form,{onSubmit:m(_),className:"bg-white rounded-2xl shadow-xl p-6 space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),q.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email"}}),type:"email",id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your email"}),p.email&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),q.jsxs("div",{className:"relative",children:[q.jsx("input",{...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:e?"text":"password",id:"password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your password"}),q.jsx("button",{type:"button",onClick:()=>t(!e),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:e?q.jsx(bv,{className:"w-5 h-5"}):q.jsx(wv,{className:"w-5 h-5"})})]}),p.password&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password.message})]}),q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsxs("label",{className:"flex items-center",children:[q.jsx("input",{...h("rememberMe"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),q.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),q.jsx(Di,{to:"/auth/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})]}),a&&q.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:q.jsx("p",{className:"text-sm text-red-600",children:a})}),q.jsx(Qs,{type:"submit",loading:i||y,fullWidth:!0,className:"h-12",children:"Sign In"}),q.jsxs("div",{className:"relative",children:[q.jsx("div",{className:"absolute inset-0 flex items-center",children:q.jsx("div",{className:"w-full border-t border-gray-300"})}),q.jsx("div",{className:"relative flex justify-center text-sm",children:q.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),q.jsx(Di,{to:"/auth/signup",children:q.jsx(Qs,{variant:"secondary",fullWidth:!0,children:"Create Account"})})]}),q.jsxs("p",{className:"text-center text-xs text-gray-500 mt-8",children:["By signing in, you agree to our"," ",q.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Terms of Service"})," ","and"," ",q.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Privacy Policy"})]})]})})},y7=()=>{const e=Zd(),{signup:t,isLoading:n,error:i,clearError:a}=Xn(),[l,u]=z.useState(!1),[h,m]=z.useState(!1),{register:p,handleSubmit:y,formState:{errors:_,isValid:T},watch:A,reset:D}=WC({mode:"onChange"}),x=A("password"),P=async U=>{if(U.password!==U.confirmPassword){Ee.error("Passwords do not match");return}try{a(),await t(U.email,U.password,U.displayName,U.age,U.gender),Ee.success("Account created successfully!"),D(),e("/dashboard")}catch(N){console.error("Signup error:",N);const H=N instanceof Error?N.message:"Failed to create account";Ee.error(H)}};return q.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:q.jsxs("div",{className:"max-w-md w-full space-y-8",children:[q.jsxs("div",{className:"text-center",children:[q.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),q.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Start building deeper connections today"})]}),q.jsxs("form",{className:"mt-8 space-y-6",onSubmit:y(P),children:[q.jsxs("div",{className:"space-y-4",children:[q.jsxs("div",{children:[q.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(m7,{className:"h-5 w-5 text-gray-400"})}),q.jsx("input",{...p("displayName",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"},maxLength:{value:50,message:"Name must be less than 50 characters"}}),type:"text",autoComplete:"name",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.displayName?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your full name"})]}),_.displayName&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.displayName.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(c7,{className:"h-5 w-5 text-gray-400"})}),q.jsx("input",{...p("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",autoComplete:"email",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.email?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your email"})]}),_.email&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.email.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Age"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(n7,{className:"h-5 w-5 text-gray-400"})}),q.jsx("input",{...p("age",{required:"Age is required",min:{value:18,message:"You must be at least 18 years old"},max:{value:120,message:"Please enter a valid age"},valueAsNumber:!0}),type:"number",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.age?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your age"})]}),_.age&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.age.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(Av,{className:"h-5 w-5 text-gray-400"})}),q.jsxs("select",{...p("gender",{required:"Please select your gender"}),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.gender?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,children:[q.jsx("option",{value:"",children:"Select gender"}),q.jsx("option",{value:"male",children:"Male"}),q.jsx("option",{value:"female",children:"Female"}),q.jsx("option",{value:"other",children:"Other"})]})]}),_.gender&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.gender.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(c1,{className:"h-5 w-5 text-gray-400"})}),q.jsx("input",{...p("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}}),type:l?"text":"password",autoComplete:"new-password",className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.password?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Create a strong password"}),q.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!l),children:l?q.jsx(bv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):q.jsx(wv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),_.password&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.password.message})]}),q.jsxs("div",{children:[q.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),q.jsxs("div",{className:"mt-1 relative",children:[q.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:q.jsx(c1,{className:"h-5 w-5 text-gray-400"})}),q.jsx("input",{...p("confirmPassword",{required:"Please confirm your password",validate:U=>U===x||"Passwords do not match"}),type:h?"text":"password",autoComplete:"new-password",className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${_.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Confirm your password"}),q.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!h),children:h?q.jsx(bv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):q.jsx(wv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),_.confirmPassword&&q.jsx("p",{className:"mt-1 text-sm text-red-600",children:_.confirmPassword.message})]})]}),i&&q.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:q.jsx("p",{className:"text-sm text-red-600",children:i})}),q.jsx("div",{children:q.jsx("button",{type:"submit",disabled:!T||n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors ${!T||n?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:n?q.jsxs("div",{className:"flex items-center",children:[q.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})}),q.jsx("div",{className:"text-center",children:q.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",q.jsx(Di,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors",children:"Sign in here"})]})})]})]})})},v7=q1()(H1((e,t)=>({innermosts:[],activeInnermost:null,pendingInvitations:[],willingBoxes:{},weeklyScores:{},isLoading:!1,error:null,setInnermosts:n=>e({innermosts:n}),setActiveInnermost:n=>e({activeInnermost:n}),setPendingInvitations:n=>e({pendingInvitations:n}),setWillingBox:(n,i)=>e(a=>({willingBoxes:{...a.willingBoxes,[n]:i}})),setWeeklyScores:(n,i)=>e(a=>({weeklyScores:{...a.weeklyScores,[n]:i}})),setLoading:n=>e({isLoading:n}),setError:n=>e({error:n}),addInnermost:n=>e(i=>({innermosts:[...i.innermosts,n]})),removeInnermost:n=>e(i=>({innermosts:i.innermosts.filter(a=>a.id!==n),activeInnermost:i.activeInnermost?.id===n?null:i.activeInnermost})),updateInnermost:(n,i)=>e(a=>({innermosts:a.innermosts.map(l=>l.id===n?{...l,...i}:l),activeInnermost:a.activeInnermost?.id===n?{...a.activeInnermost,...i}:a.activeInnermost})),canAddInnermost:()=>{const{innermosts:n}=t();return n.length<3},addInvitation:n=>e(i=>({pendingInvitations:[...i.pendingInvitations,n]})),updateInvitation:(n,i)=>e(a=>({pendingInvitations:a.pendingInvitations.map(l=>l.id===n?{...l,...i}:l)})),removeInvitation:n=>e(i=>({pendingInvitations:i.pendingInvitations.filter(a=>a.id!==n)})),getWillingBox:n=>{const{willingBoxes:i}=t();return i[n]||null},getWeeklyScores:n=>{const{weeklyScores:i}=t();return i[n]||[]},getCurrentWeek:n=>t().innermosts.find(a=>a.id===n)?.currentWeek||1}),{name:"innermost-store"})),_7=()=>{const{user:e}=Xn(),{innermosts:t,canAddInnermost:n}=v7();return q.jsxs("div",{className:"p-4 space-y-6",children:[q.jsxs("div",{className:"text-center py-8",children:[q.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-100 rounded-full mb-4",children:q.jsx(Sv,{className:"w-10 h-10 text-primary-600 fill-current"})}),q.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e?.displayName,"!"]}),q.jsx("p",{className:"text-gray-600",children:"Ready to grow your relationships?"})]}),q.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[q.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200",children:[q.jsx(Av,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),q.jsx("div",{className:"text-2xl font-bold text-gray-900",children:t.length}),q.jsx("div",{className:"text-sm text-gray-500",children:"Active Innermosts"})]}),q.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-200",children:[q.jsx(f1,{className:"w-6 h-6 text-willing-600 mx-auto mb-2"}),q.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"0"}),q.jsx("div",{className:"text-sm text-gray-500",children:"Total Score"})]})]}),q.jsx("div",{className:"space-y-4",children:t.length===0?q.jsxs("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 rounded-xl p-6 text-white text-center",children:[q.jsx(Sv,{className:"w-12 h-12 mx-auto mb-4 opacity-80"}),q.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Start Your First Innermost"}),q.jsx("p",{className:"text-primary-100 mb-4 text-sm",children:"Connect with a partner and begin your journey of intentional relationship growth."}),q.jsx(Di,{to:"/innermosts",children:q.jsxs(Qs,{variant:"secondary",className:"bg-white text-primary-600 hover:bg-gray-100",children:[q.jsx(h1,{className:"w-4 h-4 mr-2"}),"Create Innermost"]})})]}):q.jsxs("div",{className:"space-y-3",children:[q.jsxs("div",{className:"flex items-center justify-between",children:[q.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Innermosts"}),n()&&q.jsx(Di,{to:"/innermosts",children:q.jsx(Qs,{size:"sm",variant:"ghost",children:q.jsx(h1,{className:"w-4 h-4"})})})]}),t.slice(0,3).map(i=>{const a=e?.id===i.partnerA?i.partnerBEmail:i.partnerAEmail;return q.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[q.jsxs("div",{className:"flex items-center justify-between mb-2",children:[q.jsx("div",{className:"font-medium text-gray-900",children:a||"Partner"}),q.jsx("div",{className:`text-sm px-2 py-1 rounded-full ${i.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:i.status.charAt(0).toUpperCase()+i.status.slice(1)})]}),q.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Created ",i.createdAt.toLocaleDateString()]}),q.jsx(Di,{to:`/innermosts/${i.id}`,children:q.jsx(Qs,{size:"sm",fullWidth:!0,children:i.status==="active"?"Enter Innermost":"Continue Setup"})})]},i.id)}),t.length>3&&q.jsx(Di,{to:"/innermosts",children:q.jsxs(Qs,{variant:"ghost",fullWidth:!0,children:["View All Innermosts (",t.length,")"]})})]})}),q.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[q.jsx(Di,{to:"/innermosts",children:q.jsxs(Qs,{variant:"ghost",fullWidth:!0,className:"h-16 flex-col",children:[q.jsx(Av,{className:"w-6 h-6 mb-1"}),q.jsx("span",{className:"text-xs",children:"Innermosts"})]})}),q.jsx(Di,{to:"/profile",children:q.jsxs(Qs,{variant:"ghost",fullWidth:!0,className:"h-16 flex-col",children:[q.jsx(f1,{className:"w-6 h-6 mb-1"}),q.jsx("span",{className:"text-xs",children:"Profile"})]})})]}),q.jsx("div",{className:"h-4 safe-area-bottom"})]})};console.log("main.tsx loading...");const T7=new eN({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3}}}),E7=({children:e})=>{const{user:t,isInitialized:n}=Xn();return n?t?q.jsx(q.Fragment,{children:e}):q.jsx(w1,{to:"/auth/login",replace:!0}):q.jsx("div",{children:"Loading..."})};function b7(){return z.useEffect(()=>{Q9()},[]),q.jsx(iN,{client:T7,children:q.jsxs(wV,{basename:"/willing-tree",children:[q.jsxs(tV,{children:[q.jsx(sc,{path:"/auth/login",element:q.jsx(g7,{})}),q.jsx(sc,{path:"/auth/signup",element:q.jsx(y7,{})}),q.jsx(sc,{path:"/",element:q.jsx(E7,{children:q.jsx(_7,{})})}),q.jsx(sc,{path:"*",element:q.jsx(w1,{to:"/",replace:!0})})]}),q.jsx(GN,{})]})})}const d1=document.getElementById("root");d1&&(console.log("Creating React root..."),c2.createRoot(d1).render(q.jsx(z.StrictMode,{children:q.jsx(Y9,{children:q.jsx(b7,{})})})));
