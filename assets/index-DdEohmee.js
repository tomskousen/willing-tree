(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function KD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ay={exports:{}},dc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lT;function WD(){if(lT)return dc;lT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:u,ref:a!==void 0?a:null,props:l}}return dc.Fragment=e,dc.jsx=n,dc.jsxs=n,dc}var uT;function YD(){return uT||(uT=1,ay.exports=WD()),ay.exports}var v=YD(),oy={exports:{}},Fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cT;function QD(){if(cT)return Fe;cT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=b&&F[b]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,M={};function k(F,ue,ge){this.props=F,this.context=ue,this.refs=M,this.updater=ge||x}k.prototype.isReactComponent={},k.prototype.setState=function(F,ue){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,ue,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=k.prototype;function P(F,ue,ge){this.props=F,this.context=ue,this.refs=M,this.updater=ge||x}var q=P.prototype=new O;q.constructor=P,D(q,k.prototype),q.isPureReactComponent=!0;var se=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ce=Object.prototype.hasOwnProperty;function j(F,ue,ge,he,Ce,Be){return ge=Be.ref,{$$typeof:t,type:F,key:ue,ref:ge!==void 0?ge:null,props:Be}}function A(F,ue){return j(F.type,ue,void 0,void 0,void 0,F.props)}function N(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function L(F){var ue={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ge){return ue[ge]})}var B=/\/+/g;function I(F,ue){return typeof F=="object"&&F!==null&&F.key!=null?L(""+F.key):ue.toString(36)}function C(){}function ve(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(C,C):(F.status="pending",F.then(function(ue){F.status==="pending"&&(F.status="fulfilled",F.value=ue)},function(ue){F.status==="pending"&&(F.status="rejected",F.reason=ue)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function xe(F,ue,ge,he,Ce){var Be=typeof F;(Be==="undefined"||Be==="boolean")&&(F=null);var Ve=!1;if(F===null)Ve=!0;else switch(Be){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(F.$$typeof){case t:case e:Ve=!0;break;case g:return Ve=F._init,xe(Ve(F._payload),ue,ge,he,Ce)}}if(Ve)return Ce=Ce(F),Ve=he===""?"."+I(F,0):he,se(Ce)?(ge="",Ve!=null&&(ge=Ve.replace(B,"$&/")+"/"),xe(Ce,ue,ge,"",function(Vn){return Vn})):Ce!=null&&(N(Ce)&&(Ce=A(Ce,ge+(Ce.key==null||F&&F.key===Ce.key?"":(""+Ce.key).replace(B,"$&/")+"/")+Ve)),ue.push(Ce)),1;Ve=0;var At=he===""?".":he+":";if(se(F))for(var it=0;it<F.length;it++)he=F[it],Be=At+I(he,it),Ve+=xe(he,ue,ge,Be,Ce);else if(it=E(F),typeof it=="function")for(F=it.call(F),it=0;!(he=F.next()).done;)he=he.value,Be=At+I(he,it++),Ve+=xe(he,ue,ge,Be,Ce);else if(Be==="object"){if(typeof F.then=="function")return xe(ve(F),ue,ge,he,Ce);throw ue=String(F),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Z(F,ue,ge){if(F==null)return F;var he=[],Ce=0;return xe(F,he,"","",function(Be){return ue.call(ge,Be,Ce++)}),he}function te(F){if(F._status===-1){var ue=F._result;ue=ue(),ue.then(function(ge){(F._status===0||F._status===-1)&&(F._status=1,F._result=ge)},function(ge){(F._status===0||F._status===-1)&&(F._status=2,F._result=ge)}),F._status===-1&&(F._status=0,F._result=ue)}if(F._status===1)return F._result.default;throw F._result}var me=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Ne(){}return Fe.Children={map:Z,forEach:function(F,ue,ge){Z(F,function(){ue.apply(this,arguments)},ge)},count:function(F){var ue=0;return Z(F,function(){ue++}),ue},toArray:function(F){return Z(F,function(ue){return ue})||[]},only:function(F){if(!N(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Fe.Component=k,Fe.Fragment=n,Fe.Profiler=a,Fe.PureComponent=P,Fe.StrictMode=s,Fe.Suspense=f,Fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Fe.__COMPILER_RUNTIME={__proto__:null,c:function(F){return Q.H.useMemoCache(F)}},Fe.cache=function(F){return function(){return F.apply(null,arguments)}},Fe.cloneElement=function(F,ue,ge){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var he=D({},F.props),Ce=F.key,Be=void 0;if(ue!=null)for(Ve in ue.ref!==void 0&&(Be=void 0),ue.key!==void 0&&(Ce=""+ue.key),ue)!ce.call(ue,Ve)||Ve==="key"||Ve==="__self"||Ve==="__source"||Ve==="ref"&&ue.ref===void 0||(he[Ve]=ue[Ve]);var Ve=arguments.length-2;if(Ve===1)he.children=ge;else if(1<Ve){for(var At=Array(Ve),it=0;it<Ve;it++)At[it]=arguments[it+2];he.children=At}return j(F.type,Ce,void 0,void 0,Be,he)},Fe.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:l,_context:F},F},Fe.createElement=function(F,ue,ge){var he,Ce={},Be=null;if(ue!=null)for(he in ue.key!==void 0&&(Be=""+ue.key),ue)ce.call(ue,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ce[he]=ue[he]);var Ve=arguments.length-2;if(Ve===1)Ce.children=ge;else if(1<Ve){for(var At=Array(Ve),it=0;it<Ve;it++)At[it]=arguments[it+2];Ce.children=At}if(F&&F.defaultProps)for(he in Ve=F.defaultProps,Ve)Ce[he]===void 0&&(Ce[he]=Ve[he]);return j(F,Be,void 0,void 0,null,Ce)},Fe.createRef=function(){return{current:null}},Fe.forwardRef=function(F){return{$$typeof:h,render:F}},Fe.isValidElement=N,Fe.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:te}},Fe.memo=function(F,ue){return{$$typeof:p,type:F,compare:ue===void 0?null:ue}},Fe.startTransition=function(F){var ue=Q.T,ge={};Q.T=ge;try{var he=F(),Ce=Q.S;Ce!==null&&Ce(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ne,me)}catch(Be){me(Be)}finally{Q.T=ue}},Fe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Fe.use=function(F){return Q.H.use(F)},Fe.useActionState=function(F,ue,ge){return Q.H.useActionState(F,ue,ge)},Fe.useCallback=function(F,ue){return Q.H.useCallback(F,ue)},Fe.useContext=function(F){return Q.H.useContext(F)},Fe.useDebugValue=function(){},Fe.useDeferredValue=function(F,ue){return Q.H.useDeferredValue(F,ue)},Fe.useEffect=function(F,ue,ge){var he=Q.H;if(typeof ge=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(F,ue)},Fe.useId=function(){return Q.H.useId()},Fe.useImperativeHandle=function(F,ue,ge){return Q.H.useImperativeHandle(F,ue,ge)},Fe.useInsertionEffect=function(F,ue){return Q.H.useInsertionEffect(F,ue)},Fe.useLayoutEffect=function(F,ue){return Q.H.useLayoutEffect(F,ue)},Fe.useMemo=function(F,ue){return Q.H.useMemo(F,ue)},Fe.useOptimistic=function(F,ue){return Q.H.useOptimistic(F,ue)},Fe.useReducer=function(F,ue,ge){return Q.H.useReducer(F,ue,ge)},Fe.useRef=function(F){return Q.H.useRef(F)},Fe.useState=function(F){return Q.H.useState(F)},Fe.useSyncExternalStore=function(F,ue,ge){return Q.H.useSyncExternalStore(F,ue,ge)},Fe.useTransition=function(){return Q.H.useTransition()},Fe.version="19.1.1",Fe}var hT;function e0(){return hT||(hT=1,oy.exports=QD()),oy.exports}var V=e0();const mn=KD(V);var ly={exports:{}},fc={},uy={exports:{}},cy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT;function XD(){return dT||(dT=1,(function(t){function e(Z,te){var me=Z.length;Z.push(te);e:for(;0<me;){var Ne=me-1>>>1,F=Z[Ne];if(0<a(F,te))Z[Ne]=te,Z[me]=F,me=Ne;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var te=Z[0],me=Z.pop();if(me!==te){Z[0]=me;e:for(var Ne=0,F=Z.length,ue=F>>>1;Ne<ue;){var ge=2*(Ne+1)-1,he=Z[ge],Ce=ge+1,Be=Z[Ce];if(0>a(he,me))Ce<F&&0>a(Be,he)?(Z[Ne]=Be,Z[Ce]=me,Ne=Ce):(Z[Ne]=he,Z[ge]=me,Ne=ge);else if(Ce<F&&0>a(Be,me))Z[Ne]=Be,Z[Ce]=me,Ne=Ce;else break e}}return te}function a(Z,te){var me=Z.sortIndex-te.sortIndex;return me!==0?me:Z.id-te.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,b=null,E=3,x=!1,D=!1,M=!1,k=!1,O=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function se(Z){for(var te=n(p);te!==null;){if(te.callback===null)s(p);else if(te.startTime<=Z)s(p),te.sortIndex=te.expirationTime,e(f,te);else break;te=n(p)}}function Q(Z){if(M=!1,se(Z),!D)if(n(f)!==null)D=!0,ce||(ce=!0,I());else{var te=n(p);te!==null&&xe(Q,te.startTime-Z)}}var ce=!1,j=-1,A=5,N=-1;function L(){return k?!0:!(t.unstable_now()-N<A)}function B(){if(k=!1,ce){var Z=t.unstable_now();N=Z;var te=!0;try{e:{D=!1,M&&(M=!1,P(j),j=-1),x=!0;var me=E;try{t:{for(se(Z),b=n(f);b!==null&&!(b.expirationTime>Z&&L());){var Ne=b.callback;if(typeof Ne=="function"){b.callback=null,E=b.priorityLevel;var F=Ne(b.expirationTime<=Z);if(Z=t.unstable_now(),typeof F=="function"){b.callback=F,se(Z),te=!0;break t}b===n(f)&&s(f),se(Z)}else s(f);b=n(f)}if(b!==null)te=!0;else{var ue=n(p);ue!==null&&xe(Q,ue.startTime-Z),te=!1}}break e}finally{b=null,E=me,x=!1}te=void 0}}finally{te?I():ce=!1}}}var I;if(typeof q=="function")I=function(){q(B)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ve=C.port2;C.port1.onmessage=B,I=function(){ve.postMessage(null)}}else I=function(){O(B,0)};function xe(Z,te){j=O(function(){Z(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var te=3;break;default:te=E}var me=E;E=te;try{return Z()}finally{E=me}},t.unstable_requestPaint=function(){k=!0},t.unstable_runWithPriority=function(Z,te){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var me=E;E=Z;try{return te()}finally{E=me}},t.unstable_scheduleCallback=function(Z,te,me){var Ne=t.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ne+me:Ne):me=Ne,Z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=me+F,Z={id:g++,callback:te,priorityLevel:Z,startTime:me,expirationTime:F,sortIndex:-1},me>Ne?(Z.sortIndex=me,e(p,Z),n(f)===null&&Z===n(p)&&(M?(P(j),j=-1):M=!0,xe(Q,me-Ne))):(Z.sortIndex=F,e(f,Z),D||x||(D=!0,ce||(ce=!0,I()))),Z},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(Z){var te=E;return function(){var me=E;E=te;try{return Z.apply(this,arguments)}finally{E=me}}}})(cy)),cy}var fT;function ZD(){return fT||(fT=1,uy.exports=XD()),uy.exports}var hy={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function JD(){if(mT)return bn;mT=1;var t=e0();function e(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:p,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(f,p,null,g)},bn.flushSync=function(f){var p=u.T,g=s.p;try{if(u.T=null,s.p=2,f)return f()}finally{u.T=p,s.p=g,s.d.f()}},bn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(f,p))},bn.prefetchDNS=function(f){typeof f=="string"&&s.d.D(f)},bn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:x}):g==="script"&&s.d.X(f,{crossOrigin:b,integrity:E,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},bn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=h(p.as,p.crossOrigin);s.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(f)},bn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,b=h(g,p.crossOrigin);s.d.L(f,g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},bn.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=h(p.as,p.crossOrigin);s.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(f)},bn.requestFormReset=function(f){s.d.r(f)},bn.unstable_batchedUpdates=function(f,p){return f(p)},bn.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},bn.useFormStatus=function(){return u.H.useHostTransitionStatus()},bn.version="19.1.1",bn}var pT;function eP(){if(pT)return hy.exports;pT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hy.exports=JD(),hy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function tP(){if(gT)return fc;gT=1;var t=ZD(),e=e0(),n=eP();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function u(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(s(188))}function f(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,c=i;;){var m=o.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){o=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===o)return h(m),r;if(y===c)return h(m),i;y=y.sibling}throw Error(s(188))}if(o.return!==c.return)o=m,c=y;else{for(var T=!1,S=m.child;S;){if(S===o){T=!0,o=m,c=y;break}if(S===c){T=!0,c=m,o=y;break}S=S.sibling}if(!T){for(S=y.child;S;){if(S===o){T=!0,o=y,c=m;break}if(S===c){T=!0,c=y,o=m;break}S=S.sibling}if(!T)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function p(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=p(r),i!==null)return i;r=r.sibling}return null}var g=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),q=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function I(r){return r===null||typeof r!="object"?null:(r=B&&r[B]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function ve(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case k:return"Profiler";case M:return"StrictMode";case Q:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case q:return(r.displayName||"Context")+".Provider";case P:return(r._context.displayName||"Context")+".Consumer";case se:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return i=r.displayName||null,i!==null?i:ve(r.type)||"Memo";case A:i=r._payload,r=r._init;try{return ve(r(i))}catch{}}return null}var xe=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ne=[],F=-1;function ue(r){return{current:r}}function ge(r){0>F||(r.current=Ne[F],Ne[F]=null,F--)}function he(r,i){F++,Ne[F]=r.current,r.current=i}var Ce=ue(null),Be=ue(null),Ve=ue(null),At=ue(null);function it(r,i){switch(he(Ve,i),he(Be,r),he(Ce,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?kw(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=kw(i),r=jw(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ge(Ce),he(Ce,r)}function Vn(){ge(Ce),ge(Be),ge(Ve)}function is(r){r.memoizedState!==null&&he(At,r);var i=Ce.current,o=jw(i,r.type);i!==o&&(he(Be,r),he(Ce,o))}function Cs(r){Be.current===r&&(ge(Ce),ge(Be)),At.current===r&&(ge(At),oc._currentValue=me)}var Ws=Object.prototype.hasOwnProperty,Ir=t.unstable_scheduleCallback,Ys=t.unstable_cancelCallback,Ti=t.unstable_shouldYield,Do=t.unstable_requestPaint,kn=t.unstable_now,Ch=t.unstable_getCurrentPriorityLevel,xi=t.unstable_ImmediatePriority,z=t.unstable_UserBlockingPriority,Y=t.unstable_NormalPriority,ne=t.unstable_LowPriority,_e=t.unstable_IdlePriority,pe=t.log,de=t.unstable_setDisableYieldValue,ye=null,Ae=null;function ze(r){if(typeof pe=="function"&&de(r),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(ye,r)}catch{}}var at=Math.clz32?Math.clz32:Dr,Nr=Math.log,as=Math.LN2;function Dr(r){return r>>>=0,r===0?32:31-(Nr(r)/as|0)|0}var Is=256,Ns=4194304;function Kn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Pr(r,i,o){var c=r.pendingLanes;if(c===0)return 0;var m=0,y=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~y,c!==0?m=Kn(c):(T&=S,T!==0?m=Kn(T):o||(o=S&~r,o!==0&&(m=Kn(o))))):(S=c&~y,S!==0?m=Kn(S):T!==0?m=Kn(T):o||(o=c&~r,o!==0&&(m=Kn(o)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:m}function Mr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function Si(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var r=Is;return Is<<=1,(Is&4194048)===0&&(Is=256),r}function uu(){var r=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),r}function Or(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function Vr(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function cu(r,i,o,c,m,y){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,U=r.expirationTimes,W=r.hiddenUpdates;for(o=T&~o;0<o;){var re=31-at(o),oe=1<<re;S[re]=0,U[re]=-1;var X=W[re];if(X!==null)for(W[re]=null,re=0;re<X.length;re++){var J=X[re];J!==null&&(J.lane&=-536870913)}o&=~oe}c!==0&&Qs(r,c,0),y!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=y&~(T&~i))}function Qs(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var c=31-at(i);r.entangledLanes|=i,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function hu(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var c=31-at(o),m=1<<c;m&i|r[c]&i&&(r[c]|=i),o&=~m}}function Ai(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Po(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Ri(){var r=te.p;return r!==0?r:(r=window.event,r===void 0?32:nT(r.type))}function Ih(r,i){var o=te.p;try{return te.p=r,i()}finally{te.p=o}}var yt=Math.random().toString(36).slice(2),Wt="__reactFiber$"+yt,Lt="__reactProps$"+yt,os="__reactContainer$"+yt,du="__reactEvents$"+yt,up="__reactListeners$"+yt,Ci="__reactHandles$"+yt,Nh="__reactResources$"+yt,Pa="__reactMarker$"+yt;function Ii(r){delete r[Wt],delete r[Lt],delete r[du],delete r[up],delete r[Ci]}function kr(r){var i=r[Wt];if(i)return i;for(var o=r.parentNode;o;){if(i=o[os]||o[Wt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=Fw(r);r!==null;){if(o=r[Wt])return o;r=Fw(r)}return i}r=o,o=r.parentNode}return null}function Xs(r){if(r=r[Wt]||r[os]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function Zs(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function Cn(r){var i=r[Nh];return i||(i=r[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Nt(r){r[Pa]=!0}var fu=new Set,Mo={};function Ds(r,i){jr(r,i),jr(r+"Capture",i)}function jr(r,i){for(Mo[r]=i,r=0;r<i.length;r++)fu.add(i[r])}var Dh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ph={},Ma={};function Mh(r){return Ws.call(Ma,r)?!0:Ws.call(Ph,r)?!1:Dh.test(r)?Ma[r]=!0:(Ph[r]=!0,!1)}function Ni(r,i,o){if(Mh(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Js(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function ln(r,i,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+c)}}var Oa,Oh;function Lr(r){if(Oa===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Oa=i&&i[1]||"",Oh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oa+r+Oh}var Oo=!1;function Vo(r,i){if(!r||Oo)return"";Oo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(J){var X=J}Reflect.construct(r,[],oe)}else{try{oe.call()}catch(J){X=J}r.call(oe.prototype)}}else{try{throw Error()}catch(J){X=J}(oe=r())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),T=y[0],S=y[1];if(T&&S){var U=T.split(`
`),W=S.split(`
`);for(m=c=0;c<U.length&&!U[c].includes("DetermineComponentFrameRoot");)c++;for(;m<W.length&&!W[m].includes("DetermineComponentFrameRoot");)m++;if(c===U.length||m===W.length)for(c=U.length-1,m=W.length-1;1<=c&&0<=m&&U[c]!==W[m];)m--;for(;1<=c&&0<=m;c--,m--)if(U[c]!==W[m]){if(c!==1||m!==1)do if(c--,m--,0>m||U[c]!==W[m]){var re=`
`+U[c].replace(" at new "," at ");return r.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",r.displayName)),re}while(1<=c&&0<=m);break}}}finally{Oo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Lr(o):""}function mu(r){switch(r.tag){case 26:case 27:case 5:return Lr(r.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 15:return Vo(r.type,!1);case 11:return Vo(r.type.render,!1);case 1:return Vo(r.type,!0);case 31:return Lr("Activity");default:return""}}function ko(r){try{var i="";do i+=mu(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function In(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function pu(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cp(r){var i=pu(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,y=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return m.call(this)},set:function(T){c=""+T,y.call(this,T)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function jo(r){r._valueTracker||(r._valueTracker=cp(r))}function gu(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return r&&(c=pu(r)?r.checked?"true":"false":r.value),r=c,r!==o?(i.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var hp=/[\n"\\]/g;function Ut(r){return r.replace(hp,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Wn(r,i,o,c,m,y,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),i!=null?T==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+In(i)):r.value!==""+In(i)&&(r.value=""+In(i)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),i!=null?Di(r,T,In(i)):o!=null?Di(r,T,In(o)):c!=null&&r.removeAttribute("value"),m==null&&y!=null&&(r.defaultChecked=!!y),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+In(S):r.removeAttribute("name")}function ka(r,i,o,c,m,y,T,S){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+In(o):"",i=i!=null?""+In(i):o,S||i===r.value||(r.value=i),r.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T)}function Di(r,i,o){i==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Ur(r,i,o,c){if(r=r.options,i){i={};for(var m=0;m<o.length;m++)i["$"+o[m]]=!0;for(o=0;o<r.length;o++)m=i.hasOwnProperty("$"+r[o].value),r[o].selected!==m&&(r[o].selected=m),m&&c&&(r[o].defaultSelected=!0)}else{for(o=""+In(o),i=null,m=0;m<r.length;m++){if(r[m].value===o){r[m].selected=!0,c&&(r[m].defaultSelected=!0);return}i!==null||r[m].disabled||(i=r[m])}i!==null&&(i.selected=!0)}}function ut(r,i,o){if(i!=null&&(i=""+In(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+In(o):""}function ja(r,i,o,c){if(i==null){if(c!=null){if(o!=null)throw Error(s(92));if(xe(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),i=o}o=In(i),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function ls(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var La=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vh(r,i,o){var c=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":c?r.setProperty(i,o):typeof o!="number"||o===0||La.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function yu(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&o[m]!==c&&Vh(r,m,c)}else for(var y in i)i.hasOwnProperty(y)&&Vh(r,y,i[y])}function vu(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(r){return fp.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Br=null;function us(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fr=null,zr=null;function _u(r){var i=Xs(r);if(i&&(r=i.stateNode)){var o=r[Lt]||null;e:switch(r=i.stateNode,i.type){case"input":if(Wn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ut(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==r&&c.form===r.form){var m=c[Lt]||null;if(!m)throw Error(s(90));Wn(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<o.length;i++)c=o[i],c.form===r.form&&gu(c)}break e;case"textarea":ut(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Ur(r,!!o.multiple,i,!1)}}}var er=!1;function kh(r,i,o){if(er)return r(i,o);er=!0;try{var c=r(i);return c}finally{if(er=!1,(Fr!==null||zr!==null)&&(Id(),Fr&&(i=Fr,r=zr,zr=Fr=null,_u(i),r)))for(i=0;i<r.length;i++)_u(r[i])}}function Ua(r,i){var o=r.stateNode;if(o===null)return null;var c=o[Lt]||null;if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cs=!1;if(Ps)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{cs=!1}var tr=null,Pi=null,qr=null;function bu(){if(qr)return qr;var r,i=Pi,o=i.length,c,m="value"in tr?tr.value:tr.textContent,y=m.length;for(r=0;r<o&&i[r]===m[r];r++);var T=o-r;for(c=1;c<=T&&i[o-c]===m[y-c];c++);return qr=m.slice(r,1<c?1-c:void 0)}function nr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Eu(){return!1}function en(r){function i(o,c,m,y,T){this._reactName=o,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(y):y[S]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sr:Eu,this.isPropagationStopped=Eu,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var st={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=en(st),Fa=g({},st,{view:0,detail:0}),jh=en(Fa),Bo,Fo,rr,za=g({},Fa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ga,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==rr&&(rr&&r.type==="mousemove"?(Bo=r.screenX-rr.screenX,Fo=r.screenY-rr.screenY):Fo=Bo=0,rr=r),Bo)},movementY:function(r){return"movementY"in r?r.movementY:Fo}}),hs=en(za),Lh=g({},za,{dataTransfer:0}),mp=en(Lh),qa=g({},Fa,{relatedTarget:0}),zo=en(qa),wu=g({},st,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=en(wu),Uh=g({},st,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ho=en(Uh),pp=g({},st,{data:0}),Tu=en(pp),Ha={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xu(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Fh[r])?!!i[r]:!1}function Ga(){return xu}var zh=g({},Fa,{key:function(r){if(r.key){var i=Ha[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=nr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Bh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ga,charCode:function(r){return r.type==="keypress"?nr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?nr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Go=en(zh),qh=g({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=en(qh),Hr=g({},Fa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ga}),Hh=en(Hr),Gh=g({},st,{propertyName:0,elapsedTime:0,pseudoElement:0}),$h=en(Gh),Kh=g({},za,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),$o=en(Kh),Nn=g({},st,{newState:0,oldState:0}),Wh=en(Nn),Yh=[9,13,27,32],ir=Ps&&"CompositionEvent"in window,d=null;Ps&&"documentMode"in document&&(d=document.documentMode);var _=Ps&&"TextEvent"in window&&!d,w=Ps&&(!ir||d&&8<d&&11>=d),R=" ",$=!1;function ee(r,i){switch(r){case"keyup":return Yh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qe=!1;function Yt(r,i){switch(r){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:($=!0,R);case"textInput":return r=i.data,r===R&&$?null:r;default:return null}}function Xe(r,i){if(Qe)return r==="compositionend"||!ir&&ee(r,i)?(r=bu(),qr=Pi=tr=null,Qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return w&&i.locale!=="ko"?null:i.data;default:return null}}var tn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Qt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!tn[r.type]:i==="textarea"}function Gr(r,i,o,c){Fr?zr?zr.push(c):zr=[c]:Fr=c,i=Vd(i,"onChange"),0<i.length&&(o=new Uo("onChange","change",null,o,c),r.push({event:o,listeners:i}))}var un=null,ar=null;function Au(r){Dw(r,0)}function Qh(r){var i=Zs(r);if(gu(i))return r}function Z_(r,i){if(r==="change")return i}var J_=!1;if(Ps){var gp;if(Ps){var yp="oninput"in document;if(!yp){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),yp=typeof eb.oninput=="function"}gp=yp}else gp=!1;J_=gp&&(!document.documentMode||9<document.documentMode)}function tb(){un&&(un.detachEvent("onpropertychange",nb),ar=un=null)}function nb(r){if(r.propertyName==="value"&&Qh(ar)){var i=[];Gr(i,ar,r,us(r)),kh(Au,i)}}function T2(r,i,o){r==="focusin"?(tb(),un=i,ar=o,un.attachEvent("onpropertychange",nb)):r==="focusout"&&tb()}function x2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Qh(ar)}function S2(r,i){if(r==="click")return Qh(i)}function A2(r,i){if(r==="input"||r==="change")return Qh(i)}function R2(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Yn=typeof Object.is=="function"?Object.is:R2;function Ru(r,i){if(Yn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var m=o[c];if(!Ws.call(i,m)||!Yn(r[m],i[m]))return!1}return!0}function sb(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function rb(r,i){var o=sb(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=i&&c>=i)return{node:o,offset:i-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sb(o)}}function ib(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ib(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function ab(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=Va(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=Va(r.document)}return i}function vp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var C2=Ps&&"documentMode"in document&&11>=document.documentMode,Ko=null,_p=null,Cu=null,bp=!1;function ob(r,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bp||Ko==null||Ko!==Va(c)||(c=Ko,"selectionStart"in c&&vp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Cu&&Ru(Cu,c)||(Cu=c,c=Vd(_p,"onSelect"),0<c.length&&(i=new Uo("onSelect","select",null,i,o),r.push({event:i,listeners:c}),i.target=Ko)))}function $a(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Wo={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionrun:$a("Transition","TransitionRun"),transitionstart:$a("Transition","TransitionStart"),transitioncancel:$a("Transition","TransitionCancel"),transitionend:$a("Transition","TransitionEnd")},Ep={},lb={};Ps&&(lb=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function Ka(r){if(Ep[r])return Ep[r];if(!Wo[r])return r;var i=Wo[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in lb)return Ep[r]=i[o];return r}var ub=Ka("animationend"),cb=Ka("animationiteration"),hb=Ka("animationstart"),I2=Ka("transitionrun"),N2=Ka("transitionstart"),D2=Ka("transitioncancel"),db=Ka("transitionend"),fb=new Map,wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wp.push("scrollEnd");function Ms(r,i){fb.set(r,i),Ds(i,[r])}var mb=new WeakMap;function ds(r,i){if(typeof r=="object"&&r!==null){var o=mb.get(r);return o!==void 0?o:(i={value:r,source:i,stack:ko(i)},mb.set(r,i),i)}return{value:r,source:i,stack:ko(i)}}var fs=[],Yo=0,Tp=0;function Xh(){for(var r=Yo,i=Tp=Yo=0;i<r;){var o=fs[i];fs[i++]=null;var c=fs[i];fs[i++]=null;var m=fs[i];fs[i++]=null;var y=fs[i];if(fs[i++]=null,c!==null&&m!==null){var T=c.pending;T===null?m.next=m:(m.next=T.next,T.next=m),c.pending=m}y!==0&&pb(o,m,y)}}function Zh(r,i,o,c){fs[Yo++]=r,fs[Yo++]=i,fs[Yo++]=o,fs[Yo++]=c,Tp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function xp(r,i,o,c){return Zh(r,i,o,c),Jh(r)}function Qo(r,i){return Zh(r,null,null,i),Jh(r)}function pb(r,i,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var m=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(m=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,m&&i!==null&&(m=31-at(o),r=y.hiddenUpdates,c=r[m],c===null?r[m]=[i]:c.push(i),i.lane=o|536870912),y):null}function Jh(r){if(50<Ju)throw Ju=0,Ng=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var Xo={};function P2(r,i,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(r,i,o,c){return new P2(r,i,o,c)}function Sp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $r(r,i){var o=r.alternate;return o===null?(o=Qn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function gb(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function ed(r,i,o,c,m,y){var T=0;if(c=r,typeof r=="function")Sp(r)&&(T=1);else if(typeof r=="string")T=OD(r,o,Ce.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case N:return r=Qn(31,o,i,m),r.elementType=N,r.lanes=y,r;case D:return Wa(o.children,m,y,i);case M:T=8,m|=24;break;case k:return r=Qn(12,o,i,m|2),r.elementType=k,r.lanes=y,r;case Q:return r=Qn(13,o,i,m),r.elementType=Q,r.lanes=y,r;case ce:return r=Qn(19,o,i,m),r.elementType=ce,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case O:case q:T=10;break e;case P:T=9;break e;case se:T=11;break e;case j:T=14;break e;case A:T=16,c=null;break e}T=29,o=Error(s(130,r===null?"null":typeof r,"")),c=null}return i=Qn(T,o,i,m),i.elementType=r,i.type=c,i.lanes=y,i}function Wa(r,i,o,c){return r=Qn(7,r,c,i),r.lanes=o,r}function Ap(r,i,o){return r=Qn(6,r,null,i),r.lanes=o,r}function Rp(r,i,o){return i=Qn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var Zo=[],Jo=0,td=null,nd=0,ms=[],ps=0,Ya=null,Kr=1,Wr="";function Qa(r,i){Zo[Jo++]=nd,Zo[Jo++]=td,td=r,nd=i}function yb(r,i,o){ms[ps++]=Kr,ms[ps++]=Wr,ms[ps++]=Ya,Ya=r;var c=Kr;r=Wr;var m=32-at(c)-1;c&=~(1<<m),o+=1;var y=32-at(i)+m;if(30<y){var T=m-m%5;y=(c&(1<<T)-1).toString(32),c>>=T,m-=T,Kr=1<<32-at(i)+m|o<<m|c,Wr=y+r}else Kr=1<<y|o<<m|c,Wr=r}function Cp(r){r.return!==null&&(Qa(r,1),yb(r,1,0))}function Ip(r){for(;r===td;)td=Zo[--Jo],Zo[Jo]=null,nd=Zo[--Jo],Zo[Jo]=null;for(;r===Ya;)Ya=ms[--ps],ms[ps]=null,Wr=ms[--ps],ms[ps]=null,Kr=ms[--ps],ms[ps]=null}var Dn=null,Rt=null,nt=!1,Xa=null,or=!1,Np=Error(s(519));function Za(r){var i=Error(s(418,""));throw Du(ds(i,r)),Np}function vb(r){var i=r.stateNode,o=r.type,c=r.memoizedProps;switch(i[Wt]=r,i[Lt]=c,o){case"dialog":$e("cancel",i),$e("close",i);break;case"iframe":case"object":case"embed":$e("load",i);break;case"video":case"audio":for(o=0;o<tc.length;o++)$e(tc[o],i);break;case"source":$e("error",i);break;case"img":case"image":case"link":$e("error",i),$e("load",i);break;case"details":$e("toggle",i);break;case"input":$e("invalid",i),ka(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),jo(i);break;case"select":$e("invalid",i);break;case"textarea":$e("invalid",i),ja(i,c.value,c.defaultValue,c.children),jo(i)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||c.suppressHydrationWarning===!0||Vw(i.textContent,o)?(c.popover!=null&&($e("beforetoggle",i),$e("toggle",i)),c.onScroll!=null&&$e("scroll",i),c.onScrollEnd!=null&&$e("scrollend",i),c.onClick!=null&&(i.onclick=kd),i=!0):i=!1,i||Za(r)}function _b(r){for(Dn=r.return;Dn;)switch(Dn.tag){case 5:case 13:or=!1;return;case 27:case 3:or=!0;return;default:Dn=Dn.return}}function Iu(r){if(r!==Dn)return!1;if(!nt)return _b(r),nt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||$g(r.type,r.memoizedProps)),o=!o),o&&Rt&&Za(r),_b(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Rt=Vs(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Rt=null}}else i===27?(i=Rt,Wi(r.type)?(r=Qg,Qg=null,Rt=r):Rt=i):Rt=Dn?Vs(r.stateNode.nextSibling):null;return!0}function Nu(){Rt=Dn=null,nt=!1}function bb(){var r=Xa;return r!==null&&(Un===null?Un=r:Un.push.apply(Un,r),Xa=null),r}function Du(r){Xa===null?Xa=[r]:Xa.push(r)}var Dp=ue(null),Ja=null,Yr=null;function Mi(r,i,o){he(Dp,i._currentValue),i._currentValue=o}function Qr(r){r._currentValue=Dp.current,ge(Dp)}function Pp(r,i,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===o)break;r=r.return}}function Mp(r,i,o,c){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var y=m.dependencies;if(y!==null){var T=m.child;y=y.firstContext;e:for(;y!==null;){var S=y;y=m;for(var U=0;U<i.length;U++)if(S.context===i[U]){y.lanes|=o,S=y.alternate,S!==null&&(S.lanes|=o),Pp(y.return,o,r),c||(T=null);break e}y=S.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(s(341));T.lanes|=o,y=T.alternate,y!==null&&(y.lanes|=o),Pp(T,o,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function Pu(r,i,o,c){r=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var S=m.type;Yn(m.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(m===At.current){if(T=m.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(oc):r=[oc])}m=m.return}r!==null&&Mp(i,r,o,c),i.flags|=262144}function sd(r){for(r=r.firstContext;r!==null;){if(!Yn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function eo(r){Ja=r,Yr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return Eb(Ja,r)}function rd(r,i){return Ja===null&&eo(r),Eb(r,i)}function Eb(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Yr===null){if(r===null)throw Error(s(308));Yr=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else Yr=Yr.next=i;return o}var M2=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},O2=t.unstable_scheduleCallback,V2=t.unstable_NormalPriority,Xt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Op(){return{controller:new M2,data:new Map,refCount:0}}function Mu(r){r.refCount--,r.refCount===0&&O2(V2,function(){r.controller.abort()})}var Ou=null,Vp=0,el=0,tl=null;function k2(r,i){if(Ou===null){var o=Ou=[];Vp=0,el=jg(),tl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Vp++,i.then(wb,wb),i}function wb(){if(--Vp===0&&Ou!==null){tl!==null&&(tl.status="fulfilled");var r=Ou;Ou=null,el=0,tl=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function j2(r,i){var o=[],c={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return r.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<o.length;m++)(0,o[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),c}var Tb=Z.S;Z.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&k2(r,i),Tb!==null&&Tb(r,i)};var to=ue(null);function kp(){var r=to.current;return r!==null?r:mt.pooledCache}function id(r,i){i===null?he(to,to.current):he(to,i.pool)}function xb(){var r=kp();return r===null?null:{parent:Xt._currentValue,pool:r}}var Vu=Error(s(460)),Sb=Error(s(474)),ad=Error(s(542)),jp={then:function(){}};function Ab(r){return r=r.status,r==="fulfilled"||r==="rejected"}function od(){}function Rb(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(od,od),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ib(r),r;default:if(typeof i.status=="string")i.then(od,od);else{if(r=mt,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Ib(r),r}throw ku=i,Vu}}var ku=null;function Cb(){if(ku===null)throw Error(s(459));var r=ku;return ku=null,r}function Ib(r){if(r===Vu||r===ad)throw Error(s(483))}var Oi=!1;function Lp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Vi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ki(r,i,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(ot&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=Jh(r),pb(r,null,o),i}return Zh(r,c,i,o),Jh(r)}function ju(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,hu(r,o)}}function Bp(r,i){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var m=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?m=y=T:y=y.next=T,o=o.next}while(o!==null);y===null?m=y=i:y=y.next=i}else m=y=i;o={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Fp=!1;function Lu(){if(Fp){var r=tl;if(r!==null)throw r}}function Uu(r,i,o,c){Fp=!1;var m=r.updateQueue;Oi=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var U=S,W=U.next;U.next=null,T===null?y=W:T.next=W,T=U;var re=r.alternate;re!==null&&(re=re.updateQueue,S=re.lastBaseUpdate,S!==T&&(S===null?re.firstBaseUpdate=W:S.next=W,re.lastBaseUpdate=U))}if(y!==null){var oe=m.baseState;T=0,re=W=U=null,S=y;do{var X=S.lane&-536870913,J=X!==S.lane;if(J?(Ze&X)===X:(c&X)===X){X!==0&&X===el&&(Fp=!0),re!==null&&(re=re.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ke=r,De=S;X=i;var dt=o;switch(De.tag){case 1:if(ke=De.payload,typeof ke=="function"){oe=ke.call(dt,oe,X);break e}oe=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=De.payload,X=typeof ke=="function"?ke.call(dt,oe,X):ke,X==null)break e;oe=g({},oe,X);break e;case 2:Oi=!0}}X=S.callback,X!==null&&(r.flags|=64,J&&(r.flags|=8192),J=m.callbacks,J===null?m.callbacks=[X]:J.push(X))}else J={lane:X,tag:S.tag,payload:S.payload,callback:S.callback,next:null},re===null?(W=re=J,U=oe):re=re.next=J,T|=X;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;J=S,S=J.next,J.next=null,m.lastBaseUpdate=J,m.shared.pending=null}}while(!0);re===null&&(U=oe),m.baseState=U,m.firstBaseUpdate=W,m.lastBaseUpdate=re,y===null&&(m.shared.lanes=0),Hi|=T,r.lanes=T,r.memoizedState=oe}}function Nb(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Db(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Nb(o[r],i)}var nl=ue(null),ld=ue(0);function Pb(r,i){r=si,he(ld,r),he(nl,i),si=r|i.baseLanes}function zp(){he(ld,si),he(nl,nl.current)}function qp(){si=ld.current,ge(nl),ge(ld)}var ji=0,qe=null,ct=null,Bt=null,ud=!1,sl=!1,no=!1,cd=0,Bu=0,rl=null,L2=0;function Dt(){throw Error(s(321))}function Hp(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Yn(r[o],i[o]))return!1;return!0}function Gp(r,i,o,c,m,y){return ji=y,qe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Z.H=r===null||r.memoizedState===null?pE:gE,no=!1,y=o(c,m),no=!1,sl&&(y=Ob(i,o,c,m)),Mb(r),y}function Mb(r){Z.H=gd;var i=ct!==null&&ct.next!==null;if(ji=0,Bt=ct=qe=null,ud=!1,Bu=0,rl=null,i)throw Error(s(300));r===null||nn||(r=r.dependencies,r!==null&&sd(r)&&(nn=!0))}function Ob(r,i,o,c){qe=r;var m=0;do{if(sl&&(rl=null),Bu=0,sl=!1,25<=m)throw Error(s(301));if(m+=1,Bt=ct=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Z.H=G2,y=i(o,c)}while(sl);return y}function U2(){var r=Z.H,i=r.useState()[0];return i=typeof i.then=="function"?Fu(i):i,r=r.useState()[0],(ct!==null?ct.memoizedState:null)!==r&&(qe.flags|=1024),i}function $p(){var r=cd!==0;return cd=0,r}function Kp(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Wp(r){if(ud){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ud=!1}ji=0,Bt=ct=qe=null,sl=!1,Bu=cd=0,rl=null}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?qe.memoizedState=Bt=r:Bt=Bt.next=r,Bt}function Ft(){if(ct===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var i=Bt===null?qe.memoizedState:Bt.next;if(i!==null)Bt=i,ct=r;else{if(r===null)throw qe.alternate===null?Error(s(467)):Error(s(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Bt===null?qe.memoizedState=Bt=r:Bt=Bt.next=r}return Bt}function Yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fu(r){var i=Bu;return Bu+=1,rl===null&&(rl=[]),r=Rb(rl,r,i),i=qe,(Bt===null?i.memoizedState:Bt.next)===null&&(i=i.alternate,Z.H=i===null||i.memoizedState===null?pE:gE),r}function hd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Fu(r);if(r.$$typeof===q)return _n(r)}throw Error(s(438,String(r)))}function Qp(r){var i=null,o=qe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var c=qe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Yp(),qe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),c=0;c<r;c++)o[c]=L;return i.index++,o}function Xr(r,i){return typeof i=="function"?i(r):i}function dd(r){var i=Ft();return Xp(i,ct,r)}function Xp(r,i,o){var c=r.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var m=r.baseQueue,y=c.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}i.baseQueue=m=y,c.pending=null}if(y=r.baseState,m===null)r.memoizedState=y;else{i=m.next;var S=T=null,U=null,W=i,re=!1;do{var oe=W.lane&-536870913;if(oe!==W.lane?(Ze&oe)===oe:(ji&oe)===oe){var X=W.revertLane;if(X===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),oe===el&&(re=!0);else if((ji&X)===X){W=W.next,X===el&&(re=!0);continue}else oe={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(S=U=oe,T=y):U=U.next=oe,qe.lanes|=X,Hi|=X;oe=W.action,no&&o(y,oe),y=W.hasEagerState?W.eagerState:o(y,oe)}else X={lane:oe,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},U===null?(S=U=X,T=y):U=U.next=X,qe.lanes|=oe,Hi|=oe;W=W.next}while(W!==null&&W!==i);if(U===null?T=y:U.next=S,!Yn(y,r.memoizedState)&&(nn=!0,re&&(o=tl,o!==null)))throw o;r.memoizedState=y,r.baseState=T,r.baseQueue=U,c.lastRenderedState=y}return m===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Zp(r){var i=Ft(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=o.dispatch,m=o.pending,y=i.memoizedState;if(m!==null){o.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);Yn(y,i.memoizedState)||(nn=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,c]}function Vb(r,i,o){var c=qe,m=Ft(),y=nt;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=i();var T=!Yn((ct||m).memoizedState,o);T&&(m.memoizedState=o,nn=!0),m=m.queue;var S=Lb.bind(null,c,m,r);if(zu(2048,8,S,[r]),m.getSnapshot!==i||T||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,il(9,fd(),jb.bind(null,c,m,o,i),null),mt===null)throw Error(s(349));y||(ji&124)!==0||kb(c,i,o)}return o}function kb(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=qe.updateQueue,i===null?(i=Yp(),qe.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function jb(r,i,o,c){i.value=o,i.getSnapshot=c,Ub(i)&&Bb(r)}function Lb(r,i,o){return o(function(){Ub(i)&&Bb(r)})}function Ub(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Yn(r,o)}catch{return!0}}function Bb(r){var i=Qo(r,2);i!==null&&ts(i,r,2)}function Jp(r){var i=jn();if(typeof r=="function"){var o=r;if(r=o(),no){ze(!0);try{o()}finally{ze(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:r},i}function Fb(r,i,o,c){return r.baseState=o,Xp(r,ct,typeof c=="function"?c:Xr)}function B2(r,i,o,c,m){if(pd(r))throw Error(s(485));if(r=i.action,r!==null){var y={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){y.listeners.push(T)}};Z.T!==null?o(!0):y.isTransition=!1,c(y),o=i.pending,o===null?(y.next=i.pending=y,zb(i,y)):(y.next=o.next,i.pending=o.next=y)}}function zb(r,i){var o=i.action,c=i.payload,m=r.state;if(i.isTransition){var y=Z.T,T={};Z.T=T;try{var S=o(m,c),U=Z.S;U!==null&&U(T,S),qb(r,i,S)}catch(W){eg(r,i,W)}finally{Z.T=y}}else try{y=o(m,c),qb(r,i,y)}catch(W){eg(r,i,W)}}function qb(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Hb(r,i,c)},function(c){return eg(r,i,c)}):Hb(r,i,o)}function Hb(r,i,o){i.status="fulfilled",i.value=o,Gb(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,zb(r,o)))}function eg(r,i,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=o,Gb(i),i=i.next;while(i!==c)}r.action=null}function Gb(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function $b(r,i){return i}function Kb(r,i){if(nt){var o=mt.formState;if(o!==null){e:{var c=qe;if(nt){if(Rt){t:{for(var m=Rt,y=or;m.nodeType!==8;){if(!y){m=null;break t}if(m=Vs(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Rt=Vs(m.nextSibling),c=m.data==="F!";break e}}Za(c)}c=!1}c&&(i=o[0])}}return o=jn(),o.memoizedState=o.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$b,lastRenderedState:i},o.queue=c,o=dE.bind(null,qe,c),c.dispatch=o,c=Jp(!1),y=ig.bind(null,qe,!1,c.queue),c=jn(),m={state:i,dispatch:null,action:r,pending:null},c.queue=m,o=B2.bind(null,qe,m,y,o),m.dispatch=o,c.memoizedState=r,[i,o,!1]}function Wb(r){var i=Ft();return Yb(i,ct,r)}function Yb(r,i,o){if(i=Xp(r,i,$b)[0],r=dd(Xr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Fu(i)}catch(T){throw T===Vu?ad:T}else c=i;i=Ft();var m=i.queue,y=m.dispatch;return o!==i.memoizedState&&(qe.flags|=2048,il(9,fd(),F2.bind(null,m,o),null)),[c,y,r]}function F2(r,i){r.action=i}function Qb(r){var i=Ft(),o=ct;if(o!==null)return Yb(i,o,r);Ft(),i=i.memoizedState,o=Ft();var c=o.queue.dispatch;return o.memoizedState=r,[i,c,!1]}function il(r,i,o,c){return r={tag:r,create:o,deps:c,inst:i,next:null},i=qe.updateQueue,i===null&&(i=Yp(),qe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,i.lastEffect=r),r}function fd(){return{destroy:void 0,resource:void 0}}function Xb(){return Ft().memoizedState}function md(r,i,o,c){var m=jn();c=c===void 0?null:c,qe.flags|=r,m.memoizedState=il(1|i,fd(),o,c)}function zu(r,i,o,c){var m=Ft();c=c===void 0?null:c;var y=m.memoizedState.inst;ct!==null&&c!==null&&Hp(c,ct.memoizedState.deps)?m.memoizedState=il(i,y,o,c):(qe.flags|=r,m.memoizedState=il(1|i,y,o,c))}function Zb(r,i){md(8390656,8,r,i)}function Jb(r,i){zu(2048,8,r,i)}function eE(r,i){return zu(4,2,r,i)}function tE(r,i){return zu(4,4,r,i)}function nE(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function sE(r,i,o){o=o!=null?o.concat([r]):null,zu(4,4,nE.bind(null,i,r),o)}function tg(){}function rE(r,i){var o=Ft();i=i===void 0?null:i;var c=o.memoizedState;return i!==null&&Hp(i,c[1])?c[0]:(o.memoizedState=[r,i],r)}function iE(r,i){var o=Ft();i=i===void 0?null:i;var c=o.memoizedState;if(i!==null&&Hp(i,c[1]))return c[0];if(c=r(),no){ze(!0);try{r()}finally{ze(!1)}}return o.memoizedState=[c,i],c}function ng(r,i,o){return o===void 0||(ji&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=lw(),qe.lanes|=r,Hi|=r,o)}function aE(r,i,o,c){return Yn(o,i)?o:nl.current!==null?(r=ng(r,o,c),Yn(r,i)||(nn=!0),r):(ji&42)===0?(nn=!0,r.memoizedState=o):(r=lw(),qe.lanes|=r,Hi|=r,i)}function oE(r,i,o,c,m){var y=te.p;te.p=y!==0&&8>y?y:8;var T=Z.T,S={};Z.T=S,ig(r,!1,i,o);try{var U=m(),W=Z.S;if(W!==null&&W(S,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var re=j2(U,c);qu(r,i,re,es(r))}else qu(r,i,c,es(r))}catch(oe){qu(r,i,{then:function(){},status:"rejected",reason:oe},es())}finally{te.p=y,Z.T=T}}function z2(){}function sg(r,i,o,c){if(r.tag!==5)throw Error(s(476));var m=lE(r).queue;oE(r,m,i,me,o===null?z2:function(){return uE(r),o(c)})}function lE(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:me},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xr,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function uE(r){var i=lE(r).next.queue;qu(r,i,{},es())}function rg(){return _n(oc)}function cE(){return Ft().memoizedState}function hE(){return Ft().memoizedState}function q2(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=es();r=Vi(o);var c=ki(i,r,o);c!==null&&(ts(c,i,o),ju(c,i,o)),i={cache:Op()},r.payload=i;return}i=i.return}}function H2(r,i,o){var c=es();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},pd(r)?fE(i,o):(o=xp(r,i,o,c),o!==null&&(ts(o,r,c),mE(o,i,c)))}function dE(r,i,o){var c=es();qu(r,i,o,c)}function qu(r,i,o,c){var m={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(pd(r))fE(i,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var T=i.lastRenderedState,S=y(T,o);if(m.hasEagerState=!0,m.eagerState=S,Yn(S,T))return Zh(r,i,m,0),mt===null&&Xh(),!1}catch{}finally{}if(o=xp(r,i,m,c),o!==null)return ts(o,r,c),mE(o,i,c),!0}return!1}function ig(r,i,o,c){if(c={lane:2,revertLane:jg(),action:c,hasEagerState:!1,eagerState:null,next:null},pd(r)){if(i)throw Error(s(479))}else i=xp(r,o,c,2),i!==null&&ts(i,r,2)}function pd(r){var i=r.alternate;return r===qe||i!==null&&i===qe}function fE(r,i){sl=ud=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function mE(r,i,o){if((o&4194048)!==0){var c=i.lanes;c&=r.pendingLanes,o|=c,i.lanes=o,hu(r,o)}}var gd={readContext:_n,use:hd,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt},pE={readContext:_n,use:hd,useCallback:function(r,i){return jn().memoizedState=[r,i===void 0?null:i],r},useContext:_n,useEffect:Zb,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,md(4194308,4,nE.bind(null,i,r),o)},useLayoutEffect:function(r,i){return md(4194308,4,r,i)},useInsertionEffect:function(r,i){md(4,2,r,i)},useMemo:function(r,i){var o=jn();i=i===void 0?null:i;var c=r();if(no){ze(!0);try{r()}finally{ze(!1)}}return o.memoizedState=[c,i],c},useReducer:function(r,i,o){var c=jn();if(o!==void 0){var m=o(i);if(no){ze(!0);try{o(i)}finally{ze(!1)}}}else m=i;return c.memoizedState=c.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},c.queue=r,r=r.dispatch=H2.bind(null,qe,r),[c.memoizedState,r]},useRef:function(r){var i=jn();return r={current:r},i.memoizedState=r},useState:function(r){r=Jp(r);var i=r.queue,o=dE.bind(null,qe,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:tg,useDeferredValue:function(r,i){var o=jn();return ng(o,r,i)},useTransition:function(){var r=Jp(!1);return r=oE.bind(null,qe,r.queue,!0,!1),jn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var c=qe,m=jn();if(nt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),mt===null)throw Error(s(349));(Ze&124)!==0||kb(c,i,o)}m.memoizedState=o;var y={value:o,getSnapshot:i};return m.queue=y,Zb(Lb.bind(null,c,y,r),[r]),c.flags|=2048,il(9,fd(),jb.bind(null,c,y,o,i),null),o},useId:function(){var r=jn(),i=mt.identifierPrefix;if(nt){var o=Wr,c=Kr;o=(c&~(1<<32-at(c)-1)).toString(32)+o,i=""+i+"R"+o,o=cd++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=L2++,i=""+i+"r"+o.toString(32)+"";return r.memoizedState=i},useHostTransitionStatus:rg,useFormState:Kb,useActionState:Kb,useOptimistic:function(r){var i=jn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=ig.bind(null,qe,!0,o),o.dispatch=i,[r,i]},useMemoCache:Qp,useCacheRefresh:function(){return jn().memoizedState=q2.bind(null,qe)}},gE={readContext:_n,use:hd,useCallback:rE,useContext:_n,useEffect:Jb,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:iE,useReducer:dd,useRef:Xb,useState:function(){return dd(Xr)},useDebugValue:tg,useDeferredValue:function(r,i){var o=Ft();return aE(o,ct.memoizedState,r,i)},useTransition:function(){var r=dd(Xr)[0],i=Ft().memoizedState;return[typeof r=="boolean"?r:Fu(r),i]},useSyncExternalStore:Vb,useId:cE,useHostTransitionStatus:rg,useFormState:Wb,useActionState:Wb,useOptimistic:function(r,i){var o=Ft();return Fb(o,ct,r,i)},useMemoCache:Qp,useCacheRefresh:hE},G2={readContext:_n,use:hd,useCallback:rE,useContext:_n,useEffect:Jb,useImperativeHandle:sE,useInsertionEffect:eE,useLayoutEffect:tE,useMemo:iE,useReducer:Zp,useRef:Xb,useState:function(){return Zp(Xr)},useDebugValue:tg,useDeferredValue:function(r,i){var o=Ft();return ct===null?ng(o,r,i):aE(o,ct.memoizedState,r,i)},useTransition:function(){var r=Zp(Xr)[0],i=Ft().memoizedState;return[typeof r=="boolean"?r:Fu(r),i]},useSyncExternalStore:Vb,useId:cE,useHostTransitionStatus:rg,useFormState:Qb,useActionState:Qb,useOptimistic:function(r,i){var o=Ft();return ct!==null?Fb(o,ct,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Qp,useCacheRefresh:hE},al=null,Hu=0;function yd(r){var i=Hu;return Hu+=1,al===null&&(al=[]),Rb(al,r,i)}function Gu(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function vd(r,i){throw i.$$typeof===b?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function yE(r){var i=r._init;return i(r._payload)}function vE(r){function i(G,H){if(r){var K=G.deletions;K===null?(G.deletions=[H],G.flags|=16):K.push(H)}}function o(G,H){if(!r)return null;for(;H!==null;)i(G,H),H=H.sibling;return null}function c(G){for(var H=new Map;G!==null;)G.key!==null?H.set(G.key,G):H.set(G.index,G),G=G.sibling;return H}function m(G,H){return G=$r(G,H),G.index=0,G.sibling=null,G}function y(G,H,K){return G.index=K,r?(K=G.alternate,K!==null?(K=K.index,K<H?(G.flags|=67108866,H):K):(G.flags|=67108866,H)):(G.flags|=1048576,H)}function T(G){return r&&G.alternate===null&&(G.flags|=67108866),G}function S(G,H,K,ie){return H===null||H.tag!==6?(H=Ap(K,G.mode,ie),H.return=G,H):(H=m(H,K),H.return=G,H)}function U(G,H,K,ie){var Te=K.type;return Te===D?re(G,H,K.props.children,ie,K.key):H!==null&&(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&yE(Te)===H.type)?(H=m(H,K.props),Gu(H,K),H.return=G,H):(H=ed(K.type,K.key,K.props,null,G.mode,ie),Gu(H,K),H.return=G,H)}function W(G,H,K,ie){return H===null||H.tag!==4||H.stateNode.containerInfo!==K.containerInfo||H.stateNode.implementation!==K.implementation?(H=Rp(K,G.mode,ie),H.return=G,H):(H=m(H,K.children||[]),H.return=G,H)}function re(G,H,K,ie,Te){return H===null||H.tag!==7?(H=Wa(K,G.mode,ie,Te),H.return=G,H):(H=m(H,K),H.return=G,H)}function oe(G,H,K){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ap(""+H,G.mode,K),H.return=G,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return K=ed(H.type,H.key,H.props,null,G.mode,K),Gu(K,H),K.return=G,K;case x:return H=Rp(H,G.mode,K),H.return=G,H;case A:var ie=H._init;return H=ie(H._payload),oe(G,H,K)}if(xe(H)||I(H))return H=Wa(H,G.mode,K,null),H.return=G,H;if(typeof H.then=="function")return oe(G,yd(H),K);if(H.$$typeof===q)return oe(G,rd(G,H),K);vd(G,H)}return null}function X(G,H,K,ie){var Te=H!==null?H.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Te!==null?null:S(G,H,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case E:return K.key===Te?U(G,H,K,ie):null;case x:return K.key===Te?W(G,H,K,ie):null;case A:return Te=K._init,K=Te(K._payload),X(G,H,K,ie)}if(xe(K)||I(K))return Te!==null?null:re(G,H,K,ie,null);if(typeof K.then=="function")return X(G,H,yd(K),ie);if(K.$$typeof===q)return X(G,H,rd(G,K),ie);vd(G,K)}return null}function J(G,H,K,ie,Te){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(K)||null,S(H,G,""+ie,Te);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case E:return G=G.get(ie.key===null?K:ie.key)||null,U(H,G,ie,Te);case x:return G=G.get(ie.key===null?K:ie.key)||null,W(H,G,ie,Te);case A:var He=ie._init;return ie=He(ie._payload),J(G,H,K,ie,Te)}if(xe(ie)||I(ie))return G=G.get(K)||null,re(H,G,ie,Te,null);if(typeof ie.then=="function")return J(G,H,K,yd(ie),Te);if(ie.$$typeof===q)return J(G,H,K,rd(H,ie),Te);vd(H,ie)}return null}function ke(G,H,K,ie){for(var Te=null,He=null,Re=H,Pe=H=0,rn=null;Re!==null&&Pe<K.length;Pe++){Re.index>Pe?(rn=Re,Re=null):rn=Re.sibling;var et=X(G,Re,K[Pe],ie);if(et===null){Re===null&&(Re=rn);break}r&&Re&&et.alternate===null&&i(G,Re),H=y(et,H,Pe),He===null?Te=et:He.sibling=et,He=et,Re=rn}if(Pe===K.length)return o(G,Re),nt&&Qa(G,Pe),Te;if(Re===null){for(;Pe<K.length;Pe++)Re=oe(G,K[Pe],ie),Re!==null&&(H=y(Re,H,Pe),He===null?Te=Re:He.sibling=Re,He=Re);return nt&&Qa(G,Pe),Te}for(Re=c(Re);Pe<K.length;Pe++)rn=J(Re,G,Pe,K[Pe],ie),rn!==null&&(r&&rn.alternate!==null&&Re.delete(rn.key===null?Pe:rn.key),H=y(rn,H,Pe),He===null?Te=rn:He.sibling=rn,He=rn);return r&&Re.forEach(function(Ji){return i(G,Ji)}),nt&&Qa(G,Pe),Te}function De(G,H,K,ie){if(K==null)throw Error(s(151));for(var Te=null,He=null,Re=H,Pe=H=0,rn=null,et=K.next();Re!==null&&!et.done;Pe++,et=K.next()){Re.index>Pe?(rn=Re,Re=null):rn=Re.sibling;var Ji=X(G,Re,et.value,ie);if(Ji===null){Re===null&&(Re=rn);break}r&&Re&&Ji.alternate===null&&i(G,Re),H=y(Ji,H,Pe),He===null?Te=Ji:He.sibling=Ji,He=Ji,Re=rn}if(et.done)return o(G,Re),nt&&Qa(G,Pe),Te;if(Re===null){for(;!et.done;Pe++,et=K.next())et=oe(G,et.value,ie),et!==null&&(H=y(et,H,Pe),He===null?Te=et:He.sibling=et,He=et);return nt&&Qa(G,Pe),Te}for(Re=c(Re);!et.done;Pe++,et=K.next())et=J(Re,G,Pe,et.value,ie),et!==null&&(r&&et.alternate!==null&&Re.delete(et.key===null?Pe:et.key),H=y(et,H,Pe),He===null?Te=et:He.sibling=et,He=et);return r&&Re.forEach(function($D){return i(G,$D)}),nt&&Qa(G,Pe),Te}function dt(G,H,K,ie){if(typeof K=="object"&&K!==null&&K.type===D&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case E:e:{for(var Te=K.key;H!==null;){if(H.key===Te){if(Te=K.type,Te===D){if(H.tag===7){o(G,H.sibling),ie=m(H,K.props.children),ie.return=G,G=ie;break e}}else if(H.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&yE(Te)===H.type){o(G,H.sibling),ie=m(H,K.props),Gu(ie,K),ie.return=G,G=ie;break e}o(G,H);break}else i(G,H);H=H.sibling}K.type===D?(ie=Wa(K.props.children,G.mode,ie,K.key),ie.return=G,G=ie):(ie=ed(K.type,K.key,K.props,null,G.mode,ie),Gu(ie,K),ie.return=G,G=ie)}return T(G);case x:e:{for(Te=K.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===K.containerInfo&&H.stateNode.implementation===K.implementation){o(G,H.sibling),ie=m(H,K.children||[]),ie.return=G,G=ie;break e}else{o(G,H);break}else i(G,H);H=H.sibling}ie=Rp(K,G.mode,ie),ie.return=G,G=ie}return T(G);case A:return Te=K._init,K=Te(K._payload),dt(G,H,K,ie)}if(xe(K))return ke(G,H,K,ie);if(I(K)){if(Te=I(K),typeof Te!="function")throw Error(s(150));return K=Te.call(K),De(G,H,K,ie)}if(typeof K.then=="function")return dt(G,H,yd(K),ie);if(K.$$typeof===q)return dt(G,H,rd(G,K),ie);vd(G,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,H!==null&&H.tag===6?(o(G,H.sibling),ie=m(H,K),ie.return=G,G=ie):(o(G,H),ie=Ap(K,G.mode,ie),ie.return=G,G=ie),T(G)):o(G,H)}return function(G,H,K,ie){try{Hu=0;var Te=dt(G,H,K,ie);return al=null,Te}catch(Re){if(Re===Vu||Re===ad)throw Re;var He=Qn(29,Re,null,G.mode);return He.lanes=ie,He.return=G,He}finally{}}}var ol=vE(!0),_E=vE(!1),gs=ue(null),lr=null;function Li(r){var i=r.alternate;he(Zt,Zt.current&1),he(gs,r),lr===null&&(i===null||nl.current!==null||i.memoizedState!==null)&&(lr=r)}function bE(r){if(r.tag===22){if(he(Zt,Zt.current),he(gs,r),lr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(lr=r)}}else Ui()}function Ui(){he(Zt,Zt.current),he(gs,gs.current)}function Zr(r){ge(gs),lr===r&&(lr=null),ge(Zt)}var Zt=ue(0);function _d(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Yg(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function ag(r,i,o,c){i=r.memoizedState,o=o(c,i),o=o==null?i:g({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var og={enqueueSetState:function(r,i,o){r=r._reactInternals;var c=es(),m=Vi(c);m.payload=i,o!=null&&(m.callback=o),i=ki(r,m,c),i!==null&&(ts(i,r,c),ju(i,r,c))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var c=es(),m=Vi(c);m.tag=1,m.payload=i,o!=null&&(m.callback=o),i=ki(r,m,c),i!==null&&(ts(i,r,c),ju(i,r,c))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=es(),c=Vi(o);c.tag=2,i!=null&&(c.callback=i),i=ki(r,c,o),i!==null&&(ts(i,r,o),ju(i,r,o))}};function EE(r,i,o,c,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,T):i.prototype&&i.prototype.isPureReactComponent?!Ru(o,c)||!Ru(m,y):!0}function wE(r,i,o,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==r&&og.enqueueReplaceState(i,i.state,null)}function so(r,i){var o=i;if("ref"in i){o={};for(var c in i)c!=="ref"&&(o[c]=i[c])}if(r=r.defaultProps){o===i&&(o=g({},o));for(var m in r)o[m]===void 0&&(o[m]=r[m])}return o}var bd=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function TE(r){bd(r)}function xE(r){console.error(r)}function SE(r){bd(r)}function Ed(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function AE(r,i,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function lg(r,i,o){return o=Vi(o),o.tag=3,o.payload={element:null},o.callback=function(){Ed(r,i)},o}function RE(r){return r=Vi(r),r.tag=3,r}function CE(r,i,o,c){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;r.payload=function(){return m(y)},r.callback=function(){AE(i,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){AE(i,o,c),typeof m!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function $2(r,i,o,c,m){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=o.alternate,i!==null&&Pu(i,o,m,!0),o=gs.current,o!==null){switch(o.tag){case 13:return lr===null?Pg():o.alternate===null&&Ct===0&&(Ct=3),o.flags&=-257,o.flags|=65536,o.lanes=m,c===jp?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([c]):i.add(c),Og(r,c,m)),!1;case 22:return o.flags|=65536,c===jp?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([c]):o.add(c)),Og(r,c,m)),!1}throw Error(s(435,o.tag))}return Og(r,c,m),Pg(),!1}if(nt)return i=gs.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Np&&(r=Error(s(422),{cause:c}),Du(ds(r,o)))):(c!==Np&&(i=Error(s(423),{cause:c}),Du(ds(i,o))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,c=ds(c,o),m=lg(r.stateNode,c,m),Bp(r,m),Ct!==4&&(Ct=2)),!1;var y=Error(s(520),{cause:c});if(y=ds(y,o),Zu===null?Zu=[y]:Zu.push(y),Ct!==4&&(Ct=2),i===null)return!0;c=ds(c,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=m&-m,o.lanes|=r,r=lg(o.stateNode,c,r),Bp(o,r),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Gi===null||!Gi.has(y))))return o.flags|=65536,m&=-m,o.lanes|=m,m=RE(m),CE(m,r,o,c),Bp(o,m),!1}o=o.return}while(o!==null);return!1}var IE=Error(s(461)),nn=!1;function cn(r,i,o,c){i.child=r===null?_E(i,null,o,c):ol(i,r.child,o,c)}function NE(r,i,o,c,m){o=o.render;var y=i.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return eo(i),c=Gp(r,i,o,T,y,m),S=$p(),r!==null&&!nn?(Kp(r,i,m),Jr(r,i,m)):(nt&&S&&Cp(i),i.flags|=1,cn(r,i,c,m),i.child)}function DE(r,i,o,c,m){if(r===null){var y=o.type;return typeof y=="function"&&!Sp(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,PE(r,i,y,c,m)):(r=ed(o.type,null,c,i,i.mode,m),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,!gg(r,m)){var T=y.memoizedProps;if(o=o.compare,o=o!==null?o:Ru,o(T,c)&&r.ref===i.ref)return Jr(r,i,m)}return i.flags|=1,r=$r(y,c),r.ref=i.ref,r.return=i,i.child=r}function PE(r,i,o,c,m){if(r!==null){var y=r.memoizedProps;if(Ru(y,c)&&r.ref===i.ref)if(nn=!1,i.pendingProps=c=y,gg(r,m))(r.flags&131072)!==0&&(nn=!0);else return i.lanes=r.lanes,Jr(r,i,m)}return ug(r,i,o,c,m)}function ME(r,i,o){var c=i.pendingProps,m=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(m=i.child=r.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~c}else i.childLanes=0,i.child=null;return OE(r,i,c,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&id(i,y!==null?y.cachePool:null),y!==null?Pb(i,y):zp(),bE(i);else return i.lanes=i.childLanes=536870912,OE(r,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(id(i,y.cachePool),Pb(i,y),Ui(),i.memoizedState=null):(r!==null&&id(i,null),zp(),Ui());return cn(r,i,m,o),i.child}function OE(r,i,o,c){var m=kp();return m=m===null?null:{parent:Xt._currentValue,pool:m},i.memoizedState={baseLanes:o,cachePool:m},r!==null&&id(i,null),zp(),bE(i),r!==null&&Pu(r,i,c,!0),null}function wd(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function ug(r,i,o,c,m){return eo(i),o=Gp(r,i,o,c,void 0,m),c=$p(),r!==null&&!nn?(Kp(r,i,m),Jr(r,i,m)):(nt&&c&&Cp(i),i.flags|=1,cn(r,i,o,m),i.child)}function VE(r,i,o,c,m,y){return eo(i),i.updateQueue=null,o=Ob(i,c,o,m),Mb(r),c=$p(),r!==null&&!nn?(Kp(r,i,y),Jr(r,i,y)):(nt&&c&&Cp(i),i.flags|=1,cn(r,i,o,y),i.child)}function kE(r,i,o,c,m){if(eo(i),i.stateNode===null){var y=Xo,T=o.contextType;typeof T=="object"&&T!==null&&(y=_n(T)),y=new o(c,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=og,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=c,y.state=i.memoizedState,y.refs={},Lp(i),T=o.contextType,y.context=typeof T=="object"&&T!==null?_n(T):Xo,y.state=i.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ag(i,o,T,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(T=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),T!==y.state&&og.enqueueReplaceState(y,y.state,null),Uu(i,c,y,m),Lu(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(r===null){y=i.stateNode;var S=i.memoizedProps,U=so(o,S);y.props=U;var W=y.context,re=o.contextType;T=Xo,typeof re=="object"&&re!==null&&(T=_n(re));var oe=o.getDerivedStateFromProps;re=typeof oe=="function"||typeof y.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,re||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(S||W!==T)&&wE(i,y,c,T),Oi=!1;var X=i.memoizedState;y.state=X,Uu(i,c,y,m),Lu(),W=i.memoizedState,S||X!==W||Oi?(typeof oe=="function"&&(ag(i,o,oe,c),W=i.memoizedState),(U=Oi||EE(i,o,U,c,X,W,T))?(re||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=W),y.props=c,y.state=W,y.context=T,c=U):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{y=i.stateNode,Up(r,i),T=i.memoizedProps,re=so(o,T),y.props=re,oe=i.pendingProps,X=y.context,W=o.contextType,U=Xo,typeof W=="object"&&W!==null&&(U=_n(W)),S=o.getDerivedStateFromProps,(W=typeof S=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T!==oe||X!==U)&&wE(i,y,c,U),Oi=!1,X=i.memoizedState,y.state=X,Uu(i,c,y,m),Lu();var J=i.memoizedState;T!==oe||X!==J||Oi||r!==null&&r.dependencies!==null&&sd(r.dependencies)?(typeof S=="function"&&(ag(i,o,S,c),J=i.memoizedState),(re=Oi||EE(i,o,re,c,X,J,U)||r!==null&&r.dependencies!==null&&sd(r.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,J,U),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,J,U)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=J),y.props=c,y.state=J,y.context=U,c=re):(typeof y.componentDidUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&X===r.memoizedState||(i.flags|=1024),c=!1)}return y=c,wd(r,i),c=(i.flags&128)!==0,y||c?(y=i.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,r!==null&&c?(i.child=ol(i,r.child,null,m),i.child=ol(i,null,o,m)):cn(r,i,o,m),i.memoizedState=y.state,r=i.child):r=Jr(r,i,m),r}function jE(r,i,o,c){return Nu(),i.flags|=256,cn(r,i,o,c),i.child}var cg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hg(r){return{baseLanes:r,cachePool:xb()}}function dg(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=ys),r}function LE(r,i,o){var c=i.pendingProps,m=!1,y=(i.flags&128)!==0,T;if((T=y)||(T=r!==null&&r.memoizedState===null?!1:(Zt.current&2)!==0),T&&(m=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,r===null){if(nt){if(m?Li(i):Ui(),nt){var S=Rt,U;if(U=S){e:{for(U=S,S=or;U.nodeType!==8;){if(!S){S=null;break e}if(U=Vs(U.nextSibling),U===null){S=null;break e}}S=U}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ya!==null?{id:Kr,overflow:Wr}:null,retryLane:536870912,hydrationErrors:null},U=Qn(18,null,null,0),U.stateNode=S,U.return=i,i.child=U,Dn=i,Rt=null,U=!0):U=!1}U||Za(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Yg(S)?i.lanes=32:i.lanes=536870912,null;Zr(i)}return S=c.children,c=c.fallback,m?(Ui(),m=i.mode,S=Td({mode:"hidden",children:S},m),c=Wa(c,m,o,null),S.return=i,c.return=i,S.sibling=c,i.child=S,m=i.child,m.memoizedState=hg(o),m.childLanes=dg(r,T,o),i.memoizedState=cg,c):(Li(i),fg(i,S))}if(U=r.memoizedState,U!==null&&(S=U.dehydrated,S!==null)){if(y)i.flags&256?(Li(i),i.flags&=-257,i=mg(r,i,o)):i.memoizedState!==null?(Ui(),i.child=r.child,i.flags|=128,i=null):(Ui(),m=c.fallback,S=i.mode,c=Td({mode:"visible",children:c.children},S),m=Wa(m,S,o,null),m.flags|=2,c.return=i,m.return=i,c.sibling=m,i.child=c,ol(i,r.child,null,o),c=i.child,c.memoizedState=hg(o),c.childLanes=dg(r,T,o),i.memoizedState=cg,i=m);else if(Li(i),Yg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var W=T.dgst;T=W,c=Error(s(419)),c.stack="",c.digest=T,Du({value:c,source:null,stack:null}),i=mg(r,i,o)}else if(nn||Pu(r,i,o,!1),T=(o&r.childLanes)!==0,nn||T){if(T=mt,T!==null&&(c=o&-o,c=(c&42)!==0?1:Ai(c),c=(c&(T.suspendedLanes|o))!==0?0:c,c!==0&&c!==U.retryLane))throw U.retryLane=c,Qo(r,c),ts(T,r,c),IE;S.data==="$?"||Pg(),i=mg(r,i,o)}else S.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=U.treeContext,Rt=Vs(S.nextSibling),Dn=i,nt=!0,Xa=null,or=!1,r!==null&&(ms[ps++]=Kr,ms[ps++]=Wr,ms[ps++]=Ya,Kr=r.id,Wr=r.overflow,Ya=i),i=fg(i,c.children),i.flags|=4096);return i}return m?(Ui(),m=c.fallback,S=i.mode,U=r.child,W=U.sibling,c=$r(U,{mode:"hidden",children:c.children}),c.subtreeFlags=U.subtreeFlags&65011712,W!==null?m=$r(W,m):(m=Wa(m,S,o,null),m.flags|=2),m.return=i,c.return=i,c.sibling=m,i.child=c,c=m,m=i.child,S=r.child.memoizedState,S===null?S=hg(o):(U=S.cachePool,U!==null?(W=Xt._currentValue,U=U.parent!==W?{parent:W,pool:W}:U):U=xb(),S={baseLanes:S.baseLanes|o,cachePool:U}),m.memoizedState=S,m.childLanes=dg(r,T,o),i.memoizedState=cg,c):(Li(i),o=r.child,r=o.sibling,o=$r(o,{mode:"visible",children:c.children}),o.return=i,o.sibling=null,r!==null&&(T=i.deletions,T===null?(i.deletions=[r],i.flags|=16):T.push(r)),i.child=o,i.memoizedState=null,o)}function fg(r,i){return i=Td({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Td(r,i){return r=Qn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function mg(r,i,o){return ol(i,r.child,null,o),r=fg(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function UE(r,i,o){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Pp(r.return,i,o)}function pg(r,i,o,c,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=m)}function BE(r,i,o){var c=i.pendingProps,m=c.revealOrder,y=c.tail;if(cn(r,i,c.children,o),c=Zt.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&UE(r,o,i);else if(r.tag===19)UE(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(he(Zt,c),m){case"forwards":for(o=i.child,m=null;o!==null;)r=o.alternate,r!==null&&_d(r)===null&&(m=o),o=o.sibling;o=m,o===null?(m=i.child,i.child=null):(m=o.sibling,o.sibling=null),pg(i,!1,m,o,y);break;case"backwards":for(o=null,m=i.child,i.child=null;m!==null;){if(r=m.alternate,r!==null&&_d(r)===null){i.child=m;break}r=m.sibling,m.sibling=o,o=m,m=r}pg(i,!0,o,null,y);break;case"together":pg(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Jr(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),Hi|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(Pu(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=$r(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=$r(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function gg(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&sd(r)))}function K2(r,i,o){switch(i.tag){case 3:it(i,i.stateNode.containerInfo),Mi(i,Xt,r.memoizedState.cache),Nu();break;case 27:case 5:is(i);break;case 4:it(i,i.stateNode.containerInfo);break;case 10:Mi(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Li(i),i.flags|=128,null):(o&i.child.childLanes)!==0?LE(r,i,o):(Li(i),r=Jr(r,i,o),r!==null?r.sibling:null);Li(i);break;case 19:var m=(r.flags&128)!==0;if(c=(o&i.childLanes)!==0,c||(Pu(r,i,o,!1),c=(o&i.childLanes)!==0),m){if(c)return BE(r,i,o);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),he(Zt,Zt.current),c)break;return null;case 22:case 23:return i.lanes=0,ME(r,i,o);case 24:Mi(i,Xt,r.memoizedState.cache)}return Jr(r,i,o)}function FE(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)nn=!0;else{if(!gg(r,o)&&(i.flags&128)===0)return nn=!1,K2(r,i,o);nn=(r.flags&131072)!==0}else nn=!1,nt&&(i.flags&1048576)!==0&&yb(i,nd,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var c=i.elementType,m=c._init;if(c=m(c._payload),i.type=c,typeof c=="function")Sp(c)?(r=so(c,r),i.tag=1,i=kE(null,i,c,r,o)):(i.tag=0,i=ug(null,i,c,r,o));else{if(c!=null){if(m=c.$$typeof,m===se){i.tag=11,i=NE(null,i,c,r,o);break e}else if(m===j){i.tag=14,i=DE(null,i,c,r,o);break e}}throw i=ve(c)||c,Error(s(306,i,""))}}return i;case 0:return ug(r,i,i.type,i.pendingProps,o);case 1:return c=i.type,m=so(c,i.pendingProps),kE(r,i,c,m,o);case 3:e:{if(it(i,i.stateNode.containerInfo),r===null)throw Error(s(387));c=i.pendingProps;var y=i.memoizedState;m=y.element,Up(r,i),Uu(i,c,null,o);var T=i.memoizedState;if(c=T.cache,Mi(i,Xt,c),c!==y.cache&&Mp(i,[Xt],o,!0),Lu(),c=T.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=jE(r,i,c,o);break e}else if(c!==m){m=ds(Error(s(424)),i),Du(m),i=jE(r,i,c,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Rt=Vs(r.firstChild),Dn=i,nt=!0,Xa=null,or=!0,o=_E(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Nu(),c===m){i=Jr(r,i,o);break e}cn(r,i,c,o)}i=i.child}return i;case 26:return wd(r,i),r===null?(o=Gw(i.type,null,i.pendingProps,null))?i.memoizedState=o:nt||(o=i.type,r=i.pendingProps,c=jd(Ve.current).createElement(o),c[Wt]=i,c[Lt]=r,dn(c,o,r),Nt(c),i.stateNode=c):i.memoizedState=Gw(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return is(i),r===null&&nt&&(c=i.stateNode=zw(i.type,i.pendingProps,Ve.current),Dn=i,or=!0,m=Rt,Wi(i.type)?(Qg=m,Rt=Vs(c.firstChild)):Rt=m),cn(r,i,i.pendingProps.children,o),wd(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&nt&&((m=c=Rt)&&(c=ED(c,i.type,i.pendingProps,or),c!==null?(i.stateNode=c,Dn=i,Rt=Vs(c.firstChild),or=!1,m=!0):m=!1),m||Za(i)),is(i),m=i.type,y=i.pendingProps,T=r!==null?r.memoizedProps:null,c=y.children,$g(m,y)?c=null:T!==null&&$g(m,T)&&(i.flags|=32),i.memoizedState!==null&&(m=Gp(r,i,U2,null,null,o),oc._currentValue=m),wd(r,i),cn(r,i,c,o),i.child;case 6:return r===null&&nt&&((r=o=Rt)&&(o=wD(o,i.pendingProps,or),o!==null?(i.stateNode=o,Dn=i,Rt=null,r=!0):r=!1),r||Za(i)),null;case 13:return LE(r,i,o);case 4:return it(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=ol(i,null,c,o):cn(r,i,c,o),i.child;case 11:return NE(r,i,i.type,i.pendingProps,o);case 7:return cn(r,i,i.pendingProps,o),i.child;case 8:return cn(r,i,i.pendingProps.children,o),i.child;case 12:return cn(r,i,i.pendingProps.children,o),i.child;case 10:return c=i.pendingProps,Mi(i,i.type,c.value),cn(r,i,c.children,o),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,eo(i),m=_n(m),c=c(m),i.flags|=1,cn(r,i,c,o),i.child;case 14:return DE(r,i,i.type,i.pendingProps,o);case 15:return PE(r,i,i.type,i.pendingProps,o);case 19:return BE(r,i,o);case 31:return c=i.pendingProps,o=i.mode,c={mode:c.mode,children:c.children},r===null?(o=Td(c,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=$r(r.child,c),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return ME(r,i,o);case 24:return eo(i),c=_n(Xt),r===null?(m=kp(),m===null&&(m=mt,y=Op(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=o),m=y),i.memoizedState={parent:c,cache:m},Lp(i),Mi(i,Xt,m)):((r.lanes&o)!==0&&(Up(r,i),Uu(i,null,null,o),Lu()),m=r.memoizedState,y=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Mi(i,Xt,c)):(c=y.cache,Mi(i,Xt,c),c!==m.cache&&Mp(i,[Xt],o,!0))),cn(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ei(r){r.flags|=4}function zE(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Qw(i)){if(i=gs.current,i!==null&&((Ze&4194048)===Ze?lr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||i!==lr))throw ku=jp,Sb;r.flags|=8192}}function xd(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?uu():536870912,r.lanes|=i,hl|=i)}function $u(r,i){if(!nt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Tt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(i)for(var m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)o|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=c,r.childLanes=o,i}function W2(r,i,o){var c=i.pendingProps;switch(Ip(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(i),null;case 1:return Tt(i),null;case 3:return o=i.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Qr(Xt),Vn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Iu(i)?ei(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,bb())),Tt(i),null;case 26:return o=i.memoizedState,r===null?(ei(i),o!==null?(Tt(i),zE(i,o)):(Tt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(ei(i),Tt(i),zE(i,o)):(Tt(i),i.flags&=-16777217):(r.memoizedProps!==c&&ei(i),Tt(i),i.flags&=-16777217),null;case 27:Cs(i),o=Ve.current;var m=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==c&&ei(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}r=Ce.current,Iu(i)?vb(i):(r=zw(m,c,o),i.stateNode=r,ei(i))}return Tt(i),null;case 5:if(Cs(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==c&&ei(i);else{if(!c){if(i.stateNode===null)throw Error(s(166));return Tt(i),null}if(r=Ce.current,Iu(i))vb(i);else{switch(m=jd(Ve.current),r){case 1:r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=m.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?m.createElement(o,{is:c.is}):m.createElement(o)}}r[Wt]=i,r[Lt]=c;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)r.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=r;e:switch(dn(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ei(i)}}return Tt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==c&&ei(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(s(166));if(r=Ve.current,Iu(i)){if(r=i.stateNode,o=i.memoizedProps,c=null,m=Dn,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}r[Wt]=i,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Vw(r.nodeValue,o)),r||Za(i)}else r=jd(r).createTextNode(c),r[Wt]=i,i.stateNode=r}return Tt(i),null;case 13:if(c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=Iu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Wt]=i}else Nu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Tt(i),m=!1}else m=bb(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Zr(i),i):(Zr(i),null)}if(Zr(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),xd(i,i.updateQueue),Tt(i),null;case 4:return Vn(),r===null&&Fg(i.stateNode.containerInfo),Tt(i),null;case 10:return Qr(i.type),Tt(i),null;case 19:if(ge(Zt),m=i.memoizedState,m===null)return Tt(i),null;if(c=(i.flags&128)!==0,y=m.rendering,y===null)if(c)$u(m,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(y=_d(r),y!==null){for(i.flags|=128,$u(m,!1),r=y.updateQueue,i.updateQueue=r,xd(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)gb(o,r),o=o.sibling;return he(Zt,Zt.current&1|2),i.child}r=r.sibling}m.tail!==null&&kn()>Rd&&(i.flags|=128,c=!0,$u(m,!1),i.lanes=4194304)}else{if(!c)if(r=_d(y),r!==null){if(i.flags|=128,c=!0,r=r.updateQueue,i.updateQueue=r,xd(i,r),$u(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!nt)return Tt(i),null}else 2*kn()-m.renderingStartTime>Rd&&o!==536870912&&(i.flags|=128,c=!0,$u(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(r=m.last,r!==null?r.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=kn(),i.sibling=null,r=Zt.current,he(Zt,c?r&1|2:r&1),i):(Tt(i),null);case 22:case 23:return Zr(i),qp(),c=i.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(o&536870912)!==0&&(i.flags&128)===0&&(Tt(i),i.subtreeFlags&6&&(i.flags|=8192)):Tt(i),o=i.updateQueue,o!==null&&xd(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==o&&(i.flags|=2048),r!==null&&ge(to),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Qr(Xt),Tt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Y2(r,i){switch(Ip(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Qr(Xt),Vn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return Cs(i),null;case 13:if(Zr(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Nu()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return ge(Zt),null;case 4:return Vn(),null;case 10:return Qr(i.type),null;case 22:case 23:return Zr(i),qp(),r!==null&&ge(to),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return Qr(Xt),null;case 25:return null;default:return null}}function qE(r,i){switch(Ip(i),i.tag){case 3:Qr(Xt),Vn();break;case 26:case 27:case 5:Cs(i);break;case 4:Vn();break;case 13:Zr(i);break;case 19:ge(Zt);break;case 10:Qr(i.type);break;case 22:case 23:Zr(i),qp(),r!==null&&ge(to);break;case 24:Qr(Xt)}}function Ku(r,i){try{var o=i.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var m=c.next;o=m;do{if((o.tag&r)===r){c=void 0;var y=o.create,T=o.inst;c=y(),T.destroy=c}o=o.next}while(o!==m)}}catch(S){ft(i,i.return,S)}}function Bi(r,i,o){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&r)===r){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,m=i;var U=o,W=S;try{W()}catch(re){ft(m,U,re)}}}c=c.next}while(c!==y)}}catch(re){ft(i,i.return,re)}}function HE(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Db(i,o)}catch(c){ft(r,r.return,c)}}}function GE(r,i,o){o.props=so(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){ft(r,i,c)}}function Wu(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(m){ft(r,i,m)}}function ur(r,i){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(m){ft(r,i,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){ft(r,i,m)}else o.current=null}function $E(r){var i=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(m){ft(r,r.return,m)}}function yg(r,i,o){try{var c=r.stateNode;gD(c,r.type,o,i),c[Lt]=i}catch(m){ft(r,r.return,m)}}function KE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Wi(r.type)||r.tag===4}function vg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||KE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Wi(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _g(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=kd));else if(c!==4&&(c===27&&Wi(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(_g(r,i,o),r=r.sibling;r!==null;)_g(r,i,o),r=r.sibling}function Sd(r,i,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(c!==4&&(c===27&&Wi(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Sd(r,i,o),r=r.sibling;r!==null;)Sd(r,i,o),r=r.sibling}function WE(r){var i=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);dn(i,c,o),i[Wt]=r,i[Lt]=o}catch(y){ft(r,r.return,y)}}var ti=!1,Pt=!1,bg=!1,YE=typeof WeakSet=="function"?WeakSet:Set,sn=null;function Q2(r,i){if(r=r.containerInfo,Hg=qd,r=ab(r),vp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var T=0,S=-1,U=-1,W=0,re=0,oe=r,X=null;t:for(;;){for(var J;oe!==o||m!==0&&oe.nodeType!==3||(S=T+m),oe!==y||c!==0&&oe.nodeType!==3||(U=T+c),oe.nodeType===3&&(T+=oe.nodeValue.length),(J=oe.firstChild)!==null;)X=oe,oe=J;for(;;){if(oe===r)break t;if(X===o&&++W===m&&(S=T),X===y&&++re===c&&(U=T),(J=oe.nextSibling)!==null)break;oe=X,X=oe.parentNode}oe=J}o=S===-1||U===-1?null:{start:S,end:U}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gg={focusedElem:r,selectionRange:o},qd=!1,sn=i;sn!==null;)if(i=sn,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,sn=r;else for(;sn!==null;){switch(i=sn,y=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=i,m=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=so(o.type,m,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(De){ft(o,o.return,De)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Wg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Wg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,sn=r;break}sn=i.return}}function QE(r,i,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fi(r,o),c&4&&Ku(5,o);break;case 1:if(Fi(r,o),c&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(T){ft(o,o.return,T)}else{var m=so(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(m,i,r.__reactInternalSnapshotBeforeUpdate)}catch(T){ft(o,o.return,T)}}c&64&&HE(o),c&512&&Wu(o,o.return);break;case 3:if(Fi(r,o),c&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Db(r,i)}catch(T){ft(o,o.return,T)}}break;case 27:i===null&&c&4&&WE(o);case 26:case 5:Fi(r,o),i===null&&c&4&&$E(o),c&512&&Wu(o,o.return);break;case 12:Fi(r,o);break;case 13:Fi(r,o),c&4&&JE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=iD.bind(null,o),TD(r,o))));break;case 22:if(c=o.memoizedState!==null||ti,!c){i=i!==null&&i.memoizedState!==null||Pt,m=ti;var y=Pt;ti=c,(Pt=i)&&!y?zi(r,o,(o.subtreeFlags&8772)!==0):Fi(r,o),ti=m,Pt=y}break;case 30:break;default:Fi(r,o)}}function XE(r){var i=r.alternate;i!==null&&(r.alternate=null,XE(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Ii(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,Ln=!1;function ni(r,i,o){for(o=o.child;o!==null;)ZE(r,i,o),o=o.sibling}function ZE(r,i,o){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(ye,o)}catch{}switch(o.tag){case 26:Pt||ur(o,i),ni(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Pt||ur(o,i);var c=vt,m=Ln;Wi(o.type)&&(vt=o.stateNode,Ln=!1),ni(r,i,o),sc(o.stateNode),vt=c,Ln=m;break;case 5:Pt||ur(o,i);case 6:if(c=vt,m=Ln,vt=null,ni(r,i,o),vt=c,Ln=m,vt!==null)if(Ln)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(o.stateNode)}catch(y){ft(o,i,y)}else try{vt.removeChild(o.stateNode)}catch(y){ft(o,i,y)}break;case 18:vt!==null&&(Ln?(r=vt,Bw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),hc(r)):Bw(vt,o.stateNode));break;case 4:c=vt,m=Ln,vt=o.stateNode.containerInfo,Ln=!0,ni(r,i,o),vt=c,Ln=m;break;case 0:case 11:case 14:case 15:Pt||Bi(2,o,i),Pt||Bi(4,o,i),ni(r,i,o);break;case 1:Pt||(ur(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"&&GE(o,i,c)),ni(r,i,o);break;case 21:ni(r,i,o);break;case 22:Pt=(c=Pt)||o.memoizedState!==null,ni(r,i,o),Pt=c;break;default:ni(r,i,o)}}function JE(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{hc(r)}catch(o){ft(i,i.return,o)}}function X2(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new YE),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new YE),i;default:throw Error(s(435,r.tag))}}function Eg(r,i){var o=X2(r);i.forEach(function(c){var m=aD.bind(null,r,c);o.has(c)||(o.add(c),c.then(m,m))})}function Xn(r,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var m=o[c],y=r,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Wi(S.type)){vt=S.stateNode,Ln=!1;break e}break;case 5:vt=S.stateNode,Ln=!1;break e;case 3:case 4:vt=S.stateNode.containerInfo,Ln=!0;break e}S=S.return}if(vt===null)throw Error(s(160));ZE(y,T,m),vt=null,Ln=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ew(i,r),i=i.sibling}var Os=null;function ew(r,i){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Xn(i,r),Zn(r),c&4&&(Bi(3,r,r.return),Ku(3,r),Bi(5,r,r.return));break;case 1:Xn(i,r),Zn(r),c&512&&(Pt||o===null||ur(o,o.return)),c&64&&ti&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var m=Os;if(Xn(i,r),Zn(r),c&512&&(Pt||o===null||ur(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Pa]||y[Wt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),dn(y,c,o),y[Wt]=r,Nt(y),c=y;break e;case"link":var T=Ww("link","href",m).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(y=T[S],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break t}}y=m.createElement(c),dn(y,c,o),m.head.appendChild(y);break;case"meta":if(T=Ww("meta","content",m).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(y=T[S],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break t}}y=m.createElement(c),dn(y,c,o),m.head.appendChild(y);break;default:throw Error(s(468,c))}y[Wt]=r,Nt(y),c=y}r.stateNode=c}else Yw(m,r.type,r.stateNode);else r.stateNode=Kw(m,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?Yw(m,r.type,r.stateNode):Kw(m,c,r.memoizedProps)):c===null&&r.stateNode!==null&&yg(r,r.memoizedProps,o.memoizedProps)}break;case 27:Xn(i,r),Zn(r),c&512&&(Pt||o===null||ur(o,o.return)),o!==null&&c&4&&yg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Xn(i,r),Zn(r),c&512&&(Pt||o===null||ur(o,o.return)),r.flags&32){m=r.stateNode;try{ls(m,"")}catch(J){ft(r,r.return,J)}}c&4&&r.stateNode!=null&&(m=r.memoizedProps,yg(r,m,o!==null?o.memoizedProps:m)),c&1024&&(bg=!0);break;case 6:if(Xn(i,r),Zn(r),c&4){if(r.stateNode===null)throw Error(s(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(J){ft(r,r.return,J)}}break;case 3:if(Bd=null,m=Os,Os=Ld(i.containerInfo),Xn(i,r),Os=m,Zn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{hc(i.containerInfo)}catch(J){ft(r,r.return,J)}bg&&(bg=!1,tw(r));break;case 4:c=Os,Os=Ld(r.stateNode.containerInfo),Xn(i,r),Zn(r),Os=c;break;case 12:Xn(i,r),Zn(r);break;case 13:Xn(i,r),Zn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Rg=kn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Eg(r,c)));break;case 22:m=r.memoizedState!==null;var U=o!==null&&o.memoizedState!==null,W=ti,re=Pt;if(ti=W||m,Pt=re||U,Xn(i,r),Pt=re,ti=W,Zn(r),c&8192)e:for(i=r.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(o===null||U||ti||Pt||ro(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){U=o=i;try{if(y=U.stateNode,m)T=y.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=U.stateNode;var oe=U.memoizedProps.style,X=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;S.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(J){ft(U,U.return,J)}}}else if(i.tag===6){if(o===null){U=i;try{U.stateNode.nodeValue=m?"":U.memoizedProps}catch(J){ft(U,U.return,J)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Eg(r,o))));break;case 19:Xn(i,r),Zn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Eg(r,c)));break;case 30:break;case 21:break;default:Xn(i,r),Zn(r)}}function Zn(r){var i=r.flags;if(i&2){try{for(var o,c=r.return;c!==null;){if(KE(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,y=vg(r);Sd(r,y,m);break;case 5:var T=o.stateNode;o.flags&32&&(ls(T,""),o.flags&=-33);var S=vg(r);Sd(r,S,T);break;case 3:case 4:var U=o.stateNode.containerInfo,W=vg(r);_g(r,W,U);break;default:throw Error(s(161))}}catch(re){ft(r,r.return,re)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function tw(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;tw(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function Fi(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)QE(r,i.alternate,i),i=i.sibling}function ro(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:Bi(4,i,i.return),ro(i);break;case 1:ur(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&GE(i,i.return,o),ro(i);break;case 27:sc(i.stateNode);case 26:case 5:ur(i,i.return),ro(i);break;case 22:i.memoizedState===null&&ro(i);break;case 30:ro(i);break;default:ro(i)}r=r.sibling}}function zi(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=r,y=i,T=y.flags;switch(y.tag){case 0:case 11:case 15:zi(m,y,o),Ku(4,y);break;case 1:if(zi(m,y,o),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(W){ft(c,c.return,W)}if(c=y,m=c.updateQueue,m!==null){var S=c.stateNode;try{var U=m.shared.hiddenCallbacks;if(U!==null)for(m.shared.hiddenCallbacks=null,m=0;m<U.length;m++)Nb(U[m],S)}catch(W){ft(c,c.return,W)}}o&&T&64&&HE(y),Wu(y,y.return);break;case 27:WE(y);case 26:case 5:zi(m,y,o),o&&c===null&&T&4&&$E(y),Wu(y,y.return);break;case 12:zi(m,y,o);break;case 13:zi(m,y,o),o&&T&4&&JE(m,y);break;case 22:y.memoizedState===null&&zi(m,y,o),Wu(y,y.return);break;case 30:break;default:zi(m,y,o)}i=i.sibling}}function wg(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Mu(o))}function Tg(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Mu(r))}function cr(r,i,o,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nw(r,i,o,c),i=i.sibling}function nw(r,i,o,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:cr(r,i,o,c),m&2048&&Ku(9,i);break;case 1:cr(r,i,o,c);break;case 3:cr(r,i,o,c),m&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Mu(r)));break;case 12:if(m&2048){cr(r,i,o,c),r=i.stateNode;try{var y=i.memoizedProps,T=y.id,S=y.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(U){ft(i,i.return,U)}}else cr(r,i,o,c);break;case 13:cr(r,i,o,c);break;case 23:break;case 22:y=i.stateNode,T=i.alternate,i.memoizedState!==null?y._visibility&2?cr(r,i,o,c):Yu(r,i):y._visibility&2?cr(r,i,o,c):(y._visibility|=2,ll(r,i,o,c,(i.subtreeFlags&10256)!==0)),m&2048&&wg(T,i);break;case 24:cr(r,i,o,c),m&2048&&Tg(i.alternate,i);break;default:cr(r,i,o,c)}}function ll(r,i,o,c,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=r,T=i,S=o,U=c,W=T.flags;switch(T.tag){case 0:case 11:case 15:ll(y,T,S,U,m),Ku(8,T);break;case 23:break;case 22:var re=T.stateNode;T.memoizedState!==null?re._visibility&2?ll(y,T,S,U,m):Yu(y,T):(re._visibility|=2,ll(y,T,S,U,m)),m&&W&2048&&wg(T.alternate,T);break;case 24:ll(y,T,S,U,m),m&&W&2048&&Tg(T.alternate,T);break;default:ll(y,T,S,U,m)}i=i.sibling}}function Yu(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,c=i,m=c.flags;switch(c.tag){case 22:Yu(o,c),m&2048&&wg(c.alternate,c);break;case 24:Yu(o,c),m&2048&&Tg(c.alternate,c);break;default:Yu(o,c)}i=i.sibling}}var Qu=8192;function ul(r){if(r.subtreeFlags&Qu)for(r=r.child;r!==null;)sw(r),r=r.sibling}function sw(r){switch(r.tag){case 26:ul(r),r.flags&Qu&&r.memoizedState!==null&&kD(Os,r.memoizedState,r.memoizedProps);break;case 5:ul(r);break;case 3:case 4:var i=Os;Os=Ld(r.stateNode.containerInfo),ul(r),Os=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Qu,Qu=16777216,ul(r),Qu=i):ul(r));break;default:ul(r)}}function rw(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Xu(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];sn=c,aw(c,r)}rw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)iw(r),r=r.sibling}function iw(r){switch(r.tag){case 0:case 11:case 15:Xu(r),r.flags&2048&&Bi(9,r,r.return);break;case 3:Xu(r);break;case 12:Xu(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,Ad(r)):Xu(r);break;default:Xu(r)}}function Ad(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];sn=c,aw(c,r)}rw(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:Bi(8,i,i.return),Ad(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Ad(i));break;default:Ad(i)}r=r.sibling}}function aw(r,i){for(;sn!==null;){var o=sn;switch(o.tag){case 0:case 11:case 15:Bi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Mu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,sn=c;else e:for(o=r;sn!==null;){c=sn;var m=c.sibling,y=c.return;if(XE(c),c===o){sn=null;break e}if(m!==null){m.return=y,sn=m;break e}sn=y}}}var Z2={getCacheForType:function(r){var i=_n(Xt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},J2=typeof WeakMap=="function"?WeakMap:Map,ot=0,mt=null,Ge=null,Ze=0,lt=0,Jn=null,qi=!1,cl=!1,xg=!1,si=0,Ct=0,Hi=0,io=0,Sg=0,ys=0,hl=0,Zu=null,Un=null,Ag=!1,Rg=0,Rd=1/0,Cd=null,Gi=null,hn=0,$i=null,dl=null,fl=0,Cg=0,Ig=null,ow=null,Ju=0,Ng=null;function es(){if((ot&2)!==0&&Ze!==0)return Ze&-Ze;if(Z.T!==null){var r=el;return r!==0?r:jg()}return Ri()}function lw(){ys===0&&(ys=(Ze&536870912)===0||nt?lu():536870912);var r=gs.current;return r!==null&&(r.flags|=32),ys}function ts(r,i,o){(r===mt&&(lt===2||lt===9)||r.cancelPendingCommit!==null)&&(ml(r,0),Ki(r,Ze,ys,!1)),Vr(r,o),((ot&2)===0||r!==mt)&&(r===mt&&((ot&2)===0&&(io|=o),Ct===4&&Ki(r,Ze,ys,!1)),hr(r))}function uw(r,i,o){if((ot&6)!==0)throw Error(s(327));var c=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Mr(r,i),m=c?nD(r,i):Mg(r,i,!0),y=c;do{if(m===0){cl&&!c&&Ki(r,i,0,!1);break}else{if(o=r.current.alternate,y&&!eD(o)){m=Mg(r,i,!1),y=!1;continue}if(m===2){if(y=i,r.errorRecoveryDisabledLanes&y)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=r;m=Zu;var U=S.current.memoizedState.isDehydrated;if(U&&(ml(S,T).flags|=256),T=Mg(S,T,!1),T!==2){if(xg&&!U){S.errorRecoveryDisabledLanes|=y,io|=y,m=4;break e}y=Un,Un=m,y!==null&&(Un===null?Un=y:Un.push.apply(Un,y))}m=T}if(y=!1,m!==2)continue}}if(m===1){ml(r,0),Ki(r,i,0,!0);break}e:{switch(c=r,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ki(c,i,ys,!qi);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=Rg+300-kn(),10<m)){if(Ki(c,i,ys,!qi),Pr(c,0,!0)!==0)break e;c.timeoutHandle=Lw(cw.bind(null,c,o,Un,Cd,Ag,i,ys,io,hl,qi,y,2,-0,0),m);break e}cw(c,o,Un,Cd,Ag,i,ys,io,hl,qi,y,0,-0,0)}}break}while(!0);hr(r)}function cw(r,i,o,c,m,y,T,S,U,W,re,oe,X,J){if(r.timeoutHandle=-1,oe=i.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(ac={stylesheets:null,count:0,unsuspend:VD},sw(i),oe=jD(),oe!==null)){r.cancelPendingCommit=oe(yw.bind(null,r,i,y,o,c,m,T,S,U,re,1,X,J)),Ki(r,y,T,!W);return}yw(r,i,y,o,c,m,T,S,U)}function eD(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var m=o[c],y=m.getSnapshot;m=m.value;try{if(!Yn(y(),m))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ki(r,i,o,c){i&=~Sg,i&=~io,r.suspendedLanes|=i,r.pingedLanes&=~i,c&&(r.warmLanes|=i),c=r.expirationTimes;for(var m=i;0<m;){var y=31-at(m),T=1<<y;c[y]=-1,m&=~T}o!==0&&Qs(r,o,i)}function Id(){return(ot&6)===0?(ec(0),!1):!0}function Dg(){if(Ge!==null){if(lt===0)var r=Ge.return;else r=Ge,Yr=Ja=null,Wp(r),al=null,Hu=0,r=Ge;for(;r!==null;)qE(r.alternate,r),r=r.return;Ge=null}}function ml(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,vD(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Dg(),mt=r,Ge=o=$r(r.current,null),Ze=i,lt=0,Jn=null,qi=!1,cl=Mr(r,i),xg=!1,hl=ys=Sg=io=Hi=Ct=0,Un=Zu=null,Ag=!1,(i&8)!==0&&(i|=i&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=i;0<c;){var m=31-at(c),y=1<<m;i|=r[m],c&=~y}return si=i,Xh(),o}function hw(r,i){qe=null,Z.H=gd,i===Vu||i===ad?(i=Cb(),lt=3):i===Sb?(i=Cb(),lt=4):lt=i===IE?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Jn=i,Ge===null&&(Ct=1,Ed(r,ds(i,r.current)))}function dw(){var r=Z.H;return Z.H=gd,r===null?gd:r}function fw(){var r=Z.A;return Z.A=Z2,r}function Pg(){Ct=4,qi||(Ze&4194048)!==Ze&&gs.current!==null||(cl=!0),(Hi&134217727)===0&&(io&134217727)===0||mt===null||Ki(mt,Ze,ys,!1)}function Mg(r,i,o){var c=ot;ot|=2;var m=dw(),y=fw();(mt!==r||Ze!==i)&&(Cd=null,ml(r,i)),i=!1;var T=Ct;e:do try{if(lt!==0&&Ge!==null){var S=Ge,U=Jn;switch(lt){case 8:Dg(),T=6;break e;case 3:case 2:case 9:case 6:gs.current===null&&(i=!0);var W=lt;if(lt=0,Jn=null,pl(r,S,U,W),o&&cl){T=0;break e}break;default:W=lt,lt=0,Jn=null,pl(r,S,U,W)}}tD(),T=Ct;break}catch(re){hw(r,re)}while(!0);return i&&r.shellSuspendCounter++,Yr=Ja=null,ot=c,Z.H=m,Z.A=y,Ge===null&&(mt=null,Ze=0,Xh()),T}function tD(){for(;Ge!==null;)mw(Ge)}function nD(r,i){var o=ot;ot|=2;var c=dw(),m=fw();mt!==r||Ze!==i?(Cd=null,Rd=kn()+500,ml(r,i)):cl=Mr(r,i);e:do try{if(lt!==0&&Ge!==null){i=Ge;var y=Jn;t:switch(lt){case 1:lt=0,Jn=null,pl(r,i,y,1);break;case 2:case 9:if(Ab(y)){lt=0,Jn=null,pw(i);break}i=function(){lt!==2&&lt!==9||mt!==r||(lt=7),hr(r)},y.then(i,i);break e;case 3:lt=7;break e;case 4:lt=5;break e;case 7:Ab(y)?(lt=0,Jn=null,pw(i)):(lt=0,Jn=null,pl(r,i,y,7));break;case 5:var T=null;switch(Ge.tag){case 26:T=Ge.memoizedState;case 5:case 27:var S=Ge;if(!T||Qw(T)){lt=0,Jn=null;var U=S.sibling;if(U!==null)Ge=U;else{var W=S.return;W!==null?(Ge=W,Nd(W)):Ge=null}break t}}lt=0,Jn=null,pl(r,i,y,5);break;case 6:lt=0,Jn=null,pl(r,i,y,6);break;case 8:Dg(),Ct=6;break e;default:throw Error(s(462))}}sD();break}catch(re){hw(r,re)}while(!0);return Yr=Ja=null,Z.H=c,Z.A=m,ot=o,Ge!==null?0:(mt=null,Ze=0,Xh(),Ct)}function sD(){for(;Ge!==null&&!Ti();)mw(Ge)}function mw(r){var i=FE(r.alternate,r,si);r.memoizedProps=r.pendingProps,i===null?Nd(r):Ge=i}function pw(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=VE(o,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=VE(o,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Wp(i);default:qE(o,i),i=Ge=gb(i,si),i=FE(o,i,si)}r.memoizedProps=r.pendingProps,i===null?Nd(r):Ge=i}function pl(r,i,o,c){Yr=Ja=null,Wp(i),al=null,Hu=0;var m=i.return;try{if($2(r,m,i,o,Ze)){Ct=1,Ed(r,ds(o,r.current)),Ge=null;return}}catch(y){if(m!==null)throw Ge=m,y;Ct=1,Ed(r,ds(o,r.current)),Ge=null;return}i.flags&32768?(nt||c===1?r=!0:cl||(Ze&536870912)!==0?r=!1:(qi=r=!0,(c===2||c===9||c===3||c===6)&&(c=gs.current,c!==null&&c.tag===13&&(c.flags|=16384))),gw(i,r)):Nd(i)}function Nd(r){var i=r;do{if((i.flags&32768)!==0){gw(i,qi);return}r=i.return;var o=W2(i.alternate,i,si);if(o!==null){Ge=o;return}if(i=i.sibling,i!==null){Ge=i;return}Ge=i=r}while(i!==null);Ct===0&&(Ct=5)}function gw(r,i){do{var o=Y2(r.alternate,r);if(o!==null){o.flags&=32767,Ge=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){Ge=r;return}Ge=r=o}while(r!==null);Ct=6,Ge=null}function yw(r,i,o,c,m,y,T,S,U){r.cancelPendingCommit=null;do Dd();while(hn!==0);if((ot&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Tp,cu(r,o,y,T,S,U),r===mt&&(Ge=mt=null,Ze=0),dl=i,$i=r,fl=o,Cg=y,Ig=m,ow=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,oD(Y,function(){return ww(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,m=te.p,te.p=2,T=ot,ot|=4;try{Q2(r,i,o)}finally{ot=T,te.p=m,Z.T=c}}hn=1,vw(),_w(),bw()}}function vw(){if(hn===1){hn=0;var r=$i,i=dl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=te.p;te.p=2;var m=ot;ot|=4;try{ew(i,r);var y=Gg,T=ab(r.containerInfo),S=y.focusedElem,U=y.selectionRange;if(T!==S&&S&&S.ownerDocument&&ib(S.ownerDocument.documentElement,S)){if(U!==null&&vp(S)){var W=U.start,re=U.end;if(re===void 0&&(re=W),"selectionStart"in S)S.selectionStart=W,S.selectionEnd=Math.min(re,S.value.length);else{var oe=S.ownerDocument||document,X=oe&&oe.defaultView||window;if(X.getSelection){var J=X.getSelection(),ke=S.textContent.length,De=Math.min(U.start,ke),dt=U.end===void 0?De:Math.min(U.end,ke);!J.extend&&De>dt&&(T=dt,dt=De,De=T);var G=rb(S,De),H=rb(S,dt);if(G&&H&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var K=oe.createRange();K.setStart(G.node,G.offset),J.removeAllRanges(),De>dt?(J.addRange(K),J.extend(H.node,H.offset)):(K.setEnd(H.node,H.offset),J.addRange(K))}}}}for(oe=[],J=S;J=J.parentNode;)J.nodeType===1&&oe.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<oe.length;S++){var ie=oe[S];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}qd=!!Hg,Gg=Hg=null}finally{ot=m,te.p=c,Z.T=o}}r.current=i,hn=2}}function _w(){if(hn===2){hn=0;var r=$i,i=dl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=te.p;te.p=2;var m=ot;ot|=4;try{QE(r,i.alternate,i)}finally{ot=m,te.p=c,Z.T=o}}hn=3}}function bw(){if(hn===4||hn===3){hn=0,Do();var r=$i,i=dl,o=fl,c=ow;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?hn=5:(hn=0,dl=$i=null,Ew(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Gi=null),Po(o),i=i.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(ye,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=Z.T,m=te.p,te.p=2,Z.T=null;try{for(var y=r.onRecoverableError,T=0;T<c.length;T++){var S=c[T];y(S.value,{componentStack:S.stack})}}finally{Z.T=i,te.p=m}}(fl&3)!==0&&Dd(),hr(r),m=r.pendingLanes,(o&4194090)!==0&&(m&42)!==0?r===Ng?Ju++:(Ju=0,Ng=r):Ju=0,ec(0)}}function Ew(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Mu(i)))}function Dd(r){return vw(),_w(),bw(),ww()}function ww(){if(hn!==5)return!1;var r=$i,i=Cg;Cg=0;var o=Po(fl),c=Z.T,m=te.p;try{te.p=32>o?32:o,Z.T=null,o=Ig,Ig=null;var y=$i,T=fl;if(hn=0,dl=$i=null,fl=0,(ot&6)!==0)throw Error(s(331));var S=ot;if(ot|=4,iw(y.current),nw(y,y.current,T,o),ot=S,ec(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(ye,y)}catch{}return!0}finally{te.p=m,Z.T=c,Ew(r,i)}}function Tw(r,i,o){i=ds(o,i),i=lg(r.stateNode,i,2),r=ki(r,i,2),r!==null&&(Vr(r,2),hr(r))}function ft(r,i,o){if(r.tag===3)Tw(r,r,o);else for(;i!==null;){if(i.tag===3){Tw(i,r,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Gi===null||!Gi.has(c))){r=ds(o,r),o=RE(2),c=ki(i,o,2),c!==null&&(CE(o,c,i,r),Vr(c,2),hr(c));break}}i=i.return}}function Og(r,i,o){var c=r.pingCache;if(c===null){c=r.pingCache=new J2;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(o)||(xg=!0,m.add(o),r=rD.bind(null,r,i,o),i.then(r,r))}function rD(r,i,o){var c=r.pingCache;c!==null&&c.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,mt===r&&(Ze&o)===o&&(Ct===4||Ct===3&&(Ze&62914560)===Ze&&300>kn()-Rg?(ot&2)===0&&ml(r,0):Sg|=o,hl===Ze&&(hl=0)),hr(r)}function xw(r,i){i===0&&(i=uu()),r=Qo(r,i),r!==null&&(Vr(r,i),hr(r))}function iD(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),xw(r,o)}function aD(r,i){var o=0;switch(r.tag){case 13:var c=r.stateNode,m=r.memoizedState;m!==null&&(o=m.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(i),xw(r,o)}function oD(r,i){return Ir(r,i)}var Pd=null,gl=null,Vg=!1,Md=!1,kg=!1,ao=0;function hr(r){r!==gl&&r.next===null&&(gl===null?Pd=gl=r:gl=gl.next=r),Md=!0,Vg||(Vg=!0,uD())}function ec(r,i){if(!kg&&Md){kg=!0;do for(var o=!1,c=Pd;c!==null;){if(r!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var T=c.suspendedLanes,S=c.pingedLanes;y=(1<<31-at(42|r)+1)-1,y&=m&~(T&~S),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Cw(c,y))}else y=Ze,y=Pr(c,c===mt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||Mr(c,y)||(o=!0,Cw(c,y));c=c.next}while(o);kg=!1}}function lD(){Sw()}function Sw(){Md=Vg=!1;var r=0;ao!==0&&(yD()&&(r=ao),ao=0);for(var i=kn(),o=null,c=Pd;c!==null;){var m=c.next,y=Aw(c,i);y===0?(c.next=null,o===null?Pd=m:o.next=m,m===null&&(gl=o)):(o=c,(r!==0||(y&3)!==0)&&(Md=!0)),c=m}ec(r)}function Aw(r,i){for(var o=r.suspendedLanes,c=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var T=31-at(y),S=1<<T,U=m[T];U===-1?((S&o)===0||(S&c)!==0)&&(m[T]=Si(S,i)):U<=i&&(r.expiredLanes|=S),y&=~S}if(i=mt,o=Ze,o=Pr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===i&&(lt===2||lt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ys(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Mr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(c!==null&&Ys(c),Po(o)){case 2:case 8:o=z;break;case 32:o=Y;break;case 268435456:o=_e;break;default:o=Y}return c=Rw.bind(null,r),o=Ir(o,c),r.callbackPriority=i,r.callbackNode=o,i}return c!==null&&c!==null&&Ys(c),r.callbackPriority=2,r.callbackNode=null,2}function Rw(r,i){if(hn!==0&&hn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Dd()&&r.callbackNode!==o)return null;var c=Ze;return c=Pr(r,r===mt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(uw(r,c,i),Aw(r,kn()),r.callbackNode!=null&&r.callbackNode===o?Rw.bind(null,r):null)}function Cw(r,i){if(Dd())return null;uw(r,i,!0)}function uD(){_D(function(){(ot&6)!==0?Ir(xi,lD):Sw()})}function jg(){return ao===0&&(ao=lu()),ao}function Iw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Lo(""+r)}function Nw(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function cD(r,i,o,c,m){if(i==="submit"&&o&&o.stateNode===m){var y=Iw((m[Lt]||null).action),T=c.submitter;T&&(i=(i=T[Lt]||null)?Iw(i.formAction):T.getAttribute("formAction"),i!==null&&(y=i,T=null));var S=new Uo("action","action",null,c,m);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ao!==0){var U=T?Nw(m,T):new FormData(m);sg(o,{pending:!0,data:U,method:m.method,action:y},null,U)}}else typeof y=="function"&&(S.preventDefault(),U=T?Nw(m,T):new FormData(m),sg(o,{pending:!0,data:U,method:m.method,action:y},y,U))},currentTarget:m}]})}}for(var Lg=0;Lg<wp.length;Lg++){var Ug=wp[Lg],hD=Ug.toLowerCase(),dD=Ug[0].toUpperCase()+Ug.slice(1);Ms(hD,"on"+dD)}Ms(ub,"onAnimationEnd"),Ms(cb,"onAnimationIteration"),Ms(hb,"onAnimationStart"),Ms("dblclick","onDoubleClick"),Ms("focusin","onFocus"),Ms("focusout","onBlur"),Ms(I2,"onTransitionRun"),Ms(N2,"onTransitionStart"),Ms(D2,"onTransitionCancel"),Ms(db,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tc));function Dw(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],m=c.event;c=c.listeners;e:{var y=void 0;if(i)for(var T=c.length-1;0<=T;T--){var S=c[T],U=S.instance,W=S.currentTarget;if(S=S.listener,U!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=W;try{y(m)}catch(re){bd(re)}m.currentTarget=null,y=U}else for(T=0;T<c.length;T++){if(S=c[T],U=S.instance,W=S.currentTarget,S=S.listener,U!==y&&m.isPropagationStopped())break e;y=S,m.currentTarget=W;try{y(m)}catch(re){bd(re)}m.currentTarget=null,y=U}}}}function $e(r,i){var o=i[du];o===void 0&&(o=i[du]=new Set);var c=r+"__bubble";o.has(c)||(Pw(i,r,2,!1),o.add(c))}function Bg(r,i,o){var c=0;i&&(c|=4),Pw(o,r,c,i)}var Od="_reactListening"+Math.random().toString(36).slice(2);function Fg(r){if(!r[Od]){r[Od]=!0,fu.forEach(function(o){o!=="selectionchange"&&(fD.has(o)||Bg(o,!1,r),Bg(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Od]||(i[Od]=!0,Bg("selectionchange",!1,i))}}function Pw(r,i,o,c){switch(nT(i)){case 2:var m=BD;break;case 8:m=FD;break;default:m=ty}o=m.bind(null,i,o,r),m=void 0,!cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?r.addEventListener(i,o,{capture:!0,passive:m}):r.addEventListener(i,o,!0):m!==void 0?r.addEventListener(i,o,{passive:m}):r.addEventListener(i,o,!1)}function zg(r,i,o,c,m){var y=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===m)break;if(T===4)for(T=c.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;S!==null;){if(T=kr(S),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){c=y=T;continue e}S=S.parentNode}}c=c.return}kh(function(){var W=y,re=us(o),oe=[];e:{var X=fb.get(r);if(X!==void 0){var J=Uo,ke=r;switch(r){case"keypress":if(nr(o)===0)break e;case"keydown":case"keyup":J=Go;break;case"focusin":ke="focus",J=zo;break;case"focusout":ke="blur",J=zo;break;case"beforeblur":case"afterblur":J=zo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=hs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=mp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Hh;break;case ub:case cb:case hb:J=qo;break;case db:J=$h;break;case"scroll":case"scrollend":J=jh;break;case"wheel":J=$o;break;case"copy":case"cut":case"paste":J=Ho;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Su;break;case"toggle":case"beforetoggle":J=Wh}var De=(i&4)!==0,dt=!De&&(r==="scroll"||r==="scrollend"),G=De?X!==null?X+"Capture":null:X;De=[];for(var H=W,K;H!==null;){var ie=H;if(K=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||K===null||G===null||(ie=Ua(H,G),ie!=null&&De.push(nc(H,ie,K))),dt)break;H=H.return}0<De.length&&(X=new J(X,ke,null,o,re),oe.push({event:X,listeners:De}))}}if((i&7)===0){e:{if(X=r==="mouseover"||r==="pointerover",J=r==="mouseout"||r==="pointerout",X&&o!==Br&&(ke=o.relatedTarget||o.fromElement)&&(kr(ke)||ke[os]))break e;if((J||X)&&(X=re.window===re?re:(X=re.ownerDocument)?X.defaultView||X.parentWindow:window,J?(ke=o.relatedTarget||o.toElement,J=W,ke=ke?kr(ke):null,ke!==null&&(dt=l(ke),De=ke.tag,ke!==dt||De!==5&&De!==27&&De!==6)&&(ke=null)):(J=null,ke=W),J!==ke)){if(De=hs,ie="onMouseLeave",G="onMouseEnter",H="mouse",(r==="pointerout"||r==="pointerover")&&(De=Su,ie="onPointerLeave",G="onPointerEnter",H="pointer"),dt=J==null?X:Zs(J),K=ke==null?X:Zs(ke),X=new De(ie,H+"leave",J,o,re),X.target=dt,X.relatedTarget=K,ie=null,kr(re)===W&&(De=new De(G,H+"enter",ke,o,re),De.target=K,De.relatedTarget=dt,ie=De),dt=ie,J&&ke)t:{for(De=J,G=ke,H=0,K=De;K;K=yl(K))H++;for(K=0,ie=G;ie;ie=yl(ie))K++;for(;0<H-K;)De=yl(De),H--;for(;0<K-H;)G=yl(G),K--;for(;H--;){if(De===G||G!==null&&De===G.alternate)break t;De=yl(De),G=yl(G)}De=null}else De=null;J!==null&&Mw(oe,X,J,De,!1),ke!==null&&dt!==null&&Mw(oe,dt,ke,De,!0)}}e:{if(X=W?Zs(W):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var Te=Z_;else if(Qt(X))if(J_)Te=A2;else{Te=x2;var He=T2}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?W&&vu(W.elementType)&&(Te=Z_):Te=S2;if(Te&&(Te=Te(r,W))){Gr(oe,Te,o,re);break e}He&&He(r,X,W),r==="focusout"&&W&&X.type==="number"&&W.memoizedProps.value!=null&&Di(X,"number",X.value)}switch(He=W?Zs(W):window,r){case"focusin":(Qt(He)||He.contentEditable==="true")&&(Ko=He,_p=W,Cu=null);break;case"focusout":Cu=_p=Ko=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,ob(oe,o,re);break;case"selectionchange":if(C2)break;case"keydown":case"keyup":ob(oe,o,re)}var Re;if(ir)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Qe?ee(r,o)&&(Pe="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Pe="onCompositionStart");Pe&&(w&&o.locale!=="ko"&&(Qe||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Qe&&(Re=bu()):(tr=re,Pi="value"in tr?tr.value:tr.textContent,Qe=!0)),He=Vd(W,Pe),0<He.length&&(Pe=new Tu(Pe,r,null,o,re),oe.push({event:Pe,listeners:He}),Re?Pe.data=Re:(Re=fe(o),Re!==null&&(Pe.data=Re)))),(Re=_?Yt(r,o):Xe(r,o))&&(Pe=Vd(W,"onBeforeInput"),0<Pe.length&&(He=new Tu("onBeforeInput","beforeinput",null,o,re),oe.push({event:He,listeners:Pe}),He.data=Re)),cD(oe,r,W,o,re)}Dw(oe,i)})}function nc(r,i,o){return{instance:r,listener:i,currentTarget:o}}function Vd(r,i){for(var o=i+"Capture",c=[];r!==null;){var m=r,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ua(r,o),m!=null&&c.unshift(nc(r,m,y)),m=Ua(r,i),m!=null&&c.push(nc(r,m,y))),r.tag===3)return c;r=r.return}return[]}function yl(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Mw(r,i,o,c,m){for(var y=i._reactName,T=[];o!==null&&o!==c;){var S=o,U=S.alternate,W=S.stateNode;if(S=S.tag,U!==null&&U===c)break;S!==5&&S!==26&&S!==27||W===null||(U=W,m?(W=Ua(o,y),W!=null&&T.unshift(nc(o,W,U))):m||(W=Ua(o,y),W!=null&&T.push(nc(o,W,U)))),o=o.return}T.length!==0&&r.push({event:i,listeners:T})}var mD=/\r\n?/g,pD=/\u0000|\uFFFD/g;function Ow(r){return(typeof r=="string"?r:""+r).replace(mD,`
`).replace(pD,"")}function Vw(r,i){return i=Ow(i),Ow(r)===i}function kd(){}function ht(r,i,o,c,m,y){switch(o){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ls(r,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ls(r,""+c);break;case"className":Js(r,"class",c);break;case"tabIndex":Js(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(r,o,c);break;case"style":yu(r,c,y);break;case"data":if(i!=="object"){Js(r,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Lo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&ht(r,i,"name",m.name,m,null),ht(r,i,"formEncType",m.formEncType,m,null),ht(r,i,"formMethod",m.formMethod,m,null),ht(r,i,"formTarget",m.formTarget,m,null)):(ht(r,i,"encType",m.encType,m,null),ht(r,i,"method",m.method,m,null),ht(r,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Lo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=kd);break;case"onScroll":c!=null&&$e("scroll",r);break;case"onScrollEnd":c!=null&&$e("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Lo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":$e("beforetoggle",r),$e("toggle",r),Ni(r,"popover",c);break;case"xlinkActuate":ln(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":ln(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":ln(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":ln(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":ln(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":ln(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":ln(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":ln(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":ln(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ni(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=dp.get(o)||o,Ni(r,o,c))}}function qg(r,i,o,c,m,y){switch(o){case"style":yu(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(m.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof c=="string"?ls(r,c):(typeof c=="number"||typeof c=="bigint")&&ls(r,""+c);break;case"onScroll":c!=null&&$e("scroll",r);break;case"onScrollEnd":c!=null&&$e("scrollend",r);break;case"onClick":c!=null&&(r.onclick=kd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),i=o.slice(2,m?o.length-7:void 0),y=r[Lt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(i,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,c,m);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):Ni(r,o,c)}}}function dn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$e("error",r),$e("load",r);var c=!1,m=!1,y;for(y in o)if(o.hasOwnProperty(y)){var T=o[y];if(T!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ht(r,i,y,T,o,null)}}m&&ht(r,i,"srcSet",o.srcSet,o,null),c&&ht(r,i,"src",o.src,o,null);return;case"input":$e("invalid",r);var S=y=T=m=null,U=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var re=o[c];if(re!=null)switch(c){case"name":m=re;break;case"type":T=re;break;case"checked":U=re;break;case"defaultChecked":W=re;break;case"value":y=re;break;case"defaultValue":S=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(s(137,i));break;default:ht(r,i,c,re,o,null)}}ka(r,y,S,U,W,T,m,!1),jo(r);return;case"select":$e("invalid",r),c=T=y=null;for(m in o)if(o.hasOwnProperty(m)&&(S=o[m],S!=null))switch(m){case"value":y=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:ht(r,i,m,S,o,null)}i=y,o=T,r.multiple=!!c,i!=null?Ur(r,!!c,i,!1):o!=null&&Ur(r,!!c,o,!0);return;case"textarea":$e("invalid",r),y=m=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":m=S;break;case"children":y=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ht(r,i,T,S,o,null)}ja(r,c,m,y),jo(r);return;case"option":for(U in o)if(o.hasOwnProperty(U)&&(c=o[U],c!=null))switch(U){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ht(r,i,U,c,o,null)}return;case"dialog":$e("beforetoggle",r),$e("toggle",r),$e("cancel",r),$e("close",r);break;case"iframe":case"object":$e("load",r);break;case"video":case"audio":for(c=0;c<tc.length;c++)$e(tc[c],r);break;case"image":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"embed":case"source":case"link":$e("error",r),$e("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ht(r,i,W,c,o,null)}return;default:if(vu(i)){for(re in o)o.hasOwnProperty(re)&&(c=o[re],c!==void 0&&qg(r,i,re,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&ht(r,i,S,c,o,null))}function gD(r,i,o,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,T=null,S=null,U=null,W=null,re=null;for(J in o){var oe=o[J];if(o.hasOwnProperty(J)&&oe!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":U=oe;default:c.hasOwnProperty(J)||ht(r,i,J,null,c,oe)}}for(var X in c){var J=c[X];if(oe=o[X],c.hasOwnProperty(X)&&(J!=null||oe!=null))switch(X){case"type":y=J;break;case"name":m=J;break;case"checked":W=J;break;case"defaultChecked":re=J;break;case"value":T=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:J!==oe&&ht(r,i,X,J,c,oe)}}Wn(r,T,S,U,W,re,y,m);return;case"select":J=T=S=X=null;for(y in o)if(U=o[y],o.hasOwnProperty(y)&&U!=null)switch(y){case"value":break;case"multiple":J=U;default:c.hasOwnProperty(y)||ht(r,i,y,null,c,U)}for(m in c)if(y=c[m],U=o[m],c.hasOwnProperty(m)&&(y!=null||U!=null))switch(m){case"value":X=y;break;case"defaultValue":S=y;break;case"multiple":T=y;default:y!==U&&ht(r,i,m,y,c,U)}i=S,o=T,c=J,X!=null?Ur(r,!!o,X,!1):!!c!=!!o&&(i!=null?Ur(r,!!o,i,!0):Ur(r,!!o,o?[]:"",!1));return;case"textarea":J=X=null;for(S in o)if(m=o[S],o.hasOwnProperty(S)&&m!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ht(r,i,S,null,c,m)}for(T in c)if(m=c[T],y=o[T],c.hasOwnProperty(T)&&(m!=null||y!=null))switch(T){case"value":X=m;break;case"defaultValue":J=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&ht(r,i,T,m,c,y)}ut(r,X,J);return;case"option":for(var ke in o)if(X=o[ke],o.hasOwnProperty(ke)&&X!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:ht(r,i,ke,null,c,X)}for(U in c)if(X=c[U],J=o[U],c.hasOwnProperty(U)&&X!==J&&(X!=null||J!=null))switch(U){case"selected":r.selected=X&&typeof X!="function"&&typeof X!="symbol";break;default:ht(r,i,U,X,c,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in o)X=o[De],o.hasOwnProperty(De)&&X!=null&&!c.hasOwnProperty(De)&&ht(r,i,De,null,c,X);for(W in c)if(X=c[W],J=o[W],c.hasOwnProperty(W)&&X!==J&&(X!=null||J!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:ht(r,i,W,X,c,J)}return;default:if(vu(i)){for(var dt in o)X=o[dt],o.hasOwnProperty(dt)&&X!==void 0&&!c.hasOwnProperty(dt)&&qg(r,i,dt,void 0,c,X);for(re in c)X=c[re],J=o[re],!c.hasOwnProperty(re)||X===J||X===void 0&&J===void 0||qg(r,i,re,X,c,J);return}}for(var G in o)X=o[G],o.hasOwnProperty(G)&&X!=null&&!c.hasOwnProperty(G)&&ht(r,i,G,null,c,X);for(oe in c)X=c[oe],J=o[oe],!c.hasOwnProperty(oe)||X===J||X==null&&J==null||ht(r,i,oe,X,c,J)}var Hg=null,Gg=null;function jd(r){return r.nodeType===9?r:r.ownerDocument}function kw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jw(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function $g(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kg=null;function yD(){var r=window.event;return r&&r.type==="popstate"?r===Kg?!1:(Kg=r,!0):(Kg=null,!1)}var Lw=typeof setTimeout=="function"?setTimeout:void 0,vD=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,_D=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(r){return Uw.resolve(null).then(r).catch(bD)}:Lw;function bD(r){setTimeout(function(){throw r})}function Wi(r){return r==="head"}function Bw(r,i){var o=i,c=0,m=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var T=r.ownerDocument;if(o&1&&sc(T.documentElement),o&2&&sc(T.body),o&4)for(o=T.head,sc(o),T=o.firstChild;T;){var S=T.nextSibling,U=T.nodeName;T[Pa]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=S}}if(m===0){r.removeChild(y),hc(i);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);hc(i)}function Wg(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wg(o),Ii(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function ED(r,i,o,c){for(;r.nodeType===1;){var m=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Pa])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=Vs(r.nextSibling),r===null)break}return null}function wD(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Vs(r.nextSibling),r===null))return null;return r}function Yg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function TD(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var c=function(){i(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Vs(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var Qg=null;function Fw(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function zw(r,i,o){switch(i=jd(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function sc(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Ii(r)}var vs=new Map,qw=new Set;function Ld(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var ri=te.d;te.d={f:xD,r:SD,D:AD,C:RD,L:CD,m:ID,X:DD,S:ND,M:PD};function xD(){var r=ri.f(),i=Id();return r||i}function SD(r){var i=Xs(r);i!==null&&i.tag===5&&i.type==="form"?uE(i):ri.r(r)}var vl=typeof document>"u"?null:document;function Hw(r,i,o){var c=vl;if(c&&typeof i=="string"&&i){var m=Ut(i);m='link[rel="'+r+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),qw.has(m)||(qw.add(m),r={rel:r,crossOrigin:o,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),dn(i,"link",r),Nt(i),c.head.appendChild(i)))}}function AD(r){ri.D(r),Hw("dns-prefetch",r,null)}function RD(r,i){ri.C(r,i),Hw("preconnect",r,i)}function CD(r,i,o){ri.L(r,i,o);var c=vl;if(c&&r&&i){var m='link[rel="preload"][as="'+Ut(i)+'"]';i==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ut(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ut(o.imageSizes)+'"]')):m+='[href="'+Ut(r)+'"]';var y=m;switch(i){case"style":y=_l(r);break;case"script":y=bl(r)}vs.has(y)||(r=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),vs.set(y,r),c.querySelector(m)!==null||i==="style"&&c.querySelector(rc(y))||i==="script"&&c.querySelector(ic(y))||(i=c.createElement("link"),dn(i,"link",r),Nt(i),c.head.appendChild(i)))}}function ID(r,i){ri.m(r,i);var o=vl;if(o&&r){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Ut(c)+'"][href="'+Ut(r)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=bl(r)}if(!vs.has(y)&&(r=g({rel:"modulepreload",href:r},i),vs.set(y,r),o.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ic(y)))return}c=o.createElement("link"),dn(c,"link",r),Nt(c),o.head.appendChild(c)}}}function ND(r,i,o){ri.S(r,i,o);var c=vl;if(c&&r){var m=Cn(c).hoistableStyles,y=_l(r);i=i||"default";var T=m.get(y);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(rc(y)))S.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":i},o),(o=vs.get(y))&&Xg(r,o);var U=T=c.createElement("link");Nt(U),dn(U,"link",r),U._p=new Promise(function(W,re){U.onload=W,U.onerror=re}),U.addEventListener("load",function(){S.loading|=1}),U.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Ud(T,i,c)}T={type:"stylesheet",instance:T,count:1,state:S},m.set(y,T)}}}function DD(r,i){ri.X(r,i);var o=vl;if(o&&r){var c=Cn(o).hoistableScripts,m=bl(r),y=c.get(m);y||(y=o.querySelector(ic(m)),y||(r=g({src:r,async:!0},i),(i=vs.get(m))&&Zg(r,i),y=o.createElement("script"),Nt(y),dn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function PD(r,i){ri.M(r,i);var o=vl;if(o&&r){var c=Cn(o).hoistableScripts,m=bl(r),y=c.get(m);y||(y=o.querySelector(ic(m)),y||(r=g({src:r,async:!0,type:"module"},i),(i=vs.get(m))&&Zg(r,i),y=o.createElement("script"),Nt(y),dn(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function Gw(r,i,o,c){var m=(m=Ve.current)?Ld(m):null;if(!m)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=_l(o.href),o=Cn(m).hoistableStyles,c=o.get(i),c||(c={type:"style",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=_l(o.href);var y=Cn(m).hoistableStyles,T=y.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,T),(y=m.querySelector(rc(r)))&&!y._p&&(T.instance=y,T.state.loading=5),vs.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},vs.set(r,o),y||MD(m,r,o,T.state))),i&&c===null)throw Error(s(528,""));return T}if(i&&c!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=bl(o),o=Cn(m).hoistableScripts,c=o.get(i),c||(c={type:"script",instance:null,count:0,state:null},o.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function _l(r){return'href="'+Ut(r)+'"'}function rc(r){return'link[rel="stylesheet"]['+r+"]"}function $w(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function MD(r,i,o,c){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=r.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),dn(i,"link",o),Nt(i),r.head.appendChild(i))}function bl(r){return'[src="'+Ut(r)+'"]'}function ic(r){return"script[async]"+r}function Kw(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var c=r.querySelector('style[data-href~="'+Ut(o.href)+'"]');if(c)return i.instance=c,Nt(c),c;var m=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Nt(c),dn(c,"style",m),Ud(c,o.precedence,r),i.instance=c;case"stylesheet":m=_l(o.href);var y=r.querySelector(rc(m));if(y)return i.state.loading|=4,i.instance=y,Nt(y),y;c=$w(o),(m=vs.get(m))&&Xg(c,m),y=(r.ownerDocument||r).createElement("link"),Nt(y);var T=y;return T._p=new Promise(function(S,U){T.onload=S,T.onerror=U}),dn(y,"link",c),i.state.loading|=4,Ud(y,o.precedence,r),i.instance=y;case"script":return y=bl(o.src),(m=r.querySelector(ic(y)))?(i.instance=m,Nt(m),m):(c=o,(m=vs.get(y))&&(c=g({},o),Zg(c,m)),r=r.ownerDocument||r,m=r.createElement("script"),Nt(m),dn(m,"link",c),r.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ud(c,o.precedence,r));return i.instance}function Ud(r,i,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===i)y=S;else if(y!==m)break}y?y.parentNode.insertBefore(r,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Xg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Zg(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var Bd=null;function Ww(r,i,o){if(Bd===null){var c=new Map,m=Bd=new Map;m.set(o,c)}else m=Bd,c=m.get(o),c||(c=new Map,m.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),m=0;m<o.length;m++){var y=o[m];if(!(y[Pa]||y[Wt]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var T=y.getAttribute(i)||"";T=r+T;var S=c.get(T);S?S.push(y):c.set(T,[y])}}return c}function Yw(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function OD(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Qw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var ac=null;function VD(){}function kD(r,i,o){if(ac===null)throw Error(s(475));var c=ac;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=_l(o.href),y=r.querySelector(rc(m));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=Fd.bind(c),r.then(c,c)),i.state.loading|=4,i.instance=y,Nt(y);return}y=r.ownerDocument||r,o=$w(o),(m=vs.get(m))&&Xg(o,m),y=y.createElement("link"),Nt(y);var T=y;T._p=new Promise(function(S,U){T.onload=S,T.onerror=U}),dn(y,"link",o),i.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Fd.bind(c),r.addEventListener("load",i),r.addEventListener("error",i))}}function jD(){if(ac===null)throw Error(s(475));var r=ac;return r.stylesheets&&r.count===0&&Jg(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&Jg(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function Fd(){if(this.count--,this.count===0){if(this.stylesheets)Jg(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var zd=null;function Jg(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,zd=new Map,i.forEach(LD,r),zd=null,Fd.call(r))}function LD(r,i){if(!(i.state.loading&4)){var o=zd.get(r);if(o)var c=o.get(null);else{o=new Map,zd.set(r,o);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var T=m[y];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}m=i.instance,T=m.getAttribute("data-precedence"),y=o.get(T)||c,y===c&&o.set(null,m),o.set(T,m),this.count++,c=Fd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),i.state.loading|=4}}var oc={$$typeof:q,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function UD(r,i,o,c,m,y,T,S){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Or(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Or(0),this.hiddenUpdates=Or(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Xw(r,i,o,c,m,y,T,S,U,W,re,oe){return r=new UD(r,i,o,T,S,U,W,oe),i=1,y===!0&&(i|=24),y=Qn(3,null,null,i),r.current=y,y.stateNode=r,i=Op(),i.refCount++,r.pooledCache=i,i.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:i},Lp(y),r}function Zw(r){return r?(r=Xo,r):Xo}function Jw(r,i,o,c,m,y){m=Zw(m),c.context===null?c.context=m:c.pendingContext=m,c=Vi(i),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ki(r,c,i),o!==null&&(ts(o,r,i),ju(o,r,i))}function eT(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function ey(r,i){eT(r,i),(r=r.alternate)&&eT(r,i)}function tT(r){if(r.tag===13){var i=Qo(r,67108864);i!==null&&ts(i,r,67108864),ey(r,67108864)}}var qd=!0;function BD(r,i,o,c){var m=Z.T;Z.T=null;var y=te.p;try{te.p=2,ty(r,i,o,c)}finally{te.p=y,Z.T=m}}function FD(r,i,o,c){var m=Z.T;Z.T=null;var y=te.p;try{te.p=8,ty(r,i,o,c)}finally{te.p=y,Z.T=m}}function ty(r,i,o,c){if(qd){var m=ny(c);if(m===null)zg(r,i,c,Hd,o),sT(r,c);else if(qD(m,r,i,o,c))c.stopPropagation();else if(sT(r,c),i&4&&-1<zD.indexOf(r)){for(;m!==null;){var y=Xs(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var T=Kn(y.pendingLanes);if(T!==0){var S=y;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var U=1<<31-at(T);S.entanglements[1]|=U,T&=~U}hr(y),(ot&6)===0&&(Rd=kn()+500,ec(0))}}break;case 13:S=Qo(y,2),S!==null&&ts(S,y,2),Id(),ey(y,2)}if(y=ny(c),y===null&&zg(r,i,c,Hd,o),y===m)break;m=y}m!==null&&c.stopPropagation()}else zg(r,i,c,null,o)}}function ny(r){return r=us(r),sy(r)}var Hd=null;function sy(r){if(Hd=null,r=kr(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=u(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return Hd=r,null}function nT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ch()){case xi:return 2;case z:return 8;case Y:case ne:return 32;case _e:return 268435456;default:return 32}default:return 32}}var ry=!1,Yi=null,Qi=null,Xi=null,lc=new Map,uc=new Map,Zi=[],zD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function sT(r,i){switch(r){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Qi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":lc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uc.delete(i.pointerId)}}function cc(r,i,o,c,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Xs(i),i!==null&&tT(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),r)}function qD(r,i,o,c,m){switch(i){case"focusin":return Yi=cc(Yi,r,i,o,c,m),!0;case"dragenter":return Qi=cc(Qi,r,i,o,c,m),!0;case"mouseover":return Xi=cc(Xi,r,i,o,c,m),!0;case"pointerover":var y=m.pointerId;return lc.set(y,cc(lc.get(y)||null,r,i,o,c,m)),!0;case"gotpointercapture":return y=m.pointerId,uc.set(y,cc(uc.get(y)||null,r,i,o,c,m)),!0}return!1}function rT(r){var i=kr(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=u(o),i!==null){r.blockedOn=i,Ih(r.priority,function(){if(o.tag===13){var c=es();c=Ai(c);var m=Qo(o,c);m!==null&&ts(m,o,c),ey(o,c)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gd(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=ny(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Br=c,o.target.dispatchEvent(c),Br=null}else return i=Xs(o),i!==null&&tT(i),r.blockedOn=o,!1;i.shift()}return!0}function iT(r,i,o){Gd(r)&&o.delete(i)}function HD(){ry=!1,Yi!==null&&Gd(Yi)&&(Yi=null),Qi!==null&&Gd(Qi)&&(Qi=null),Xi!==null&&Gd(Xi)&&(Xi=null),lc.forEach(iT),uc.forEach(iT)}function $d(r,i){r.blockedOn===i&&(r.blockedOn=null,ry||(ry=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,HD)))}var Kd=null;function aT(r){Kd!==r&&(Kd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kd===r&&(Kd=null);for(var i=0;i<r.length;i+=3){var o=r[i],c=r[i+1],m=r[i+2];if(typeof c!="function"){if(sy(c||o)===null)continue;break}var y=Xs(o);y!==null&&(r.splice(i,3),i-=3,sg(y,{pending:!0,data:m,method:o.method,action:c},c,m))}}))}function hc(r){function i(U){return $d(U,r)}Yi!==null&&$d(Yi,r),Qi!==null&&$d(Qi,r),Xi!==null&&$d(Xi,r),lc.forEach(i),uc.forEach(i);for(var o=0;o<Zi.length;o++){var c=Zi[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Zi.length&&(o=Zi[0],o.blockedOn===null);)rT(o),o.blockedOn===null&&Zi.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var m=o[c],y=o[c+1],T=m[Lt]||null;if(typeof y=="function")T||aT(o);else if(T){var S=null;if(y&&y.hasAttribute("formAction")){if(m=y,T=y[Lt]||null)S=T.formAction;else if(sy(m)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),aT(o)}}}function iy(r){this._internalRoot=r}Wd.prototype.render=iy.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,c=es();Jw(o,c,r,i,null,null)},Wd.prototype.unmount=iy.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Jw(r.current,2,null,r,null,null),Id(),i[os]=null}};function Wd(r){this._internalRoot=r}Wd.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ri();r={blockedOn:null,target:r,priority:i};for(var o=0;o<Zi.length&&i!==0&&i<Zi[o].priority;o++);Zi.splice(o,0,r),o===0&&rT(r)}};var oT=e.version;if(oT!=="19.1.1")throw Error(s(527,oT,"19.1.1"));te.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=f(i),r=r!==null?p(r):null,r=r===null?null:r.stateNode,r};var GD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{ye=Yd.inject(GD),Ae=Yd}catch{}}return fc.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,c="",m=TE,y=xE,T=SE,S=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Xw(r,1,!1,null,null,o,c,m,y,T,S,null),r[os]=i.current,Fg(r),new iy(i)},fc.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var c=!1,m="",y=TE,T=xE,S=SE,U=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(U=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),i=Xw(r,1,!0,i,o??null,c,m,y,T,S,U,W),i.context=Zw(null),o=i.current,c=es(),c=Ai(c),m=Vi(c),m.callback=null,ki(o,m,c),o=c,i.current.lanes=o,Vr(i,o),hr(i),r[os]=i.current,Fg(r),new Wd(i)},fc.version="19.1.1",fc}var yT;function nP(){if(yT)return ly.exports;yT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ly.exports=tP(),ly.exports}var sP=nP();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vT="popstate";function rP(t={}){function e(s,a){let{pathname:l,search:u,hash:h}=s.location;return Qy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:zc(a)}return aP(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zs(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iP(){return Math.random().toString(36).substring(2,10)}function _T(t,e){return{usr:t.state,key:t.key,idx:e}}function Qy(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yl(e):e,state:n,key:e&&e.key||s||iP()}}function zc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function aP(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,u=a.history,h="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function b(){h="POP";let k=g(),O=k==null?null:k-p;p=k,f&&f({action:h,location:M.location,delta:O})}function E(k,O){h="PUSH";let P=Qy(M.location,k,O);p=g()+1;let q=_T(P,p),se=M.createHref(P);try{u.pushState(q,"",se)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;a.location.assign(se)}l&&f&&f({action:h,location:M.location,delta:1})}function x(k,O){h="REPLACE";let P=Qy(M.location,k,O);p=g();let q=_T(P,p),se=M.createHref(P);u.replaceState(q,"",se),l&&f&&f({action:h,location:M.location,delta:0})}function D(k){return oP(k)}let M={get action(){return h},get location(){return t(a,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(vT,b),f=k,()=>{a.removeEventListener(vT,b),f=null}},createHref(k){return e(a,k)},createURL:D,encodeLocation(k){let O=D(k);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:x,go(k){return u.go(k)}};return M}function oP(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:zc(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Z1(t,e,n="/"){return lP(t,e,n,!1)}function lP(t,e,n,s){let a=typeof e=="string"?Yl(e):e,l=di(a.pathname||"/",n);if(l==null)return null;let u=J1(t);uP(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=bP(l);h=vP(u[f],p,s)}return h}function J1(t,e=[],n=[],s="",a=!1){let l=(u,h,f=a,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&f)return;Et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let b=ui([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),J1(u.children,e,E,b,f)),!(u.path==null&&!u.index)&&e.push({path:b,score:gP(b,u.index),routesMeta:E})};return t.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))l(u,h);else for(let f of eA(u.path))l(u,h,!0,f)}),e}function eA(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let u=eA(s.join("/")),h=[];return h.push(...u.map(f=>f===""?l:[l,f].join("/"))),a&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function uP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yP(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var cP=/^:[\w-]+$/,hP=3,dP=2,fP=1,mP=10,pP=-2,bT=t=>t==="*";function gP(t,e){let n=t.split("/"),s=n.length;return n.some(bT)&&(s+=pP),e&&(s+=dP),n.filter(a=>!bT(a)).reduce((a,l)=>a+(cP.test(l)?hP:l===""?fP:mP),s)}function yP(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function vP(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",u=[];for(let h=0;h<s.length;++h){let f=s[h],p=h===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",b=Bf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!b&&p&&n&&!s[s.length-1].route.index&&(b=Bf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:ui([l,b.pathname]),pathnameBase:xP(ui([l,b.pathnameBase])),route:E}),b.pathnameBase!=="/"&&(l=ui([l,b.pathnameBase]))}return u}function Bf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=_P(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:b},E)=>{if(g==="*"){let D=h[E]||"";u=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const x=h[E];return b&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function _P(t,e=!1,n=!0){zs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(s.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function bP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function EP(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?Yl(t):t;return{pathname:n?n.startsWith("/")?n:wP(n,e):e,search:SP(s),hash:AP(a)}}function wP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function dy(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function TP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(t){let e=TP(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function n0(t,e,n,s=!1){let a;typeof t=="string"?a=Yl(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),dy("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),dy("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),dy("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let b=e.length-1;if(!s&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),b-=1;a.pathname=E.join("/")}h=b>=0?e[b]:"/"}let f=EP(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var ui=t=>t.join("/").replace(/\/\/+/g,"/"),xP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,AP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var tA=["POST","PUT","PATCH","DELETE"];new Set(tA);var CP=["GET",...tA];new Set(CP);var Ql=V.createContext(null);Ql.displayName="DataRouter";var xm=V.createContext(null);xm.displayName="DataRouterState";V.createContext(!1);var nA=V.createContext({isTransitioning:!1});nA.displayName="ViewTransition";var IP=V.createContext(new Map);IP.displayName="Fetchers";var NP=V.createContext(null);NP.displayName="Await";var $s=V.createContext(null);$s.displayName="Navigation";var oh=V.createContext(null);oh.displayName="Location";var Ks=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ks.displayName="Route";var s0=V.createContext(null);s0.displayName="RouteError";function DP(t,{relative:e}={}){Et(Xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=V.useContext($s),{hash:a,pathname:l,search:u}=lh(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:ui([n,l])),s.createHref({pathname:h,search:u,hash:a})}function Xl(){return V.useContext(oh)!=null}function Ei(){return Et(Xl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(oh).location}var sA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rA(t){V.useContext($s).static||V.useLayoutEffect(t)}function xa(){let{isDataRoute:t}=V.useContext(Ks);return t?HP():PP()}function PP(){Et(Xl(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Ql),{basename:e,navigator:n}=V.useContext($s),{matches:s}=V.useContext(Ks),{pathname:a}=Ei(),l=JSON.stringify(t0(s)),u=V.useRef(!1);return rA(()=>{u.current=!0}),V.useCallback((f,p={})=>{if(zs(u.current,sA),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=n0(f,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:ui([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,a,t])}V.createContext(null);function r0(){let{matches:t}=V.useContext(Ks),e=t[t.length-1];return e?e.params:{}}function lh(t,{relative:e}={}){let{matches:n}=V.useContext(Ks),{pathname:s}=Ei(),a=JSON.stringify(t0(n));return V.useMemo(()=>n0(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function MP(t,e){return iA(t,e)}function iA(t,e,n,s,a){Et(Xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=V.useContext($s),{matches:u}=V.useContext(Ks),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let P=b&&b.path||"";aA(p,!b||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let E=Ei(),x;if(e){let P=typeof e=="string"?Yl(e):e;Et(g==="/"||P.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${P.pathname}" was given in the \`location\` prop.`),x=P}else x=E;let D=x.pathname||"/",M=D;if(g!=="/"){let P=g.replace(/^\//,"").split("/");M="/"+D.replace(/^\//,"").split("/").slice(P.length).join("/")}let k=Z1(t,{pathname:M});zs(b||k!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),zs(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=LP(k&&k.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:ui([g,l.encodeLocation?l.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?g:ui([g,l.encodeLocation?l.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,s,a);return e&&O?V.createElement(oh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},O):O}function OP(){let t=qP(),e=RP(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:l},"ErrorBoundary")," or"," ",V.createElement("code",{style:l},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:a},n):null,u)}var VP=V.createElement(OP,null),kP=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(Ks.Provider,{value:this.props.routeContext},V.createElement(s0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jP({routeContext:t,match:e,children:n}){let s=V.useContext(Ql);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ks.Provider,{value:t},n)}function LP(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,u=n?.errors;if(u!=null){let p=l.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:b,errors:E}=n,x=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||x){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,g,b)=>{let E,x=!1,D=null,M=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||VP,h&&(f<0&&b===0?(aA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):f===b&&(x=!0,M=g.route.hydrateFallbackElement||null)));let k=e.concat(l.slice(0,b+1)),O=()=>{let P;return E?P=D:x?P=M:g.route.Component?P=V.createElement(g.route.Component,null):g.route.element?P=g.route.element:P=p,V.createElement(jP,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:P})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?V.createElement(kP,{location:n.location,revalidation:n.revalidation,component:D,error:E,children:O(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:s}):O()},null)}function i0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UP(t){let e=V.useContext(Ql);return Et(e,i0(t)),e}function BP(t){let e=V.useContext(xm);return Et(e,i0(t)),e}function FP(t){let e=V.useContext(Ks);return Et(e,i0(t)),e}function a0(t){let e=FP(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zP(){return a0("useRouteId")}function qP(){let t=V.useContext(s0),e=BP("useRouteError"),n=a0("useRouteError");return t!==void 0?t:e.errors?.[n]}function HP(){let{router:t}=UP("useNavigate"),e=a0("useNavigate"),n=V.useRef(!1);return rA(()=>{n.current=!0}),V.useCallback(async(a,l={})=>{zs(n.current,sA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var ET={};function aA(t,e,n){!e&&!ET[t]&&(ET[t]=!0,zs(!1,n))}V.memo(GP);function GP({routes:t,future:e,state:n,unstable_onError:s}){return iA(t,void 0,n,s,e)}function oA({to:t,replace:e,state:n,relative:s}){Et(Xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=V.useContext($s);zs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=V.useContext(Ks),{pathname:u}=Ei(),h=xa(),f=n0(t,t0(l),u,s==="path"),p=JSON.stringify(f);return V.useEffect(()=>{h(JSON.parse(p),{replace:e,state:n,relative:s})},[h,p,s,e,n]),null}function bs(t){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $P({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1}){Et(!Xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=V.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Yl(n));let{pathname:f="/",search:p="",hash:g="",state:b=null,key:E="default"}=n,x=V.useMemo(()=>{let D=di(f,u);return D==null?null:{location:{pathname:D,search:p,hash:g,state:b,key:E},navigationType:s}},[u,f,p,g,b,E,s]);return zs(x!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:V.createElement($s.Provider,{value:h},V.createElement(oh.Provider,{children:e,value:x}))}function KP({children:t,location:e}){return MP(Xy(t),e)}function Xy(t,e=[]){let n=[];return V.Children.forEach(t,(s,a)=>{if(!V.isValidElement(s))return;let l=[...e,a];if(s.type===V.Fragment){n.push.apply(n,Xy(s.props.children,l));return}Et(s.type===bs,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let u={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(u.children=Xy(s.props.children,l)),n.push(u)}),n}var bf="get",Ef="application/x-www-form-urlencoded";function Sm(t){return t!=null&&typeof t.tagName=="string"}function WP(t){return Sm(t)&&t.tagName.toLowerCase()==="button"}function YP(t){return Sm(t)&&t.tagName.toLowerCase()==="form"}function QP(t){return Sm(t)&&t.tagName.toLowerCase()==="input"}function XP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZP(t,e){return t.button===0&&(!e||e==="_self")&&!XP(t)}var Qd=null;function JP(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var eM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fy(t){return t!=null&&!eM.has(t)?(zs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ef}"`),null):t}function tM(t,e){let n,s,a,l,u;if(YP(t)){let h=t.getAttribute("action");s=h?di(h,e):null,n=t.getAttribute("method")||bf,a=fy(t.getAttribute("enctype"))||Ef,l=new FormData(t)}else if(WP(t)||QP(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(s=f?di(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||bf,a=fy(t.getAttribute("formenctype"))||fy(h.getAttribute("enctype"))||Ef,l=new FormData(h,t),!JP()){let{name:p,type:g,value:b}=t;if(g==="image"){let E=p?`${p}.`:"";l.append(`${E}x`,"0"),l.append(`${E}y`,"0")}else p&&l.append(p,b)}}else{if(Sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bf,s=null,a=Ef,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nM(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&di(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function sM(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rM(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function iM(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await sM(l,n);return u.links?u.links():[]}return[]}));return uM(s.flat(1).filter(rM).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function wT(t,e,n,s,a,l){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):l==="data"?e.filter((f,p)=>{let g=s.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aM(t,e,{includeHydrateFallback:n}={}){return oM(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function oM(t){return[...new Set(t)]}function lM(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function uM(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(lM(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function lA(){let t=V.useContext(Ql);return o0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function cM(){let t=V.useContext(xm);return o0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var l0=V.createContext(void 0);l0.displayName="FrameworkContext";function uA(){let t=V.useContext(l0);return o0(t,"You must render this element inside a <HydratedRouter> element"),t}function hM(t,e){let n=V.useContext(l0),[s,a]=V.useState(!1),[l,u]=V.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:b}=e,E=V.useRef(null);V.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=O=>{O.forEach(P=>{u(P.isIntersecting)})},k=new IntersectionObserver(M,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[t]),V.useEffect(()=>{if(s){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[s]);let x=()=>{a(!0)},D=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,E,{}]:[l,E,{onFocus:mc(h,x),onBlur:mc(f,D),onMouseEnter:mc(p,x),onMouseLeave:mc(g,D),onTouchStart:mc(b,x)}]:[!1,E,{}]}function mc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function dM({page:t,...e}){let{router:n}=lA(),s=V.useMemo(()=>Z1(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?V.createElement(mM,{page:t,matches:s,...e}):null}function fM(t){let{manifest:e,routeModules:n}=uA(),[s,a]=V.useState([]);return V.useEffect(()=>{let l=!1;return iM(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),s}function mM({page:t,matches:e,...n}){let s=Ei(),{manifest:a,routeModules:l}=uA(),{basename:u}=lA(),{loaderData:h,matches:f}=cM(),p=V.useMemo(()=>wT(t,e,f,a,s,"data"),[t,e,f,a,s]),g=V.useMemo(()=>wT(t,e,f,a,s,"assets"),[t,e,f,a,s]),b=V.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let D=new Set,M=!1;if(e.forEach(O=>{let P=a.routes[O.route.id];!P||!P.hasLoader||(!p.some(q=>q.route.id===O.route.id)&&O.route.id in h&&l[O.route.id]?.shouldRevalidate||P.hasClientLoader?M=!0:D.add(O.route.id))}),D.size===0)return[];let k=nM(t,u,"data");return M&&D.size>0&&k.searchParams.set("_routes",e.filter(O=>D.has(O.route.id)).map(O=>O.route.id).join(",")),[k.pathname+k.search]},[u,h,s,a,p,e,t,l]),E=V.useMemo(()=>aM(g,a),[g,a]),x=fM(g);return V.createElement(V.Fragment,null,b.map(D=>V.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),E.map(D=>V.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),x.map(({key:D,link:M})=>V.createElement("link",{key:D,nonce:n.nonce,...M})))}function pM(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var cA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cA&&(window.__reactRouterVersion="7.8.2")}catch{}function gM({basename:t,children:e,window:n}){let s=V.useRef();s.current==null&&(s.current=rP({window:n,v5Compat:!0}));let a=s.current,[l,u]=V.useState({action:a.action,location:a.location}),h=V.useCallback(f=>{V.startTransition(()=>u(f))},[u]);return V.useLayoutEffect(()=>a.listen(h),[a,h]),V.createElement($P,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var hA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=V.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:u,state:h,target:f,to:p,preventScrollReset:g,viewTransition:b,...E},x){let{basename:D}=V.useContext($s),M=typeof p=="string"&&hA.test(p),k,O=!1;if(typeof p=="string"&&M&&(k=p,cA))try{let N=new URL(window.location.href),L=p.startsWith("//")?new URL(N.protocol+p):new URL(p),B=di(L.pathname,D);L.origin===N.origin&&B!=null?p=B+L.search+L.hash:O=!0}catch{zs(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=DP(p,{relative:a}),[q,se,Q]=hM(s,E),ce=bM(p,{replace:u,state:h,target:f,preventScrollReset:g,relative:a,viewTransition:b});function j(N){e&&e(N),N.defaultPrevented||ce(N)}let A=V.createElement("a",{...E,...Q,href:k||P,onClick:O||l?e:j,ref:pM(x,se),target:f,"data-discover":!M&&n==="render"?"true":void 0});return q&&!M?V.createElement(V.Fragment,null,A,V.createElement(dM,{page:P})):A});Tn.displayName="Link";var yM=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:u,viewTransition:h,children:f,...p},g){let b=lh(u,{relative:p.relative}),E=Ei(),x=V.useContext(xm),{navigator:D,basename:M}=V.useContext($s),k=x!=null&&SM(b)&&h===!0,O=D.encodeLocation?D.encodeLocation(b).pathname:b.pathname,P=E.pathname,q=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(P=P.toLowerCase(),q=q?q.toLowerCase():null,O=O.toLowerCase()),q&&M&&(q=di(q,M)||q);const se=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=P===O||!a&&P.startsWith(O)&&P.charAt(se)==="/",ce=q!=null&&(q===O||!a&&q.startsWith(O)&&q.charAt(O.length)==="/"),j={isActive:Q,isPending:ce,isTransitioning:k},A=Q?e:void 0,N;typeof s=="function"?N=s(j):N=[s,Q?"active":null,ce?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let L=typeof l=="function"?l(j):l;return V.createElement(Tn,{...p,"aria-current":A,className:N,ref:g,style:L,to:u,viewTransition:h},typeof f=="function"?f(j):f)});yM.displayName="NavLink";var vM=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:u=bf,action:h,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:b,...E},x)=>{let D=TM(),M=xM(h,{relative:p}),k=u.toLowerCase()==="get"?"get":"post",O=typeof h=="string"&&hA.test(h),P=q=>{if(f&&f(q),q.defaultPrevented)return;q.preventDefault();let se=q.nativeEvent.submitter,Q=se?.getAttribute("formmethod")||u;D(se||q.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:a,state:l,relative:p,preventScrollReset:g,viewTransition:b})};return V.createElement("form",{ref:x,method:k,action:M,onSubmit:s?f:P,...E,"data-discover":!O&&t==="render"?"true":void 0})});vM.displayName="Form";function _M(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dA(t){let e=V.useContext(Ql);return Et(e,_M(t)),e}function bM(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=xa(),f=Ei(),p=lh(t,{relative:l});return V.useCallback(g=>{if(ZP(g,e)){g.preventDefault();let b=n!==void 0?n:zc(f)===zc(p);h(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:u})}},[f,h,p,n,s,e,t,a,l,u])}var EM=0,wM=()=>`__${String(++EM)}__`;function TM(){let{router:t}=dA("useSubmit"),{basename:e}=V.useContext($s),n=zP();return V.useCallback(async(s,a={})=>{let{action:l,method:u,encType:h,formData:f,body:p}=tM(s,e);if(a.navigate===!1){let g=a.fetcherKey||wM();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:f,body:p,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function xM(t,{relative:e}={}){let{basename:n}=V.useContext($s),s=V.useContext(Ks);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...lh(t||".",{relative:e})},u=Ei();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),f=h.getAll("index");if(f.some(g=>g==="")){h.delete("index"),f.filter(b=>b).forEach(b=>h.append("index",b));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:ui([n,l.pathname])),zc(l)}function SM(t,{relative:e}={}){let n=V.useContext(nA);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dA("useViewTransitionState"),a=lh(t,{relative:e});if(!n.isTransitioning)return!1;let l=di(n.currentLocation.pathname,s)||n.currentLocation.pathname,u=di(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Bf(a.pathname,u)!=null||Bf(a.pathname,l)!=null}var Am=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rm=typeof window>"u"||"Deno"in globalThis;function Ls(){}function AM(t,e){return typeof t=="function"?t(e):t}function RM(t){return typeof t=="number"&&t>=0&&t!==1/0}function CM(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Zy(t,e){return typeof t=="function"?t(e):t}function IM(t,e){return typeof t=="function"?t(e):t}function TT(t,e){const{type:n="all",exact:s,fetchStatus:a,predicate:l,queryKey:u,stale:h}=t;if(u){if(s){if(e.queryHash!==u0(u,e.options))return!1}else if(!Hc(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||l&&!l(e))}function xT(t,e){const{exact:n,status:s,predicate:a,mutationKey:l}=t;if(l){if(!e.options.mutationKey)return!1;if(n){if(qc(e.options.mutationKey)!==qc(l))return!1}else if(!Hc(e.options.mutationKey,l))return!1}return!(s&&e.state.status!==s||a&&!a(e))}function u0(t,e){return(e?.queryKeyHashFn||qc)(t)}function qc(t){return JSON.stringify(t,(e,n)=>Jy(n)?Object.keys(n).sort().reduce((s,a)=>(s[a]=n[a],s),{}):n)}function Hc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Hc(t[n],e[n])):!1}function fA(t,e){if(t===e)return t;const n=ST(t)&&ST(e);if(n||Jy(t)&&Jy(e)){const s=n?t:Object.keys(t),a=s.length,l=n?e:Object.keys(e),u=l.length,h=n?[]:{},f=new Set(s);let p=0;for(let g=0;g<u;g++){const b=n?g:l[g];(!n&&f.has(b)||n)&&t[b]===void 0&&e[b]===void 0?(h[b]=void 0,p++):(h[b]=fA(t[b],e[b]),h[b]===t[b]&&t[b]!==void 0&&p++)}return a===u&&p===a?t:h}return e}function ST(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jy(t){if(!AT(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!AT(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function AT(t){return Object.prototype.toString.call(t)==="[object Object]"}function NM(t){return new Promise(e=>{setTimeout(e,t)})}function DM(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?fA(t,e):e}function PM(t,e,n=0){const s=[...t,e];return n&&s.length>n?s.slice(1):s}function MM(t,e,n=0){const s=[e,...t];return n&&s.length>n?s.slice(0,-1):s}var c0=Symbol();function mA(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===c0?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var OM=class extends Am{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Rm&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},pA=new OM,VM=class extends Am{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Rm&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Ff=new VM;function kM(){let t,e;const n=new Promise((a,l)=>{t=a,e=l});n.status="pending",n.catch(()=>{});function s(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{s({status:"fulfilled",value:a}),t(a)},n.reject=a=>{s({status:"rejected",reason:a}),e(a)},n}function jM(t){return Math.min(1e3*2**t,3e4)}function gA(t){return(t??"online")==="online"?Ff.isOnline():!0}var yA=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function vA(t){let e=!1,n=0,s;const a=kM(),l=()=>a.status!=="pending",u=M=>{l()||(E(new yA(M)),t.abort?.())},h=()=>{e=!0},f=()=>{e=!1},p=()=>pA.isFocused()&&(t.networkMode==="always"||Ff.isOnline())&&t.canRun(),g=()=>gA(t.networkMode)&&t.canRun(),b=M=>{l()||(s?.(),a.resolve(M))},E=M=>{l()||(s?.(),a.reject(M))},x=()=>new Promise(M=>{s=k=>{(l()||p())&&M(k)},t.onPause?.()}).then(()=>{s=void 0,l()||t.onContinue?.()}),D=()=>{if(l())return;let M;const k=n===0?t.initialPromise:void 0;try{M=k??t.fn()}catch(O){M=Promise.reject(O)}Promise.resolve(M).then(b).catch(O=>{if(l())return;const P=t.retry??(Rm?0:3),q=t.retryDelay??jM,se=typeof q=="function"?q(n,O):q,Q=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,O);if(e||!Q){E(O);return}n++,t.onFail?.(n,O),NM(se).then(()=>p()?void 0:x()).then(()=>{e?E(O):D()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(s?.(),a),cancelRetry:h,continueRetry:f,canStart:g,start:()=>(g()?D():x().then(D),a)}}var LM=t=>setTimeout(t,0);function UM(){let t=[],e=0,n=h=>{h()},s=h=>{h()},a=LM;const l=h=>{e?t.push(h):a(()=>{n(h)})},u=()=>{const h=t;t=[],h.length&&a(()=>{s(()=>{h.forEach(f=>{n(f)})})})};return{batch:h=>{let f;e++;try{f=h()}finally{e--,e||u()}return f},batchCalls:h=>(...f)=>{l(()=>{h(...f)})},schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{s=h},setScheduler:h=>{a=h}}}var Mn=UM(),_A=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RM(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rm?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},BM=class extends _A{#e;#t;#n;#r;#s;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=zM(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#s?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const s=DM(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),s}setState(e,n){this.#i({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#s?.promise;return this.#s?.cancel(e),n?n.then(Ls).catch(Ls):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>IM(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===c0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Zy(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!CM(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#s?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#s?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#s&&(this.#o?this.#s.cancel({revert:!0}):this.#s.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#s?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#s)return this.#s.continueRetry(),this.#s.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const s=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},l=()=>{const f=mA(this.options,n),g=(()=>{const b={client:this.#r,queryKey:this.queryKey,meta:this.meta};return a(b),b})();return this.#o=!1,this.options.persister?this.options.persister(f,g,this):f(g)},h=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:l};return a(f),f})();this.options.behavior?.onFetch(h,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==h.fetchOptions?.meta)&&this.#i({type:"fetch",meta:h.fetchOptions?.meta}),this.#s=vA({initialPromise:n?.initialPromise,fn:h.fetchFn,abort:s.abort.bind(s),onFail:(f,p)=>{this.#i({type:"failed",failureCount:f,error:p})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0});try{const f=await this.#s.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof yA){if(f.silent)return this.#s.promise;if(f.revert){if(this.setState({...this.#t,fetchStatus:"idle"}),this.state.data===void 0)throw f;return this.state.data}}throw this.#i({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#i(e){const n=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...FM(s.data,this.options),fetchMeta:e.meta??null};case"success":const a={...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const l=e.error;return{...s,error:l,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=n(this.state),Mn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function FM(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gA(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zM(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qM=class extends Am{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const s=e.queryKey,a=e.queryHash??u0(s,e);let l=this.get(a);return l||(l=new BM({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(l)),l}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>TT(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>TT(t,n)):e}notify(t){Mn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},HM=class extends _A{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||GM(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(n=>n!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#r({type:"continue"})};this.#n=vA({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const s=this.state.status==="pending",a=!this.#n.canStart();try{if(s)n();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#t.config.onMutate?.(e,this);const u=await this.options.onMutate?.(e);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const l=await this.#n.start();return await this.#t.config.onSuccess?.(l,e,this.state.context,this),await this.options.onSuccess?.(l,e,this.state.context),await this.#t.config.onSettled?.(l,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(l,null,e,this.state.context),this.#r({type:"success",data:l}),l}catch(l){try{throw await this.#t.config.onError?.(l,e,this.state.context,this),await this.options.onError?.(l,e,this.state.context),await this.#t.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,l,e,this.state.context),l}finally{this.#r({type:"error",error:l})}}finally{this.#t.runNext(this)}}#r(e){const n=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Mn.batch(()=>{this.#e.forEach(s=>{s.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function GM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var $M=class extends Am{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const s=new HM({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(s),s}add(t){this.#e.add(t);const e=Xd(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Xd(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Xd(t);if(typeof e=="string"){const s=this.#t.get(e)?.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){const e=Xd(t);return typeof e=="string"?this.#t.get(e)?.find(s=>s!==t&&s.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Mn.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>xT(e,n))}findAll(t={}){return this.getAll().filter(e=>xT(t,e))}notify(t){Mn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Mn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ls))))}};function Xd(t){return t.options.scope?.id}function RT(t){return{onFetch:(e,n)=>{const s=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,l=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let h={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const b=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},E=mA(e.options,e.fetchOptions),x=async(D,M,k)=>{if(g)return Promise.reject();if(M==null&&D.pages.length)return Promise.resolve(D);const P=(()=>{const ce={client:e.client,queryKey:e.queryKey,pageParam:M,direction:k?"backward":"forward",meta:e.options.meta};return b(ce),ce})(),q=await E(P),{maxPages:se}=e.options,Q=k?MM:PM;return{pages:Q(D.pages,q,se),pageParams:Q(D.pageParams,M,se)}};if(a&&l.length){const D=a==="backward",M=D?KM:CT,k={pages:l,pageParams:u},O=M(s,k);h=await x(k,O,D)}else{const D=t??l.length;do{const M=f===0?u[0]??s.initialPageParam:CT(s,h);if(f>0&&M==null)break;h=await x(h,M),f++}while(f<D)}return h};e.options.persister?e.fetchFn=()=>e.options.persister?.(p,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=p}}}function CT(t,{pages:e,pageParams:n}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,n[s],n):void 0}function KM(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var WM=class{#e;#t;#n;#r;#s;#a;#o;#i;constructor(t={}){this.#e=t.queryCache||new qM,this.#t=t.mutationCache||new $M,this.#n=t.defaultOptions||{},this.#r=new Map,this.#s=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=pA.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Ff.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),s=n.state.data;return s===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Zy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(s))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const s=n.data;return[e,s]})}setQueryData(t,e,n){const s=this.defaultQueryOptions({queryKey:t}),l=this.#e.get(s.queryHash)?.state.data,u=AM(e,l);if(u!==void 0)return this.#e.build(this,s).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Mn.batch(()=>this.#e.findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Mn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Mn.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},s=Mn.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(s).then(Ls).catch(Ls)}invalidateQueries(t,e={}){return Mn.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},s=Mn.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(Ls)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(s).then(Ls)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(Zy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ls).catch(Ls)}fetchInfiniteQuery(t){return t.behavior=RT(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ls).catch(Ls)}ensureInfiniteQueryData(t){return t.behavior=RT(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ff.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(s=>{Hc(t,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(t,e){this.#s.set(qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#s.values()],n={};return e.forEach(s=>{Hc(t,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=u0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===c0&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},YM=V.createContext(void 0),QM=({client:t,children:e})=>(V.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),v.jsx(YM.Provider,{value:t,children:e}));let XM={data:""},ZM=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||XM,JM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,eO=/\/\*[^]*?\*\/|  +/g,IT=/\n+/g,sa=(t,e)=>{let n="",s="",a="";for(let l in t){let u=t[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":s+=l[1]=="f"?sa(u,l):l+"{"+sa(u,l[1]=="k"?"":e)+"}":typeof u=="object"?s+=sa(u,e?e.replace(/([^,])+/g,h=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=sa.p?sa.p(l,u):l+":"+u+";")}return n+(e&&a?e+"{"+a+"}":a)+s},ii={},bA=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+bA(t[n]);return e}return t},tO=(t,e,n,s,a)=>{let l=bA(t),u=ii[l]||(ii[l]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(l));if(!ii[u]){let f=l!==t?t:(p=>{let g,b,E=[{}];for(;g=JM.exec(p.replace(eO,""));)g[4]?E.shift():g[3]?(b=g[3].replace(IT," ").trim(),E.unshift(E[0][b]=E[0][b]||{})):E[0][g[1]]=g[2].replace(IT," ").trim();return E[0]})(t);ii[u]=sa(a?{["@keyframes "+u]:f}:f,n?"":"."+u)}let h=n&&ii.g?ii.g:null;return n&&(ii.g=ii[u]),((f,p,g,b)=>{b?p.data=p.data.replace(b,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(ii[u],e,s,h),u},nO=(t,e,n)=>t.reduce((s,a,l)=>{let u=e[l];if(u&&u.call){let h=u(n),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=f?"."+f:h&&typeof h=="object"?h.props?"":sa(h,""):h===!1?"":h}return s+a+(u??"")},"");function Cm(t){let e=this||{},n=t.call?t(e.p):t;return tO(n.unshift?n.raw?nO(n,[].slice.call(arguments,1),e.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):n,ZM(e.target),e.g,e.o,e.k)}let EA,ev,tv;Cm.bind({g:1});let fi=Cm.bind({k:1});function sO(t,e,n,s){sa.p=e,EA=t,ev=n,tv=s}function Sa(t,e){let n=this||{};return function(){let s=arguments;function a(l,u){let h=Object.assign({},l),f=h.className||a.className;n.p=Object.assign({theme:ev&&ev()},h),n.o=/ *go\d+/.test(f),h.className=Cm.apply(n,s)+(f?" "+f:"");let p=t;return t[0]&&(p=h.as||t,delete h.as),tv&&p[0]&&tv(h),EA(p,h)}return a}}var rO=t=>typeof t=="function",zf=(t,e)=>rO(t)?t(e):t,iO=(()=>{let t=0;return()=>(++t).toString()})(),wA=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aO=20,h0="default",TA=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:s}=e;return TA(t,{type:t.toasts.find(u=>u.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(u=>u.id===a||a===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let l=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},wf=[],xA={toasts:[],pausedAt:void 0,settings:{toastLimit:aO}},pr={},SA=(t,e=h0)=>{pr[e]=TA(pr[e]||xA,t),wf.forEach(([n,s])=>{n===e&&s(pr[e])})},AA=t=>Object.keys(pr).forEach(e=>SA(t,e)),oO=t=>Object.keys(pr).find(e=>pr[e].toasts.some(n=>n.id===t)),Im=(t=h0)=>e=>{SA(e,t)},lO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uO=(t={},e=h0)=>{let[n,s]=V.useState(pr[e]||xA),a=V.useRef(pr[e]);V.useEffect(()=>(a.current!==pr[e]&&s(pr[e]),wf.push([e,s]),()=>{let u=wf.findIndex(([h])=>h===e);u>-1&&wf.splice(u,1)}),[e]);let l=n.toasts.map(u=>{var h,f,p;return{...t,...t[u.type],...u,removeDelay:u.removeDelay||((h=t[u.type])==null?void 0:h.removeDelay)||t?.removeDelay,duration:u.duration||((f=t[u.type])==null?void 0:f.duration)||t?.duration||lO[u.type],style:{...t.style,...(p=t[u.type])==null?void 0:p.style,...u.style}}});return{...n,toasts:l}},cO=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||iO()}),uh=t=>(e,n)=>{let s=cO(e,t,n);return Im(s.toasterId||oO(s.id))({type:2,toast:s}),s.id},we=(t,e)=>uh("blank")(t,e);we.error=uh("error");we.success=uh("success");we.loading=uh("loading");we.custom=uh("custom");we.dismiss=(t,e)=>{let n={type:3,toastId:t};e?Im(e)(n):AA(n)};we.dismissAll=t=>we.dismiss(void 0,t);we.remove=(t,e)=>{let n={type:4,toastId:t};e?Im(e)(n):AA(n)};we.removeAll=t=>we.remove(void 0,t);we.promise=(t,e,n)=>{let s=we.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(a=>{let l=e.success?zf(e.success,a):void 0;return l?we.success(l,{id:s,...n,...n?.success}):we.dismiss(s),a}).catch(a=>{let l=e.error?zf(e.error,a):void 0;l?we.error(l,{id:s,...n,...n?.error}):we.dismiss(s)}),t};var hO=1e3,dO=(t,e="default")=>{let{toasts:n,pausedAt:s}=uO(t,e),a=V.useRef(new Map).current,l=V.useCallback((b,E=hO)=>{if(a.has(b))return;let x=setTimeout(()=>{a.delete(b),u({type:4,toastId:b})},E);a.set(b,x)},[]);V.useEffect(()=>{if(s)return;let b=Date.now(),E=n.map(x=>{if(x.duration===1/0)return;let D=(x.duration||0)+x.pauseDuration-(b-x.createdAt);if(D<0){x.visible&&we.dismiss(x.id);return}return setTimeout(()=>we.dismiss(x.id,e),D)});return()=>{E.forEach(x=>x&&clearTimeout(x))}},[n,s,e]);let u=V.useCallback(Im(e),[e]),h=V.useCallback(()=>{u({type:5,time:Date.now()})},[u]),f=V.useCallback((b,E)=>{u({type:1,toast:{id:b,height:E}})},[u]),p=V.useCallback(()=>{s&&u({type:6,time:Date.now()})},[s,u]),g=V.useCallback((b,E)=>{let{reverseOrder:x=!1,gutter:D=8,defaultPosition:M}=E||{},k=n.filter(q=>(q.position||M)===(b.position||M)&&q.height),O=k.findIndex(q=>q.id===b.id),P=k.filter((q,se)=>se<O&&q.visible).length;return k.filter(q=>q.visible).slice(...x?[P+1]:[0,P]).reduce((q,se)=>q+(se.height||0)+D,0)},[n]);return V.useEffect(()=>{n.forEach(b=>{if(b.dismissed)l(b.id,b.removeDelay);else{let E=a.get(b.id);E&&(clearTimeout(E),a.delete(b.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:f,startPause:h,endPause:p,calculateOffset:g}}},fO=fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mO=fi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pO=fi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,gO=Sa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${fO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${pO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,yO=fi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,vO=Sa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${yO} 1s linear infinite;
`,_O=fi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bO=fi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,EO=Sa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_O} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,wO=Sa("div")`
  position: absolute;
`,TO=Sa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,xO=fi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SO=Sa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${xO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AO=({toast:t})=>{let{icon:e,type:n,iconTheme:s}=t;return e!==void 0?typeof e=="string"?V.createElement(SO,null,e):e:n==="blank"?null:V.createElement(TO,null,V.createElement(vO,{...s}),n!=="loading"&&V.createElement(wO,null,n==="error"?V.createElement(gO,{...s}):V.createElement(EO,{...s})))},RO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,CO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,IO="0%{opacity:0;} 100%{opacity:1;}",NO="0%{opacity:1;} 100%{opacity:0;}",DO=Sa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PO=Sa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,MO=(t,e)=>{let n=t.includes("top")?1:-1,[s,a]=wA()?[IO,NO]:[RO(n),CO(n)];return{animation:e?`${fi(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fi(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},OO=V.memo(({toast:t,position:e,style:n,children:s})=>{let a=t.height?MO(t.position||e||"top-center",t.visible):{opacity:0},l=V.createElement(AO,{toast:t}),u=V.createElement(PO,{...t.ariaProps},zf(t.message,t));return V.createElement(DO,{className:t.className,style:{...a,...n,...t.style}},typeof s=="function"?s({icon:l,message:u}):V.createElement(V.Fragment,null,l,u))});sO(V.createElement);var VO=({id:t,className:e,style:n,onHeightUpdate:s,children:a})=>{let l=V.useCallback(u=>{if(u){let h=()=>{let f=u.getBoundingClientRect().height;s(t,f)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return V.createElement("div",{ref:l,className:e,style:n},a)},kO=(t,e)=>{let n=t.includes("top"),s=n?{top:0}:{bottom:0},a=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:wA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...a}},jO=Cm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zd=16,LO=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:s,children:a,toasterId:l,containerStyle:u,containerClassName:h})=>{let{toasts:f,handlers:p}=dO(n,l);return V.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Zd,left:Zd,right:Zd,bottom:Zd,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},f.map(g=>{let b=g.position||e,E=p.calculateOffset(g,{reverseOrder:t,gutter:s,defaultPosition:e}),x=kO(b,E);return V.createElement(VO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?jO:"",style:x},g.type==="custom"?zf(g.message,g):a?a(g):V.createElement(OO,{toast:g,position:b}))}))};const NT=t=>{let e;const n=new Set,s=(p,g)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const E=e;e=g??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(x=>x(e,E))}},a=()=>e,h={setState:s,getState:a,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p))},f=e=t(s,a,h);return h},UO=(t=>t?NT(t):NT),BO=t=>t;function FO(t,e=BO){const n=mn.useSyncExternalStore(t.subscribe,mn.useCallback(()=>e(t.getState()),[t,e]),mn.useCallback(()=>e(t.getInitialState()),[t,e]));return mn.useDebugValue(n),n}const zO=t=>{const e=UO(t),n=s=>FO(e,s);return Object.assign(n,e),n},RA=(t=>zO),DT={BASE_URL:"/willing-tree/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_BASE_URL:"http://localhost:3001",VITE_APP_ENV:"production",VITE_APP_NAME:"Willing Box",VITE_APP_VERSION:"1.0.0",VITE_ENABLE_ANALYTICS:"false",VITE_ENABLE_EMAIL:"false",VITE_ENABLE_USER_MATCHING:"true",VITE_FIREBASE_API_KEY:"",VITE_FIREBASE_APP_ID:"",VITE_FIREBASE_AUTH_DOMAIN:"",VITE_FIREBASE_MEASUREMENT_ID:"",VITE_FIREBASE_MESSAGING_SENDER_ID:"",VITE_FIREBASE_PROJECT_ID:"",VITE_FIREBASE_STORAGE_BUCKET:"",VITE_FROM_EMAIL:"hello@willingtree.app",VITE_RESEND_API_KEY:"",VITE_SECURITY_HEADERS:"true",VITE_STRIPE_PREMIUM_PRICE_ID:"",VITE_STRIPE_PUBLISHABLE_KEY:"",VITE_USE_FIREBASE_EMULATORS:"false"},Gc=new Map,Jd=t=>{const e=Gc.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,s])=>[n,s.getState()])):{}},qO=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const s=Gc.get(n.name);if(s)return{type:"tracked",store:t,...s};const a={connection:e.connect(n),stores:{}};return Gc.set(n.name,a),{type:"tracked",store:t,...a}},HO=(t,e)=>{if(e===void 0)return;const n=Gc.get(t);n&&(delete n.stores[e],Object.keys(n.stores).length===0&&Gc.delete(t))},GO=t=>{var e,n;if(!t)return;const s=t.split(`
`),a=s.findIndex(u=>u.includes("api.setState"));if(a<0)return;const l=((e=s[a+1])==null?void 0:e.trim())||"";return(n=/.+ (.+) .+/.exec(l))==null?void 0:n[1]},$O=(t,e={})=>(n,s,a)=>{const{enabled:l,anonymousActionType:u,store:h,...f}=e;let p;try{p=(l??(DT?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return t(n,s,a);const{connection:g,...b}=qO(h,p,f);let E=!0;a.setState=((M,k,O)=>{const P=n(M,k);if(!E)return P;const q=O===void 0?{type:u||GO(new Error().stack)||"anonymous"}:typeof O=="string"?{type:O}:O;return h===void 0?(g?.send(q,s()),P):(g?.send({...q,type:`${h}/${q.type}`},{...Jd(f.name),[h]:a.getState()}),P)}),a.devtools={cleanup:()=>{g&&typeof g.unsubscribe=="function"&&g.unsubscribe(),HO(f.name,h)}};const x=(...M)=>{const k=E;E=!1,n(...M),E=k},D=t(a.setState,s,a);if(b.type==="untracked"?g?.init(D):(b.stores[b.store]=a,g?.init(Object.fromEntries(Object.entries(b.stores).map(([M,k])=>[M,M===b.store?D:k.getState()])))),a.dispatchFromDevtools&&typeof a.dispatch=="function"){let M=!1;const k=a.dispatch;a.dispatch=(...O)=>{(DT?"production":void 0)!=="production"&&O[0].type==="__setState"&&!M&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),M=!0),k(...O)}}return g.subscribe(M=>{var k;switch(M.type){case"ACTION":if(typeof M.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return my(M.payload,O=>{if(O.type==="__setState"){if(h===void 0){x(O.state);return}Object.keys(O.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const P=O.state[h];if(P==null)return;JSON.stringify(a.getState())!==JSON.stringify(P)&&x(P);return}a.dispatchFromDevtools&&typeof a.dispatch=="function"&&a.dispatch(O)});case"DISPATCH":switch(M.payload.type){case"RESET":return x(D),h===void 0?g?.init(a.getState()):g?.init(Jd(f.name));case"COMMIT":if(h===void 0){g?.init(a.getState());return}return g?.init(Jd(f.name));case"ROLLBACK":return my(M.state,O=>{if(h===void 0){x(O),g?.init(a.getState());return}x(O[h]),g?.init(Jd(f.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return my(M.state,O=>{if(h===void 0){x(O);return}JSON.stringify(a.getState())!==JSON.stringify(O[h])&&x(O[h])});case"IMPORT_STATE":{const{nextLiftedState:O}=M.payload,P=(k=O.computedStates.slice(-1)[0])==null?void 0:k.state;if(!P)return;x(h===void 0?P:P[h]),g?.send(null,O);return}case"PAUSE_RECORDING":return E=!E}return}}),D},CA=$O,my=(t,e)=>{let n;try{n=JSON.parse(t)}catch(s){console.error("[zustand devtools middleware] Could not parse the received json",s)}n!==void 0&&e(n)};function KO(t,e){let n;try{n=t()}catch{return}return{getItem:a=>{var l;const u=f=>f===null?null:JSON.parse(f,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(u):u(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const nv=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(s){return nv(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return nv(s)(n)}}}},WO=(t,e)=>(n,s,a)=>{let l={storage:KO(()=>localStorage),partialize:M=>M,version:0,merge:(M,k)=>({...k,...M}),...e},u=!1;const h=new Set,f=new Set;let p=l.storage;if(!p)return t((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...M)},s,a);const g=()=>{const M=l.partialize({...s()});return p.setItem(l.name,{state:M,version:l.version})},b=a.setState;a.setState=(M,k)=>(b(M,k),g());const E=t((...M)=>(n(...M),g()),s,a);a.getInitialState=()=>E;let x;const D=()=>{var M,k;if(!p)return;u=!1,h.forEach(P=>{var q;return P((q=s())!=null?q:E)});const O=((k=l.onRehydrateStorage)==null?void 0:k.call(l,(M=s())!=null?M:E))||void 0;return nv(p.getItem.bind(p))(l.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==l.version){if(l.migrate){const q=l.migrate(P.state,P.version);return q instanceof Promise?q.then(se=>[!0,se]):[!0,q]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,P.state];return[!1,void 0]}).then(P=>{var q;const[se,Q]=P;if(x=l.merge(Q,(q=s())!=null?q:E),n(x,!0),se)return g()}).then(()=>{O?.(x,void 0),x=s(),u=!0,f.forEach(P=>P(x))}).catch(P=>{O?.(void 0,P)})};return a.persist={setOptions:M=>{l={...l,...M},M.storage&&(p=M.storage)},clearStorage:()=>{p?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>D(),hasHydrated:()=>u,onHydrate:M=>(h.add(M),()=>{h.delete(M)}),onFinishHydration:M=>(f.add(M),()=>{f.delete(M)})},l.skipHydration||D(),x||E},YO=WO,QO=()=>{};var PT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let a=t.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},XO=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],f=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=t[n++],u=t[n++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},NA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,f=a+2<t.length,p=f?t[a+2]:0,g=l>>2,b=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,x=p&63;f||(x=64,u||(E=64)),s.push(n[g],n[b],n[E],n[x])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(IA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||p==null||b==null)throw new ZO;const E=l<<2|h>>4;if(s.push(E),p!==64){const x=h<<4&240|p>>2;if(s.push(x),b!==64){const D=p<<6&192|b;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JO=function(t){const e=IA(t);return NA.encodeByteArray(e,!0)},qf=function(t){return JO(t).replace(/\./g,"")},DA=function(t){try{return NA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=()=>eV().__FIREBASE_DEFAULTS__,nV=()=>{if(typeof process>"u"||typeof PT>"u")return;const t=PT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},sV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DA(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return QO()||tV()||nV()||sV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PA=t=>Nm()?.emulatorHosts?.[t],MA=t=>{const e=PA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},OA=()=>Nm()?.config,VA=t=>Nm()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[qf(JSON.stringify(n)),qf(JSON.stringify(u)),""].join(".")}const Cc={};function aV(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?t.emulator.push(e):t.prod.push(e);return t}function oV(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MT=!1;function f0(t,e){if(typeof window>"u"||typeof document>"u"||!Aa(window.location.host)||Cc[t]===e||Cc[t]||MT)return;Cc[t]=e;function n(E){return`__firebase__banner__${E}`}const s="__firebase__banner",l=aV().prod.length>0;function u(){const E=document.getElementById(s);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,x){E.setAttribute("width","24"),E.setAttribute("id",x),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{MT=!0,u()},E}function g(E,x){E.setAttribute("id",x),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=oV(s),x=n("text"),D=document.getElementById(x)||document.createElement("span"),M=n("learnmore"),k=document.getElementById(M)||document.createElement("a"),O=n("preprendIcon"),P=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const q=E.element;h(q),g(k,M);const se=p();f(P,O),q.append(P,D,k,se),document.body.appendChild(q)}l?(D.innerText="Preview backend disconnected.",P.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(P.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lV(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function uV(){const t=Nm()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cV(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dV(){const t=Rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fV(){return!uV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jA(){try{return typeof indexedDB=="object"}catch{return!1}}function LA(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function mV(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV="FirebaseError";class Rs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=pV,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Co.prototype.create)}}class Co{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?gV(l,s):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Rs(a,h,s)}}function gV(t,e){return t.replace(yV,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const yV=/\{\$([^}]+)}/g;function vV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pa(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const l=t[a],u=e[a];if(OT(l)&&OT(u)){if(!pa(l,u))return!1}else if(l!==u)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function OT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function bc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ec(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _V(t,e){const n=new bV(t,e);return n.subscribe.bind(n)}class bV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");EV(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=py),a.error===void 0&&(a.error=py),a.complete===void 0&&(a.complete=py);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function py(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=1e3,TV=2,xV=14400*1e3,SV=.5;function VT(t,e=wV,n=TV){const s=e*Math.pow(n,t),a=Math.round(SV*s*(Math.random()-.5)*2);return Math.min(xV,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class As{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new rV;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CV(e))try{this.getOrInitializeService({instanceIdentifier:co})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=co){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=co){return this.instances.has(e)}getOptions(e=co){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&u.resolve(a)}return a}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:RV(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=co){return this.component?this.component.multipleInstances?e:co:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RV(t){return t===co?void 0:t}function CV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const NV={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},DV=Ke.INFO,PV={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},MV=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),a=PV[e];if(a)console[a](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dm{constructor(e){this.name=e,this._logLevel=DV,this._logHandler=MV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const OV=(t,e)=>e.some(n=>t instanceof n);let kT,jT;function VV(){return kT||(kT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kV(){return jT||(jT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,sv=new WeakMap,BA=new WeakMap,gy=new WeakMap,m0=new WeakMap;function jV(t){const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(ca(t.result)),a()},u=()=>{s(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&UA.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function LV(t){if(sv.has(t))return;const e=new Promise((n,s)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{s(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});sv.set(t,e)}let rv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ca(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UV(t){rv=t(rv)}function BV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(yy(this),e,...n);return BA.set(s,e.sort?e.sort():[e]),ca(s)}:kV().includes(t)?function(...e){return t.apply(yy(this),e),ca(UA.get(this))}:function(...e){return ca(t.apply(yy(this),e))}}function FV(t){return typeof t=="function"?BV(t):(t instanceof IDBTransaction&&LV(t),OV(t,VV())?new Proxy(t,rv):t)}function ca(t){if(t instanceof IDBRequest)return jV(t);if(gy.has(t))return gy.get(t);const e=FV(t);return e!==t&&(gy.set(t,e),m0.set(e,t)),e}const yy=t=>m0.get(t);function FA(t,e,{blocked:n,upgrade:s,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=ca(u);return s&&u.addEventListener("upgradeneeded",f=>{s(ca(u.result),f.oldVersion,f.newVersion,ca(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{l&&f.addEventListener("close",()=>l()),a&&f.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const zV=["get","getKey","getAll","getAllKeys","count"],qV=["put","add","delete","clear"],vy=new Map;function LT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=qV.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||zV.includes(n)))return;const l=async function(u,...h){const f=this.transaction(u,a?"readwrite":"readonly");let p=f.store;return s&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),a&&f.done]))[0]};return vy.set(e,l),l}UV(t=>({...t,get:(e,n,s)=>LT(e,n)||t.get(e,n,s),has:(e,n)=>!!LT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GV(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function GV(t){return t.getComponent()?.type==="VERSION"}const iv="@firebase/app",UT="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Dm("@firebase/app"),$V="@firebase/app-compat",KV="@firebase/analytics-compat",WV="@firebase/analytics",YV="@firebase/app-check-compat",QV="@firebase/app-check",XV="@firebase/auth",ZV="@firebase/auth-compat",JV="@firebase/database",ek="@firebase/data-connect",tk="@firebase/database-compat",nk="@firebase/functions",sk="@firebase/functions-compat",rk="@firebase/installations",ik="@firebase/installations-compat",ak="@firebase/messaging",ok="@firebase/messaging-compat",lk="@firebase/performance",uk="@firebase/performance-compat",ck="@firebase/remote-config",hk="@firebase/remote-config-compat",dk="@firebase/storage",fk="@firebase/storage-compat",mk="@firebase/firestore",pk="@firebase/ai",gk="@firebase/firestore-compat",yk="firebase",vk="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="[DEFAULT]",_k={[iv]:"fire-core",[$V]:"fire-core-compat",[WV]:"fire-analytics",[KV]:"fire-analytics-compat",[QV]:"fire-app-check",[YV]:"fire-app-check-compat",[XV]:"fire-auth",[ZV]:"fire-auth-compat",[JV]:"fire-rtdb",[ek]:"fire-data-connect",[tk]:"fire-rtdb-compat",[nk]:"fire-fn",[sk]:"fire-fn-compat",[rk]:"fire-iid",[ik]:"fire-iid-compat",[ak]:"fire-fcm",[ok]:"fire-fcm-compat",[lk]:"fire-perf",[uk]:"fire-perf-compat",[ck]:"fire-rc",[hk]:"fire-rc-compat",[dk]:"fire-gcs",[fk]:"fire-gcs-compat",[mk]:"fire-fst",[gk]:"fire-fst-compat",[pk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new Map,bk=new Map,ov=new Map;function BT(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(ov.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;ov.set(e,t);for(const n of Hf.values())BT(n,t);for(const n of bk.values())BT(n,t);return!0}function Ra(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ns(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new Co("app","Firebase",Ek);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new As("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=vk;function zA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:av,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ha.create("bad-app-name",{appName:String(a)});if(n||(n=OA()),!n)throw ha.create("no-options");const l=Hf.get(a);if(l){if(pa(n,l.options)&&pa(s,l.config))return l;throw ha.create("duplicate-app",{appName:a})}const u=new IV(a);for(const f of ov.values())u.addComponent(f);const h=new wk(n,s,u);return Hf.set(a,h),h}function Pm(t=av){const e=Hf.get(t);if(!e&&t===av&&OA())return zA();if(!e)throw ha.create("no-app",{appName:t});return e}function Gn(t,e,n){let s=_k[t]??t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${s}" with version "${e}":`];a&&u.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(u.join(" "));return}qs(new As(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="firebase-heartbeat-database",xk=1,$c="firebase-heartbeat-store";let _y=null;function qA(){return _y||(_y=FA(Tk,xk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($c)}catch(n){console.warn(n)}}}}).catch(t=>{throw ha.create("idb-open",{originalErrorMessage:t.message})})),_y}async function Sk(t){try{const n=(await qA()).transaction($c),s=await n.objectStore($c).get(HA(t));return await n.done,s}catch(e){if(e instanceof Rs)mi.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e?.message});mi.warn(n.message)}}}async function FT(t,e){try{const s=(await qA()).transaction($c,"readwrite");await s.objectStore($c).put(e,HA(t)),await s.done}catch(n){if(n instanceof Rs)mi.warn(n.message);else{const s=ha.create("idb-set",{originalErrorMessage:n?.message});mi.warn(s.message)}}}function HA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1024,Rk=30;class Ck{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nk(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Rk){const a=Dk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zT(),{heartbeatsToSend:n,unsentEntries:s}=Ik(this._heartbeatsCache.heartbeats),a=qf(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return mi.warn(e),""}}}function zT(){return new Date().toISOString().substring(0,10)}function Ik(t,e=Ak){const n=[];let s=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),qT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),qT(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Nk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jA()?LA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Sk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return FT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qT(t){return qf(JSON.stringify({version:2,heartbeats:t})).length}function Dk(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){qs(new As("platform-logger",e=>new HV(e),"PRIVATE")),qs(new As("heartbeat",e=>new Ck(e),"PRIVATE")),Gn(iv,UT,t),Gn(iv,UT,"esm2020"),Gn("fire-js","")}Pk("");function GA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mk=GA,$A=new Co("auth","Firebase",GA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Dm("@firebase/auth");function Ok(t,...e){Gf.logLevel<=Ke.WARN&&Gf.warn(`Auth (${Zl}): ${t}`,...e)}function Tf(t,...e){Gf.logLevel<=Ke.ERROR&&Gf.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,...e){throw p0(t,...e)}function yr(t,...e){return p0(t,...e)}function KA(t,e,n){const s={...Mk(),[e]:n};return new Co("auth","Firebase",s).create(e,{appName:t.name})}function ci(t){return KA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function p0(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return $A.create(t,...e)}function Me(t,e,...n){if(!t)throw p0(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tf(e),new Error(e)}function pi(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(){return typeof self<"u"&&self.location?.href||""}function Vk(){return HT()==="http:"||HT()==="https:"}function HT(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Vk()||kA()||"connection"in navigator)?navigator.onLine:!0}function jk(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=lV()||hV()}get(){return kk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(t,e){pi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bk=new hh(3e4,6e4);function wi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cr(t,e,n,s,a={}){return YA(t,a,async()=>{let l={},u={};s&&(e==="GET"?u=s:l={body:JSON.stringify(s)});const h=ch({key:t.config.apiKey,...u}).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const p={method:e,headers:f,...l};return cV()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(p.credentials="include"),WA.fetch()(await QA(t,t.config.apiHost,n,h),p)})}async function YA(t,e,n){t._canInitEmulator=!1;const s={...Lk,...e};try{const a=new zk(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ef(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[f,p]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw ef(t,"user-disabled",u);const g=s[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw KA(t,g,p);Hs(t,g)}}catch(a){if(a instanceof Rs)throw a;Hs(t,"network-request-failed",{message:String(a)})}}async function dh(t,e,n,s,a={}){const l=await Cr(t,e,n,s,a);return"mfaPendingCredential"in l&&Hs(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function QA(t,e,n,s){const a=`${e}${n}?${s}`,l=t,u=l.config.emulator?g0(t.config,a):`${t.config.apiScheme}://${a}`;return Uk.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function Fk(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(yr(this.auth,"network-request-failed")),Bk.get())})}}function ef(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const a=yr(t,e,s);return a.customData._tokenResponse=n,a}function GT(t){return t!==void 0&&t.enterprise!==void 0}class qk{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fk(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Hk(t,e){return Cr(t,"GET","/v2/recaptchaConfig",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gk(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function $f(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $k(t,e=!1){const n=wt(t),s=await n.getIdToken(e),a=y0(s);Me(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:s,authTime:Ic(by(a.auth_time)),issuedAtTime:Ic(by(a.iat)),expirationTime:Ic(by(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function by(t){return Number(t)*1e3}function y0(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const a=DA(n);return a?JSON.parse(a):(Tf("Failed to decode base64 JWT payload"),null)}catch(a){return Tf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function $T(t){const e=y0(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Rs&&Kk(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function Kk({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kf(t){const e=t.auth,n=await t.getIdToken(),s=await Ul(t,$f(e,{idToken:n}));Me(s?.users.length,e,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=a.providerUserInfo?.length?XA(a.providerUserInfo):[],u=Qk(t.providerData,l),h=t.isAnonymous,f=!(t.email&&a.passwordHash)&&!u?.length,p=h?f:!1,g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new uv(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(t,g)}async function Yk(t){const e=wt(t);await Kf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qk(t,e){return[...t.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function XA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(t,e){const n=await YA(t,{},async()=>{const s=ch({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await QA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:s};return t.emulatorConfig&&Aa(t.emulatorConfig.host)&&(f.credentials="include"),WA.fetch()(u,f)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Zk(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=$T(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:a,expiresIn:l}=await Xk(e,n);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:a,expirationTime:l}=n,u=new Ml;return s&&(Me(typeof s=="string","internal-error",{appName:e}),u.refreshToken=s),a&&(Me(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:n,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new Wk(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new uv(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $k(this,e)}reload(){return Yk(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Kf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(ci(this.auth));const e=await this.getIdToken();return await Ul(this,Gk(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,a=n.email??void 0,l=n.phoneNumber??void 0,u=n.photoURL??void 0,h=n.tenantId??void 0,f=n._redirectEventId??void 0,p=n.createdAt??void 0,g=n.lastLoginAt??void 0,{uid:b,emailVerified:E,isAnonymous:x,providerData:D,stsTokenManager:M}=n;Me(b&&M,e,"internal-error");const k=Ml.fromJSON(this.name,M);Me(typeof b=="string",e,"internal-error"),ea(s,e.name),ea(a,e.name),Me(typeof E=="boolean",e,"internal-error"),Me(typeof x=="boolean",e,"internal-error"),ea(l,e.name),ea(u,e.name),ea(h,e.name),ea(f,e.name),ea(p,e.name),ea(g,e.name);const O=new Fs({uid:b,auth:e,email:a,emailVerified:E,displayName:s,isAnonymous:x,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:k,createdAt:p,lastLoginAt:g});return D&&Array.isArray(D)&&(O.providerData=D.map(P=>({...P}))),f&&(O._redirectEventId=f),O}static async _fromIdTokenResponse(e,n,s=!1){const a=new Ml;a.updateFromServerResponse(n);const l=new Fs({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Kf(l),l}static async _fromGetAccountInfoResponse(e,n,s){const a=n.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?XA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new Ml;h.updateFromIdToken(s);const f=new Fs({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new uv(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;function li(t){pi(t instanceof Function,"Expected a class definition");let e=KT.get(t);return e?(pi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,KT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZA.type="NONE";const WT=ZA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(t,e,n){return`firebase:${t}:${e}:${n}`}class Ol{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $f(this.auth,{idToken:e}).catch(()=>{});return n?Fs._fromGetAccountInfoResponse(this.auth,n,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ol(li(WT),e,s);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||li(WT);const u=xf(s,e.config.apiKey,e.name);let h=null;for(const p of n)try{const g=await p._get(u);if(g){let b;if(typeof g=="string"){const E=await $f(e,{idToken:g}).catch(()=>{});if(!E)break;b=await Fs._fromGetAccountInfoResponse(e,E,g)}else b=Fs._fromJSON(e,g);p!==l&&(h=b),l=p;break}}catch{}const f=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!f.length?new Ol(l,e,s):(l=f[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Ol(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(iR(e))return"Webos";if(eR(e))return"Safari";if((e.includes("chrome/")||tR(e))&&!e.includes("edge/"))return"Chrome";if(sR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if(s?.length===2)return s[1]}return"Other"}function JA(t=Rn()){return/firefox\//i.test(t)}function eR(t=Rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tR(t=Rn()){return/crios\//i.test(t)}function nR(t=Rn()){return/iemobile/i.test(t)}function sR(t=Rn()){return/android/i.test(t)}function rR(t=Rn()){return/blackberry/i.test(t)}function iR(t=Rn()){return/webos/i.test(t)}function v0(t=Rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jk(t=Rn()){return v0(t)&&!!window.navigator?.standalone}function e4(){return dV()&&document.documentMode===10}function aR(t=Rn()){return v0(t)||sR(t)||iR(t)||rR(t)||/windows phone/i.test(t)||nR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t,e=[]){let n;switch(t){case"Browser":n=YT(Rn());break;case"Worker":n=`${YT(Rn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=l=>new Promise((u,h)=>{try{const f=e(l);u(f)}catch(f){h(f)}});s.onAbort=n,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",wi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=6;class r4{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??s4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QT(this),this.idTokenSubscription=new QT(this),this.beforeStateQueue=new t4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $f(this,{idToken:e}),s=await Fs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ns(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Kf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jk()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(ci(this));const n=e?wt(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n4(this),n=new r4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Co("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Zk(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Ol.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,s,a);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ns(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ok(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ca(t){return wt(t)}class QT{constructor(e){this.auth=e,this.observer=null,this.addObserver=_V(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a4(t){Mm=t}function lR(t){return Mm.loadJS(t)}function o4(){return Mm.recaptchaEnterpriseScript}function l4(){return Mm.gapiScript}function u4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c4{constructor(){this.enterprise=new h4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class h4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const d4="recaptcha-enterprise",uR="NO_RECAPTCHA";class f4{constructor(e){this.type=d4,this.auth=Ca(e)}async verify(e="verify",n=!1){async function s(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{Hk(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new qk(f);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(f=>{h(f)})})}function a(l,u,h){const f=window.grecaptcha;GT(f)?f.enterprise.ready(()=>{f.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(uR)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c4().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{s(this.auth).then(h=>{if(!n&&GT(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=o4();f.length!==0&&(f+=h),lR(f).then(()=>{a(h,l,u)}).catch(p=>{u(p)})}}).catch(h=>{u(h)})})}}async function XT(t,e,n,s=!1,a=!1){const l=new f4(t);let u;if(a)u=uR;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return s?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Wf(t,e,n,s,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await XT(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await XT(t,e,n,n==="getOobCode");return s(t,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m4(t,e){const n=Ra(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(pa(l,e??{}))return a;Hs(a,"already-initialized")}return n.initialize({options:e})}function p4(t,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(li);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e?.popupRedirectResolver)}function g4(t,e,n){const s=Ca(t);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=cR(e),{host:u,port:h}=y4(e),f=h===null?"":`:${h}`,p={url:`${l}//${u}${f}/`},g=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(pa(p,s.config.emulator)&&pa(g,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=p,s.emulatorConfig=g,s.settings.appVerificationDisabledForTesting=!0,Aa(u)?(d0(`${l}//${u}${f}`),f0("Auth",!0)):v4()}function cR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function y4(t){const e=cR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:ZT(s.substr(l.length+1))}}else{const[l,u]=s.split(":");return{host:l,port:ZT(u)}}}function ZT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function v4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function _4(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){return dh(t,"POST","/v1/accounts:signInWithPassword",wi(t,e))}async function E4(t,e){return Cr(t,"POST","/v1/accounts:sendOobCode",wi(t,e))}async function w4(t,e){return E4(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}async function x4(t,e){return dh(t,"POST","/v1/accounts:signInWithEmailLink",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends _0{constructor(e,n,s,a=null){super("password",s),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Kc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Kc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wf(e,n,"signInWithPassword",b4);case"emailLink":return T4(e,{email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wf(e,s,"signUpPassword",_4);case"emailLink":return x4(e,{idToken:n,email:this._email,oobCode:this._password});default:Hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(t,e){return dh(t,"POST","/v1/accounts:signInWithIdp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="http://localhost";class wo extends _0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=n;if(!s||!a)return null;const u=new wo(s,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Vl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Vl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vl(e,n)}buildRequest(){const e={requestUri:S4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ch(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R4(t){const e=bc(Ec(t)).link,n=e?bc(Ec(e)).deep_link_id:null,s=bc(Ec(t)).deep_link_id;return(s?bc(Ec(s)).link:null)||s||n||e||t}class b0{constructor(e){const n=bc(Ec(e)),s=n.apiKey??null,a=n.oobCode??null,l=A4(n.mode??null);Me(s&&a&&l,"argument-error"),this.apiKey=s,this.operation=l,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=R4(e);try{return new b0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(){this.providerId=Jl.PROVIDER_ID}static credential(e,n){return Kc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=b0.parseLink(n);return Me(s,"argument-error"),Kc._fromEmailAndCode(e,s.code,s.tenantId)}}Jl.PROVIDER_ID="password";Jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends hR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra extends fh{constructor(){super("facebook.com")}static credential(e){return wo._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ra.credential(e.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia extends fh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return wo._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ia.credential(n,s)}catch{return null}}}ia.GOOGLE_SIGN_IN_METHOD="google.com";ia.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa extends fh{constructor(){super("github.com")}static credential(e){return wo._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.GITHUB_SIGN_IN_METHOD="github.com";aa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa extends fh{constructor(){super("twitter.com")}static credential(e,n){return wo._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return oa.credential(n,s)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){return dh(t,"POST","/v1/accounts:signUp",wi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,a=!1){const l=await Fs._fromIdTokenResponse(e,s,a),u=JT(s);return new To({user:l,providerId:u,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const a=JT(s);return new To({user:e,providerId:a,_tokenResponse:s,operationType:n})}}function JT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf extends Rs{constructor(e,n,s,a){super(n.code,n.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,Yf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,a){return new Yf(e,n,s,a)}}function dR(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Yf._fromErrorAndOperation(t,l,e,s):l})}async function I4(t,e,n=!1){const s=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return To._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e,n=!1){const{auth:s}=t;if(ns(s.app))return Promise.reject(ci(s));const a="reauthenticate";try{const l=await Ul(t,dR(s,a,e,t),n);Me(l.idToken,s,"internal-error");const u=y0(l.idToken);Me(u,s,"internal-error");const{sub:h}=u;return Me(t.uid===h,s,"user-mismatch"),To._forOperation(t,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Hs(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e,n=!1){if(ns(t.app))return Promise.reject(ci(t));const s="signIn",a=await dR(t,s,e),l=await To._fromIdTokenResponse(t,s,a);return n||await t._updateCurrentUser(l.user),l}async function D4(t,e){return fR(Ca(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t){const e=Ca(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P4(t,e,n){const s=Ca(t);await Wf(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",w4)}async function M4(t,e,n){if(ns(t.app))return Promise.reject(ci(t));const s=Ca(t),u=await Wf(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",C4).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&mR(t),f}),h=await To._fromIdTokenResponse(s,"signIn",u);return await s._updateCurrentUser(h.user),h}function O4(t,e,n){return ns(t.app)?Promise.reject(ci(t)):D4(wt(t),Jl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&mR(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V4(t,e){return Cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k4(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=wt(t),l={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Ul(s,V4(s.auth,l));s.displayName=u.displayName||null,s.photoURL=u.photoUrl||null;const h=s.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=s.displayName,h.photoURL=s.photoURL),await s._updateTokensIfNecessary(u)}function j4(t,e,n,s){return wt(t).onIdTokenChanged(e,n,s)}function L4(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function U4(t,e,n,s){return wt(t).onAuthStateChanged(e,n,s)}function B4(t){return wt(t).signOut()}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1e3,z4=10;class gR extends pR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),a=this.localCache[n];s!==a&&e(n,a,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const s=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(s);!n&&this.localCache[s]===u||this.notifyListeners(s,u)},l=this.storage.getItem(s);e4()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,z4):a()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},F4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gR.type="LOCAL";const q4=gR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR extends pR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yR.type="SESSION";const vR=yR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const s=new Om(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!u?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(u).map(async p=>p(n.origin,l)),f=await H4(h);n.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Om.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,f)=>{const p=E0("",20);a.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(b){const E=b;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(g),clearTimeout(l),f(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return window}function $4(t){vr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){return typeof vr().WorkerGlobalScope<"u"&&typeof vr().importScripts=="function"}async function K4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function W4(){return navigator?.serviceWorker?.controller||null}function Y4(){return _R()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR="firebaseLocalStorageDb",Q4=1,Xf="firebaseLocalStorage",ER="fbase_key";class mh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vm(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function X4(){const t=indexedDB.deleteDatabase(bR);return new mh(t).toPromise()}function cv(){const t=indexedDB.open(bR,Q4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Xf,{keyPath:ER})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Xf)?e(s):(s.close(),await X4(),e(await cv()))})})}async function ex(t,e,n){const s=Vm(t,!0).put({[ER]:e,value:n});return new mh(s).toPromise()}async function Z4(t,e){const n=Vm(t,!1).get(e),s=await new mh(n).toPromise();return s===void 0?null:s.value}function tx(t,e){const n=Vm(t,!0).delete(e);return new mh(n).toPromise()}const J4=800,ej=3;class wR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ej)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _R()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Om._getInstance(Y4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await K4(),!this.activeServiceWorker)return;this.sender=new G4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||W4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cv();return await ex(e,Qf,"1"),await tx(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>ex(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Z4(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>tx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Vm(a,!1).getAll();return new mh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),J4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wR.type="LOCAL";const tj=wR;new hh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t,e){return e?li(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends _0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sj(t){return fR(t.auth,new w0(t),t.bypassAuthState)}function rj(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),N4(n,new w0(t),t.bypassAuthState)}async function ij(t){const{auth:e,user:n}=t;return Me(n,e,"internal-error"),I4(n,new w0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e,n,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sj;case"linkViaPopup":case"linkViaRedirect":return ij;case"reauthViaPopup":case"reauthViaRedirect":return rj;default:Hs(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=new hh(2e3,1e4);class Al extends TR{constructor(e,n,s,a,l){super(e,n,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Al.currentPopupAction&&Al.currentPopupAction.cancel(),Al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=E0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aj.get())};e()}}Al.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="pendingRedirect",Sf=new Map;class lj extends TR{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sf.get(this.auth._key());if(!e){try{const s=await uj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sf.set(this.auth._key(),e)}return this.bypassAuthState||Sf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uj(t,e){const n=dj(e),s=hj(t);if(!await s._isAvailable())return!1;const a=await s._get(n)==="true";return await s._remove(n),a}function cj(t,e){Sf.set(t._key(),e)}function hj(t){return li(t._redirectPersistence)}function dj(t){return xf(oj,t.config.apiKey,t.name)}async function fj(t,e,n=!1){if(ns(t.app))return Promise.reject(ci(t));const s=Ca(t),a=nj(s,e),u=await new lj(s,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await s._persistUserIfCurrent(u.user),await s._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=600*1e3;class pj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!xR(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(nx(e))}saveEventToCache(e){this.cachedEventUids.add(nx(e)),this.lastProcessedEventTime=Date.now()}}function nx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function xR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function gj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yj(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_j=/^https?/;async function bj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yj(t);for(const n of e)try{if(Ej(n))return}catch{}Hs(t,"unauthorized-domain")}function Ej(t){const e=lv(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===s}if(!_j.test(n))return!1;if(vj.test(t))return s===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new hh(3e4,6e4);function sx(){const t=vr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Tj(t){return new Promise((e,n)=>{function s(){sx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sx(),n(yr(t,"network-request-failed"))},timeout:wj.get()})}if(vr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(vr().gapi?.load)s();else{const a=u4("iframefcb");return vr()[a]=()=>{gapi.load?s():n(yr(t,"network-request-failed"))},lR(`${l4()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Af=null,e})}let Af=null;function xj(t){return Af=Af||Tj(t),Af}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sj=new hh(5e3,15e3),Aj="__/auth/iframe",Rj="emulator/auth/iframe",Cj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ij=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nj(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?g0(e,Rj):`https://${t.config.authDomain}/${Aj}`,s={apiKey:e.apiKey,appName:t.name,v:Zl},a=Ij.get(t.config.apiHost);a&&(s.eid=a);const l=t._getFrameworks();return l.length&&(s.fw=l.join(",")),`${n}?${ch(s).slice(1)}`}async function Dj(t){const e=await xj(t),n=vr().gapi;return Me(n,t,"internal-error"),e.open({where:document.body,url:Nj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Cj,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const u=yr(t,"network-request-failed"),h=vr().setTimeout(()=>{l(u)},Sj.get());function f(){vr().clearTimeout(h),a(s)}s.ping(f).then(f,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Mj=500,Oj=600,Vj="_blank",kj="http://localhost";class rx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jj(t,e,n,s=Mj,a=Oj){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const f={...Pj,width:s.toString(),height:a.toString(),top:l,left:u},p=Rn().toLowerCase();n&&(h=tR(p)?Vj:n),JA(p)&&(e=e||kj,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[x,D])=>`${E}${x}=${D},`,"");if(Jk(p)&&h!=="_self")return Lj(e||"",h),new rx(null);const b=window.open(e||"",h,g);Me(b,t,"popup-blocked");try{b.focus()}catch{}return new rx(b)}function Lj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj="__/auth/handler",Bj="emulator/auth/handler",Fj=encodeURIComponent("fac");async function ix(t,e,n,s,a,l){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Zl,eventId:a};if(e instanceof hR){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",vV(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,b]of Object.entries({}))u[g]=b}if(e instanceof fh){const g=e.getScopes().filter(b=>b!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const f=await t._getAppCheckToken(),p=f?`#${Fj}=${encodeURIComponent(f)}`:"";return`${zj(t)}?${ch(h).slice(1)}${p}`}function zj({config:t}){return t.emulator?g0(t,Bj):`https://${t.authDomain}/${Uj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="webStorageSupport";class qj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vR,this._completeRedirectFn=fj,this._overrideRedirectResult=cj}async _openPopup(e,n,s,a){pi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await ix(e,n,s,lv(),a);return jj(e,l,E0())}async _openRedirect(e,n,s,a){await this._originValidation(e);const l=await ix(e,n,s,lv(),a);return $4(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(pi(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Dj(e),s=new pj(e);return n.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ey,{type:Ey},a=>{const l=a?.[0]?.[Ey];l!==void 0&&n(!!l),Hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aR()||eR()||v0()}}const Hj=qj;var ax="@firebase/auth",ox="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kj(t){qs(new As("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=s.options;Me(u&&!u.includes(":"),"invalid-api-key",{appName:s.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oR(t)},p=new i4(s,a,l,f);return p4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),qs(new As("auth-internal",e=>{const n=Ca(e.getProvider("auth").getImmediate());return(s=>new Gj(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(ax,ox,$j(t)),Gn(ax,ox,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=300,Yj=VA("authIdTokenMaxAge")||Wj;let lx=null;const Qj=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Yj)return;const a=n?.token;lx!==a&&(lx=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Xj(t=Pm()){const e=Ra(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m4(t,{popupRedirectResolver:Hj,persistence:[tj,q4,vR]}),s=VA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const u=Qj(l.toString());L4(n,u,()=>u(n.currentUser)),j4(n,h=>u(h))}}const a=PA("auth");return a&&g4(n,`http://${a}`),n}function Zj(){return document.getElementsByTagName("head")?.[0]??document}a4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=a=>{const l=yr("internal-error");l.customData=a,n(l)},s.type="text/javascript",s.charset="UTF-8",Zj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kj("Browser");var Jj="firebase",eL="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(Jj,eL,"app");var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,SR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,A){function N(){}N.prototype=A.prototype,j.D=A.prototype,j.prototype=new N,j.prototype.constructor=j,j.C=function(L,B,I){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return A.prototype[B].apply(L,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,A,N){N||(N=0);var L=Array(16);if(typeof A=="string")for(var B=0;16>B;++B)L[B]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(B=0;16>B;++B)L[B]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=j.g[0],N=j.g[1],B=j.g[2];var I=j.g[3],C=A+(I^N&(B^I))+L[0]+3614090360&4294967295;A=N+(C<<7&4294967295|C>>>25),C=I+(B^A&(N^B))+L[1]+3905402710&4294967295,I=A+(C<<12&4294967295|C>>>20),C=B+(N^I&(A^N))+L[2]+606105819&4294967295,B=I+(C<<17&4294967295|C>>>15),C=N+(A^B&(I^A))+L[3]+3250441966&4294967295,N=B+(C<<22&4294967295|C>>>10),C=A+(I^N&(B^I))+L[4]+4118548399&4294967295,A=N+(C<<7&4294967295|C>>>25),C=I+(B^A&(N^B))+L[5]+1200080426&4294967295,I=A+(C<<12&4294967295|C>>>20),C=B+(N^I&(A^N))+L[6]+2821735955&4294967295,B=I+(C<<17&4294967295|C>>>15),C=N+(A^B&(I^A))+L[7]+4249261313&4294967295,N=B+(C<<22&4294967295|C>>>10),C=A+(I^N&(B^I))+L[8]+1770035416&4294967295,A=N+(C<<7&4294967295|C>>>25),C=I+(B^A&(N^B))+L[9]+2336552879&4294967295,I=A+(C<<12&4294967295|C>>>20),C=B+(N^I&(A^N))+L[10]+4294925233&4294967295,B=I+(C<<17&4294967295|C>>>15),C=N+(A^B&(I^A))+L[11]+2304563134&4294967295,N=B+(C<<22&4294967295|C>>>10),C=A+(I^N&(B^I))+L[12]+1804603682&4294967295,A=N+(C<<7&4294967295|C>>>25),C=I+(B^A&(N^B))+L[13]+4254626195&4294967295,I=A+(C<<12&4294967295|C>>>20),C=B+(N^I&(A^N))+L[14]+2792965006&4294967295,B=I+(C<<17&4294967295|C>>>15),C=N+(A^B&(I^A))+L[15]+1236535329&4294967295,N=B+(C<<22&4294967295|C>>>10),C=A+(B^I&(N^B))+L[1]+4129170786&4294967295,A=N+(C<<5&4294967295|C>>>27),C=I+(N^B&(A^N))+L[6]+3225465664&4294967295,I=A+(C<<9&4294967295|C>>>23),C=B+(A^N&(I^A))+L[11]+643717713&4294967295,B=I+(C<<14&4294967295|C>>>18),C=N+(I^A&(B^I))+L[0]+3921069994&4294967295,N=B+(C<<20&4294967295|C>>>12),C=A+(B^I&(N^B))+L[5]+3593408605&4294967295,A=N+(C<<5&4294967295|C>>>27),C=I+(N^B&(A^N))+L[10]+38016083&4294967295,I=A+(C<<9&4294967295|C>>>23),C=B+(A^N&(I^A))+L[15]+3634488961&4294967295,B=I+(C<<14&4294967295|C>>>18),C=N+(I^A&(B^I))+L[4]+3889429448&4294967295,N=B+(C<<20&4294967295|C>>>12),C=A+(B^I&(N^B))+L[9]+568446438&4294967295,A=N+(C<<5&4294967295|C>>>27),C=I+(N^B&(A^N))+L[14]+3275163606&4294967295,I=A+(C<<9&4294967295|C>>>23),C=B+(A^N&(I^A))+L[3]+4107603335&4294967295,B=I+(C<<14&4294967295|C>>>18),C=N+(I^A&(B^I))+L[8]+1163531501&4294967295,N=B+(C<<20&4294967295|C>>>12),C=A+(B^I&(N^B))+L[13]+2850285829&4294967295,A=N+(C<<5&4294967295|C>>>27),C=I+(N^B&(A^N))+L[2]+4243563512&4294967295,I=A+(C<<9&4294967295|C>>>23),C=B+(A^N&(I^A))+L[7]+1735328473&4294967295,B=I+(C<<14&4294967295|C>>>18),C=N+(I^A&(B^I))+L[12]+2368359562&4294967295,N=B+(C<<20&4294967295|C>>>12),C=A+(N^B^I)+L[5]+4294588738&4294967295,A=N+(C<<4&4294967295|C>>>28),C=I+(A^N^B)+L[8]+2272392833&4294967295,I=A+(C<<11&4294967295|C>>>21),C=B+(I^A^N)+L[11]+1839030562&4294967295,B=I+(C<<16&4294967295|C>>>16),C=N+(B^I^A)+L[14]+4259657740&4294967295,N=B+(C<<23&4294967295|C>>>9),C=A+(N^B^I)+L[1]+2763975236&4294967295,A=N+(C<<4&4294967295|C>>>28),C=I+(A^N^B)+L[4]+1272893353&4294967295,I=A+(C<<11&4294967295|C>>>21),C=B+(I^A^N)+L[7]+4139469664&4294967295,B=I+(C<<16&4294967295|C>>>16),C=N+(B^I^A)+L[10]+3200236656&4294967295,N=B+(C<<23&4294967295|C>>>9),C=A+(N^B^I)+L[13]+681279174&4294967295,A=N+(C<<4&4294967295|C>>>28),C=I+(A^N^B)+L[0]+3936430074&4294967295,I=A+(C<<11&4294967295|C>>>21),C=B+(I^A^N)+L[3]+3572445317&4294967295,B=I+(C<<16&4294967295|C>>>16),C=N+(B^I^A)+L[6]+76029189&4294967295,N=B+(C<<23&4294967295|C>>>9),C=A+(N^B^I)+L[9]+3654602809&4294967295,A=N+(C<<4&4294967295|C>>>28),C=I+(A^N^B)+L[12]+3873151461&4294967295,I=A+(C<<11&4294967295|C>>>21),C=B+(I^A^N)+L[15]+530742520&4294967295,B=I+(C<<16&4294967295|C>>>16),C=N+(B^I^A)+L[2]+3299628645&4294967295,N=B+(C<<23&4294967295|C>>>9),C=A+(B^(N|~I))+L[0]+4096336452&4294967295,A=N+(C<<6&4294967295|C>>>26),C=I+(N^(A|~B))+L[7]+1126891415&4294967295,I=A+(C<<10&4294967295|C>>>22),C=B+(A^(I|~N))+L[14]+2878612391&4294967295,B=I+(C<<15&4294967295|C>>>17),C=N+(I^(B|~A))+L[5]+4237533241&4294967295,N=B+(C<<21&4294967295|C>>>11),C=A+(B^(N|~I))+L[12]+1700485571&4294967295,A=N+(C<<6&4294967295|C>>>26),C=I+(N^(A|~B))+L[3]+2399980690&4294967295,I=A+(C<<10&4294967295|C>>>22),C=B+(A^(I|~N))+L[10]+4293915773&4294967295,B=I+(C<<15&4294967295|C>>>17),C=N+(I^(B|~A))+L[1]+2240044497&4294967295,N=B+(C<<21&4294967295|C>>>11),C=A+(B^(N|~I))+L[8]+1873313359&4294967295,A=N+(C<<6&4294967295|C>>>26),C=I+(N^(A|~B))+L[15]+4264355552&4294967295,I=A+(C<<10&4294967295|C>>>22),C=B+(A^(I|~N))+L[6]+2734768916&4294967295,B=I+(C<<15&4294967295|C>>>17),C=N+(I^(B|~A))+L[13]+1309151649&4294967295,N=B+(C<<21&4294967295|C>>>11),C=A+(B^(N|~I))+L[4]+4149444226&4294967295,A=N+(C<<6&4294967295|C>>>26),C=I+(N^(A|~B))+L[11]+3174756917&4294967295,I=A+(C<<10&4294967295|C>>>22),C=B+(A^(I|~N))+L[2]+718787259&4294967295,B=I+(C<<15&4294967295|C>>>17),C=N+(I^(B|~A))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+A&4294967295,j.g[1]=j.g[1]+(B+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+B&4294967295,j.g[3]=j.g[3]+I&4294967295}s.prototype.u=function(j,A){A===void 0&&(A=j.length);for(var N=A-this.blockSize,L=this.B,B=this.h,I=0;I<A;){if(B==0)for(;I<=N;)a(this,j,I),I+=this.blockSize;if(typeof j=="string"){for(;I<A;)if(L[B++]=j.charCodeAt(I++),B==this.blockSize){a(this,L),B=0;break}}else for(;I<A;)if(L[B++]=j[I++],B==this.blockSize){a(this,L),B=0;break}}this.h=B,this.o+=A},s.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var A=1;A<j.length-8;++A)j[A]=0;var N=8*this.o;for(A=j.length-8;A<j.length;++A)j[A]=N&255,N/=256;for(this.u(j),j=Array(16),A=N=0;4>A;++A)for(var L=0;32>L;L+=8)j[N++]=this.g[A]>>>L&255;return j};function l(j,A){var N=h;return Object.prototype.hasOwnProperty.call(N,j)?N[j]:N[j]=A(j)}function u(j,A){this.h=A;for(var N=[],L=!0,B=j.length-1;0<=B;B--){var I=j[B]|0;L&&I==A||(N[B]=I,L=!1)}this.g=N}var h={};function f(j){return-128<=j&&128>j?l(j,function(A){return new u([A|0],0>A?-1:0)}):new u([j|0],0>j?-1:0)}function p(j){if(isNaN(j)||!isFinite(j))return b;if(0>j)return k(p(-j));for(var A=[],N=1,L=0;j>=N;L++)A[L]=j/N|0,N*=4294967296;return new u(A,0)}function g(j,A){if(j.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(j.charAt(0)=="-")return k(g(j.substring(1),A));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),L=b,B=0;B<j.length;B+=8){var I=Math.min(8,j.length-B),C=parseInt(j.substring(B,B+I),A);8>I?(I=p(Math.pow(A,I)),L=L.j(I).add(p(C))):(L=L.j(N),L=L.add(p(C)))}return L}var b=f(0),E=f(1),x=f(16777216);t=u.prototype,t.m=function(){if(M(this))return-k(this).m();for(var j=0,A=1,N=0;N<this.g.length;N++){var L=this.i(N);j+=(0<=L?L:4294967296+L)*A,A*=4294967296}return j},t.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(D(this))return"0";if(M(this))return"-"+k(this).toString(j);for(var A=p(Math.pow(j,6)),N=this,L="";;){var B=se(N,A).g;N=O(N,B.j(A));var I=((0<N.g.length?N.g[0]:N.h)>>>0).toString(j);if(N=B,D(N))return I+L;for(;6>I.length;)I="0"+I;L=I+L}},t.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function D(j){if(j.h!=0)return!1;for(var A=0;A<j.g.length;A++)if(j.g[A]!=0)return!1;return!0}function M(j){return j.h==-1}t.l=function(j){return j=O(this,j),M(j)?-1:D(j)?0:1};function k(j){for(var A=j.g.length,N=[],L=0;L<A;L++)N[L]=~j.g[L];return new u(N,~j.h).add(E)}t.abs=function(){return M(this)?k(this):this},t.add=function(j){for(var A=Math.max(this.g.length,j.g.length),N=[],L=0,B=0;B<=A;B++){var I=L+(this.i(B)&65535)+(j.i(B)&65535),C=(I>>>16)+(this.i(B)>>>16)+(j.i(B)>>>16);L=C>>>16,I&=65535,C&=65535,N[B]=C<<16|I}return new u(N,N[N.length-1]&-2147483648?-1:0)};function O(j,A){return j.add(k(A))}t.j=function(j){if(D(this)||D(j))return b;if(M(this))return M(j)?k(this).j(k(j)):k(k(this).j(j));if(M(j))return k(this.j(k(j)));if(0>this.l(x)&&0>j.l(x))return p(this.m()*j.m());for(var A=this.g.length+j.g.length,N=[],L=0;L<2*A;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(var B=0;B<j.g.length;B++){var I=this.i(L)>>>16,C=this.i(L)&65535,ve=j.i(B)>>>16,xe=j.i(B)&65535;N[2*L+2*B]+=C*xe,P(N,2*L+2*B),N[2*L+2*B+1]+=I*xe,P(N,2*L+2*B+1),N[2*L+2*B+1]+=C*ve,P(N,2*L+2*B+1),N[2*L+2*B+2]+=I*ve,P(N,2*L+2*B+2)}for(L=0;L<A;L++)N[L]=N[2*L+1]<<16|N[2*L];for(L=A;L<2*A;L++)N[L]=0;return new u(N,0)};function P(j,A){for(;(j[A]&65535)!=j[A];)j[A+1]+=j[A]>>>16,j[A]&=65535,A++}function q(j,A){this.g=j,this.h=A}function se(j,A){if(D(A))throw Error("division by zero");if(D(j))return new q(b,b);if(M(j))return A=se(k(j),A),new q(k(A.g),k(A.h));if(M(A))return A=se(j,k(A)),new q(k(A.g),A.h);if(30<j.g.length){if(M(j)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var N=E,L=A;0>=L.l(j);)N=Q(N),L=Q(L);var B=ce(N,1),I=ce(L,1);for(L=ce(L,2),N=ce(N,2);!D(L);){var C=I.add(L);0>=C.l(j)&&(B=B.add(N),I=C),L=ce(L,1),N=ce(N,1)}return A=O(j,B.j(A)),new q(B,A)}for(B=b;0<=j.l(A);){for(N=Math.max(1,Math.floor(j.m()/A.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),I=p(N),C=I.j(A);M(C)||0<C.l(j);)N-=L,I=p(N),C=I.j(A);D(I)&&(I=E),B=B.add(I),j=O(j,C)}return new q(B,j)}t.A=function(j){return se(this,j).h},t.and=function(j){for(var A=Math.max(this.g.length,j.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)&j.i(L);return new u(N,this.h&j.h)},t.or=function(j){for(var A=Math.max(this.g.length,j.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)|j.i(L);return new u(N,this.h|j.h)},t.xor=function(j){for(var A=Math.max(this.g.length,j.g.length),N=[],L=0;L<A;L++)N[L]=this.i(L)^j.i(L);return new u(N,this.h^j.h)};function Q(j){for(var A=j.g.length+1,N=[],L=0;L<A;L++)N[L]=j.i(L)<<1|j.i(L-1)>>>31;return new u(N,j.h)}function ce(j,A){var N=A>>5;A%=32;for(var L=j.g.length-N,B=[],I=0;I<L;I++)B[I]=0<A?j.i(I+N)>>>A|j.i(I+N+1)<<32-A:j.i(I+N);return new u(B,j.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,SR=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,da=u}).apply(typeof ux<"u"?ux:typeof self<"u"?self:typeof window<"u"?window:{});var tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var AR,wc,RR,Rf,hv,CR,IR,NR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,w){return d==Array.prototype||d==Object.prototype||(d[_]=w.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof tf=="object"&&tf];for(var _=0;_<d.length;++_){var w=d[_];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var s=n(this);function a(d,_){if(_)e:{var w=s;d=d.split(".");for(var R=0;R<d.length-1;R++){var $=d[R];if(!($ in w))break e;w=w[$]}d=d[d.length-1],R=w[d],_=_(R),_!=R&&_!=null&&e(w,d,{configurable:!0,writable:!0,value:_})}}function l(d,_){d instanceof String&&(d+="");var w=0,R=!1,$={next:function(){if(!R&&w<d.length){var ee=w++;return{value:_(ee,d[ee]),done:!1}}return R=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}a("Array.prototype.values",function(d){return d||function(){return l(this,function(_,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function p(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function g(d,_,w){return d.call.apply(d.bind,arguments)}function b(d,_,w){if(!d)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,R),d.apply(_,$)}}return function(){return d.apply(_,arguments)}}function E(d,_,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:b,E.apply(null,arguments)}function x(d,_){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function D(d,_){function w(){}w.prototype=_.prototype,d.aa=_.prototype,d.prototype=new w,d.prototype.constructor=d,d.Qb=function(R,$,ee){for(var fe=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)fe[Qe-2]=arguments[Qe];return _.prototype[$].apply(R,fe)}}function M(d){const _=d.length;if(0<_){const w=Array(_);for(let R=0;R<_;R++)w[R]=d[R];return w}return[]}function k(d,_){for(let w=1;w<arguments.length;w++){const R=arguments[w];if(f(R)){const $=d.length||0,ee=R.length||0;d.length=$+ee;for(let fe=0;fe<ee;fe++)d[$+fe]=R[fe]}else d.push(R)}}class O{constructor(_,w){this.i=_,this.j=w,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(d){return/^[\s\xa0]*$/.test(d)}function q(){var d=h.navigator;return d&&(d=d.userAgent)?d:""}function se(d){return se[" "](d),d}se[" "]=function(){};var Q=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function ce(d,_,w){for(const R in d)_.call(w,d[R],R,d)}function j(d,_){for(const w in d)_.call(void 0,d[w],w,d)}function A(d){const _={};for(const w in d)_[w]=d[w];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,_){let w,R;for(let $=1;$<arguments.length;$++){R=arguments[$];for(w in R)d[w]=R[w];for(let ee=0;ee<N.length;ee++)w=N[ee],Object.prototype.hasOwnProperty.call(R,w)&&(d[w]=R[w])}}function B(d){var _=1;d=d.split(":");const w=[];for(;0<_&&d.length;)w.push(d.shift()),_--;return d.length&&w.push(d.join(":")),w}function I(d){h.setTimeout(()=>{throw d},0)}function C(){var d=Ne;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ve{constructor(){this.h=this.g=null}add(_,w){const R=xe.get();R.set(_,w),this.h?this.h.next=R:this.g=R,this.h=R}}var xe=new O(()=>new Z,d=>d.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,w){this.h=_,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let te,me=!1,Ne=new ve,F=()=>{const d=h.Promise.resolve(void 0);te=()=>{d.then(ue)}};var ue=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(w){I(w)}var _=xe;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}me=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Ce=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const w=()=>{};h.addEventListener("test",w,_),h.removeEventListener("test",w,_)}catch{}return d})();function Be(d,_){if(he.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var w=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(Q){e:{try{se(_.nodeName);var $=!0;break e}catch{}$=!1}$||(_=null)}}else w=="mouseover"?_=d.fromElement:w=="mouseout"&&(_=d.toElement);this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ve[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Be.aa.h.call(this)}}D(Be,he);var Ve={2:"touch",3:"pen",4:"mouse"};Be.prototype.h=function(){Be.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),it=0;function Vn(d,_,w,R,$){this.listener=d,this.proxy=null,this.src=_,this.type=w,this.capture=!!R,this.ha=$,this.key=++it,this.da=this.fa=!1}function is(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Cs(d){this.src=d,this.g={},this.h=0}Cs.prototype.add=function(d,_,w,R,$){var ee=d.toString();d=this.g[ee],d||(d=this.g[ee]=[],this.h++);var fe=Ir(d,_,R,$);return-1<fe?(_=d[fe],w||(_.fa=!1)):(_=new Vn(_,this.src,ee,!!R,$),_.fa=w,d.push(_)),_};function Ws(d,_){var w=_.type;if(w in d.g){var R=d.g[w],$=Array.prototype.indexOf.call(R,_,void 0),ee;(ee=0<=$)&&Array.prototype.splice.call(R,$,1),ee&&(is(_),d.g[w].length==0&&(delete d.g[w],d.h--))}}function Ir(d,_,w,R){for(var $=0;$<d.length;++$){var ee=d[$];if(!ee.da&&ee.listener==_&&ee.capture==!!w&&ee.ha==R)return $}return-1}var Ys="closure_lm_"+(1e6*Math.random()|0),Ti={};function Do(d,_,w,R,$){if(Array.isArray(_)){for(var ee=0;ee<_.length;ee++)Do(d,_[ee],w,R,$);return null}return w=de(w),d&&d[At]?d.K(_,w,p(R)?!!R.capture:!1,$):kn(d,_,w,!1,R,$)}function kn(d,_,w,R,$,ee){if(!_)throw Error("Invalid event type");var fe=p($)?!!$.capture:!!$,Qe=_e(d);if(Qe||(d[Ys]=Qe=new Cs(d)),w=Qe.add(_,w,R,fe,ee),w.proxy)return w;if(R=Ch(),w.proxy=R,R.src=d,R.listener=w,d.addEventListener)Ce||($=fe),$===void 0&&($=!1),d.addEventListener(_.toString(),R,$);else if(d.attachEvent)d.attachEvent(Y(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ch(){function d(w){return _.call(d.src,d.listener,w)}const _=ne;return d}function xi(d,_,w,R,$){if(Array.isArray(_))for(var ee=0;ee<_.length;ee++)xi(d,_[ee],w,R,$);else R=p(R)?!!R.capture:!!R,w=de(w),d&&d[At]?(d=d.i,_=String(_).toString(),_ in d.g&&(ee=d.g[_],w=Ir(ee,w,R,$),-1<w&&(is(ee[w]),Array.prototype.splice.call(ee,w,1),ee.length==0&&(delete d.g[_],d.h--)))):d&&(d=_e(d))&&(_=d.g[_.toString()],d=-1,_&&(d=Ir(_,w,R,$)),(w=-1<d?_[d]:null)&&z(w))}function z(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[At])Ws(_.i,d);else{var w=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(w,R,d.capture):_.detachEvent?_.detachEvent(Y(w),R):_.addListener&&_.removeListener&&_.removeListener(R),(w=_e(_))?(Ws(w,d),w.h==0&&(w.src=null,_[Ys]=null)):is(d)}}}function Y(d){return d in Ti?Ti[d]:Ti[d]="on"+d}function ne(d,_){if(d.da)d=!0;else{_=new Be(_,this);var w=d.listener,R=d.ha||d.src;d.fa&&z(d),d=w.call(R,_)}return d}function _e(d){return d=d[Ys],d instanceof Cs?d:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(d){return typeof d=="function"?d:(d[pe]||(d[pe]=function(_){return d.handleEvent(_)}),d[pe])}function ye(){ge.call(this),this.i=new Cs(this),this.M=this,this.F=null}D(ye,ge),ye.prototype[At]=!0,ye.prototype.removeEventListener=function(d,_,w,R){xi(this,d,_,w,R)};function Ae(d,_){var w,R=d.F;if(R)for(w=[];R;R=R.F)w.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new he(_,d);else if(_ instanceof he)_.target=_.target||d;else{var $=_;_=new he(R,d),L(_,$)}if($=!0,w)for(var ee=w.length-1;0<=ee;ee--){var fe=_.g=w[ee];$=ze(fe,R,!0,_)&&$}if(fe=_.g=d,$=ze(fe,R,!0,_)&&$,$=ze(fe,R,!1,_)&&$,w)for(ee=0;ee<w.length;ee++)fe=_.g=w[ee],$=ze(fe,R,!1,_)&&$}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var w=d.g[_],R=0;R<w.length;R++)is(w[R]);delete d.g[_],d.h--}}this.F=null},ye.prototype.K=function(d,_,w,R){return this.i.add(String(d),_,!1,w,R)},ye.prototype.L=function(d,_,w,R){return this.i.add(String(d),_,!0,w,R)};function ze(d,_,w,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var $=!0,ee=0;ee<_.length;++ee){var fe=_[ee];if(fe&&!fe.da&&fe.capture==w){var Qe=fe.listener,Yt=fe.ha||fe.src;fe.fa&&Ws(d.i,fe),$=Qe.call(Yt,R)!==!1&&$}}return $&&!R.defaultPrevented}function at(d,_,w){if(typeof d=="function")w&&(d=E(d,w));else if(d&&typeof d.handleEvent=="function")d=E(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:h.setTimeout(d,_||0)}function Nr(d){d.g=at(()=>{d.g=null,d.i&&(d.i=!1,Nr(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class as extends ge{constructor(_,w){super(),this.m=_,this.l=w,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Nr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(d){ge.call(this),this.h=d,this.g={}}D(Dr,ge);var Is=[];function Ns(d){ce(d.g,function(_,w){this.g.hasOwnProperty(w)&&z(_)},d),d.g={}}Dr.prototype.N=function(){Dr.aa.N.call(this),Ns(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=h.JSON.stringify,Pr=h.JSON.parse,Mr=class{stringify(d){return h.JSON.stringify(d,void 0)}parse(d){return h.JSON.parse(d,void 0)}};function Si(){}Si.prototype.h=null;function lu(d){return d.h||(d.h=d.i())}function uu(){}var Or={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){he.call(this,"d")}D(Vr,he);function cu(){he.call(this,"c")}D(cu,he);var Qs={},hu=null;function Ai(){return hu=hu||new ye}Qs.La="serverreachability";function Po(d){he.call(this,Qs.La,d)}D(Po,he);function Ri(d){const _=Ai();Ae(_,new Po(_))}Qs.STAT_EVENT="statevent";function Ih(d,_){he.call(this,Qs.STAT_EVENT,d),this.stat=_}D(Ih,he);function yt(d){const _=Ai();Ae(_,new Ih(_,d))}Qs.Ma="timingevent";function Wt(d,_){he.call(this,Qs.Ma,d),this.size=_}D(Wt,he);function Lt(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){d()},_)}function os(){this.g=!0}os.prototype.xa=function(){this.g=!1};function du(d,_,w,R,$,ee){d.info(function(){if(d.g)if(ee)for(var fe="",Qe=ee.split("&"),Yt=0;Yt<Qe.length;Yt++){var Xe=Qe[Yt].split("=");if(1<Xe.length){var tn=Xe[0];Xe=Xe[1];var Qt=tn.split("_");fe=2<=Qt.length&&Qt[1]=="type"?fe+(tn+"="+Xe+"&"):fe+(tn+"=redacted&")}}else fe=null;else fe=ee;return"XMLHTTP REQ ("+R+") [attempt "+$+"]: "+_+`
`+w+`
`+fe})}function up(d,_,w,R,$,ee,fe){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+$+"]: "+_+`
`+w+`
`+ee+" "+fe})}function Ci(d,_,w,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pa(d,w)+(R?" "+R:"")})}function Nh(d,_){d.info(function(){return"TIMEOUT: "+_})}os.prototype.info=function(){};function Pa(d,_){if(!d.g)return _;if(!_)return null;try{var w=JSON.parse(_);if(w){for(d=0;d<w.length;d++)if(Array.isArray(w[d])){var R=w[d];if(!(2>R.length)){var $=R[1];if(Array.isArray($)&&!(1>$.length)){var ee=$[0];if(ee!="noop"&&ee!="stop"&&ee!="close")for(var fe=1;fe<$.length;fe++)$[fe]=""}}}}return Kn(w)}catch{return _}}var Ii={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xs;function Zs(){}D(Zs,Si),Zs.prototype.g=function(){return new XMLHttpRequest},Zs.prototype.i=function(){return{}},Xs=new Zs;function Cn(d,_,w,R){this.j=d,this.i=_,this.l=w,this.R=R||1,this.U=new Dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Nt}function Nt(){this.i=null,this.g="",this.h=!1}var fu={},Mo={};function Ds(d,_,w){d.L=1,d.v=ja(Wn(_)),d.m=w,d.P=!0,jr(d,null)}function jr(d,_){d.F=Date.now(),Ma(d),d.A=Wn(d.v);var w=d.A,R=d.R;Array.isArray(R)||(R=[String(R)]),_u(w.i,"t",R),d.C=0,w=d.j.J,d.h=new Nt,d.g=$h(d.j,w?_:null,!d.m),0<d.O&&(d.M=new as(E(d.Y,d,d.g),d.O)),_=d.U,w=d.g,R=d.ca;var $="readystatechange";Array.isArray($)||($&&(Is[0]=$.toString()),$=Is);for(var ee=0;ee<$.length;ee++){var fe=Do(w,$[ee],R||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Ri(),du(d.i,d.u,d.A,d.l,d.R,d.m)}Cn.prototype.ca=function(d){d=d.target;const _=this.M;_&&hs(d)==3?_.j():this.Y(d)},Cn.prototype.Y=function(d){try{if(d==this.g)e:{const Qt=hs(this.g);var _=this.g.Ba();const Gr=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Lh(this.g)))){this.J||Qt!=4||_==7||(_==8||0>=Gr?Ri(3):Ri(2)),Ni(this);var w=this.g.Z();this.X=w;t:if(Dh(this)){var R=Lh(this.g);d="";var $=R.length,ee=hs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Js(this);var fe="";break t}this.h.i=new h.TextDecoder}for(_=0;_<$;_++)this.h.h=!0,d+=this.h.i.decode(R[_],{stream:!(ee&&_==$-1)});R.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,up(this.i,this.u,this.A,this.l,this.R,Qt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Yt=this.g;if((Qe=Yt.g?Yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(Qe)){var Xe=Qe;break t}}Xe=null}if(w=Xe)Ci(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Oa(this,w);else{this.o=!1,this.s=3,yt(12),ln(this),Js(this);break e}}if(this.P){w=!0;let un;for(;!this.J&&this.C<fe.length;)if(un=Ph(this,fe),un==Mo){Qt==4&&(this.s=4,yt(14),w=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(un==fu){this.s=4,yt(15),Ci(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Ci(this.i,this.l,un,null),Oa(this,un);if(Dh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||fe.length!=0||this.h.h||(this.s=1,yt(16),w=!1),this.o=this.o&&w,!w)Ci(this.i,this.l,fe,"[Invalid Chunked Response]"),ln(this),Js(this);else if(0<fe.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ga(tn),tn.M=!0,yt(11))}}else Ci(this.i,this.l,fe,null),Oa(this,fe);Qt==4&&ln(this),this.o&&!this.J&&(Qt==4?qh(this.j,this):(this.o=!1,Ma(this)))}else mp(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,yt(12)):(this.s=0,yt(13)),ln(this),Js(this)}}}catch{}finally{}};function Dh(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Ph(d,_){var w=d.C,R=_.indexOf(`
`,w);return R==-1?Mo:(w=Number(_.substring(w,R)),isNaN(w)?fu:(R+=1,R+w>_.length?Mo:(_=_.slice(R,R+w),d.C=R+w,_)))}Cn.prototype.cancel=function(){this.J=!0,ln(this)};function Ma(d){d.S=Date.now()+d.I,Mh(d,d.I)}function Mh(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Lt(E(d.ba,d),_)}function Ni(d){d.B&&(h.clearTimeout(d.B),d.B=null)}Cn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Nh(this.i,this.A),this.L!=2&&(Ri(),yt(17)),ln(this),this.s=2,Js(this)):Mh(this,this.S-d)};function Js(d){d.j.G==0||d.J||qh(d.j,d)}function ln(d){Ni(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Ns(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Oa(d,_){try{var w=d.j;if(w.G!=0&&(w.g==d||mu(w.h,d))){if(!d.K&&mu(w.h,d)&&w.G==3){try{var R=w.Da.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var $=R;if($[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<d.F)Go(w),qo(w);else break e;xu(w),yt(18)}}else w.za=$[1],0<w.za-w.T&&37500>$[2]&&w.F&&w.v==0&&!w.C&&(w.C=Lt(E(w.Za,w),6e3));if(1>=Vo(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Hr(w,11)}else if((d.K||w.g==d)&&Go(w),!P(_))for($=w.Da.g.parse(_),_=0;_<$.length;_++){let Xe=$[_];if(w.T=Xe[0],Xe=Xe[1],w.G==2)if(Xe[0]=="c"){w.K=Xe[1],w.ia=Xe[2];const tn=Xe[3];tn!=null&&(w.la=tn,w.j.info("VER="+w.la));const Qt=Xe[4];Qt!=null&&(w.Aa=Qt,w.j.info("SVER="+w.Aa));const Gr=Xe[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(R=1.5*Gr,w.L=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const un=d.g;if(un){const ar=un.g?un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ar){var ee=R.h;ee.g||ar.indexOf("spdy")==-1&&ar.indexOf("quic")==-1&&ar.indexOf("h2")==-1||(ee.j=ee.l,ee.g=new Set,ee.h&&(ko(ee,ee.h),ee.h=null))}if(R.D){const Au=un.g?un.g.getResponseHeader("X-HTTP-Session-Id"):null;Au&&(R.ya=Au,ut(R.I,R.D,Au))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-d.F,w.j.info("Handshake RTT: "+w.R+"ms")),R=w;var fe=d;if(R.qa=Gh(R,R.J?R.ia:null,R.W),fe.K){In(R.h,fe);var Qe=fe,Yt=R.L;Yt&&(Qe.I=Yt),Qe.B&&(Ni(Qe),Ma(Qe)),R.g=fe}else Fh(R);0<w.i.length&&Ho(w)}else Xe[0]!="stop"&&Xe[0]!="close"||Hr(w,7);else w.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?Hr(w,7):wu(w):Xe[0]!="noop"&&w.l&&w.l.ta(Xe),w.v=0)}}Ri(4)}catch{}}var Oh=class{constructor(d,_){this.g=d,this.map=_}};function Lr(d){this.l=d||10,h.PerformanceNavigationTiming?(d=h.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Vo(d){return d.h?1:d.g?d.g.size:0}function mu(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function ko(d,_){d.g?d.g.add(_):d.h=_}function In(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Lr.prototype.cancel=function(){if(this.i=pu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function pu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const w of d.g.values())_=_.concat(w.D);return _}return M(d.i)}function cp(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],w=d.length,R=0;R<w;R++)_.push(d[R]);return _}_=[],w=0;for(R in d)_[w++]=d[R];return _}function jo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var w=0;w<d;w++)_.push(w);return _}_=[],w=0;for(const R in d)_[w++]=R;return _}}}function gu(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var w=jo(d),R=cp(d),$=R.length,ee=0;ee<$;ee++)_.call(void 0,R[ee],w&&w[ee],d)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hp(d,_){if(d){d=d.split("&");for(var w=0;w<d.length;w++){var R=d[w].indexOf("="),$=null;if(0<=R){var ee=d[w].substring(0,R);$=d[w].substring(R+1)}else ee=d[w];_(ee,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ut(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ut){this.h=d.h,ka(this,d.j),this.o=d.o,this.g=d.g,Di(this,d.s),this.l=d.l;var _=d.i,w=new Br;w.i=_.i,_.g&&(w.g=new Map(_.g),w.h=_.h),Ur(this,w),this.m=d.m}else d&&(_=String(d).match(Va))?(this.h=!1,ka(this,_[1]||"",!0),this.o=ls(_[2]||""),this.g=ls(_[3]||"",!0),Di(this,_[4]),this.l=ls(_[5]||"",!0),Ur(this,_[6]||"",!0),this.m=ls(_[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}Ut.prototype.toString=function(){var d=[],_=this.j;_&&d.push(La(_,yu,!0),":");var w=this.g;return(w||_=="file")&&(d.push("//"),(_=this.o)&&d.push(La(_,yu,!0),"@"),d.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&d.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&d.push("/"),d.push(La(w,w.charAt(0)=="/"?dp:vu,!0))),(w=this.i.toString())&&d.push("?",w),(w=this.m)&&d.push("#",La(w,Lo)),d.join("")};function Wn(d){return new Ut(d)}function ka(d,_,w){d.j=w?ls(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Di(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function Ur(d,_,w){_ instanceof Br?(d.i=_,kh(d.i,d.h)):(w||(_=La(_,fp)),d.i=new Br(_,d.h))}function ut(d,_,w){d.i.set(_,w)}function ja(d){return ut(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function ls(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function La(d,_,w){return typeof d=="string"?(d=encodeURI(d).replace(_,Vh),w&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Vh(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yu=/[#\/\?@]/g,vu=/[#\?:]/g,dp=/[#\?]/g,fp=/[#\?@]/g,Lo=/#/g;function Br(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function us(d){d.g||(d.g=new Map,d.h=0,d.i&&hp(d.i,function(_,w){d.add(decodeURIComponent(_.replace(/\+/g," ")),w)}))}t=Br.prototype,t.add=function(d,_){us(this),this.i=null,d=er(this,d);var w=this.g.get(d);return w||this.g.set(d,w=[]),w.push(_),this.h+=1,this};function Fr(d,_){us(d),_=er(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function zr(d,_){return us(d),_=er(d,_),d.g.has(_)}t.forEach=function(d,_){us(this),this.g.forEach(function(w,R){w.forEach(function($){d.call(_,$,R,this)},this)},this)},t.na=function(){us(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),w=[];for(let R=0;R<_.length;R++){const $=d[R];for(let ee=0;ee<$.length;ee++)w.push(_[R])}return w},t.V=function(d){us(this);let _=[];if(typeof d=="string")zr(this,d)&&(_=_.concat(this.g.get(er(this,d))));else{d=Array.from(this.g.values());for(let w=0;w<d.length;w++)_=_.concat(d[w])}return _},t.set=function(d,_){return us(this),this.i=null,d=er(this,d),zr(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},t.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function _u(d,_,w){Fr(d,_),0<w.length&&(d.i=null,d.g.set(er(d,_),M(w)),d.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var w=0;w<_.length;w++){var R=_[w];const ee=encodeURIComponent(String(R)),fe=this.V(R);for(R=0;R<fe.length;R++){var $=ee;fe[R]!==""&&($+="="+encodeURIComponent(String(fe[R]))),d.push($)}}return this.i=d.join("&")};function er(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function kh(d,_){_&&!d.j&&(us(d),d.i=null,d.g.forEach(function(w,R){var $=R.toLowerCase();R!=$&&(Fr(this,R),_u(this,$,w))},d)),d.j=_}function Ua(d,_){const w=new os;if(h.Image){const R=new Image;R.onload=x(cs,w,"TestLoadImage: loaded",!0,_,R),R.onerror=x(cs,w,"TestLoadImage: error",!1,_,R),R.onabort=x(cs,w,"TestLoadImage: abort",!1,_,R),R.ontimeout=x(cs,w,"TestLoadImage: timeout",!1,_,R),h.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Ps(d,_){const w=new os,R=new AbortController,$=setTimeout(()=>{R.abort(),cs(w,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(ee=>{clearTimeout($),ee.ok?cs(w,"TestPingServer: ok",!0,_):cs(w,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout($),cs(w,"TestPingServer: error",!1,_)})}function cs(d,_,w,R,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),R(w)}catch{}}function Ba(){this.g=new Mr}function tr(d,_,w){const R=w||"";try{gu(d,function($,ee){let fe=$;p($)&&(fe=Kn($)),_.push(R+ee+"="+encodeURIComponent(fe))})}catch($){throw _.push(R+"type="+encodeURIComponent("_badmap")),$}}function Pi(d){this.l=d.Ub||null,this.j=d.eb||!1}D(Pi,Si),Pi.prototype.g=function(){return new qr(this.l,this.j)},Pi.prototype.i=(function(d){return function(){return d}})({});function qr(d,_){ye.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(qr,ye),t=qr.prototype,t.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,sr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||h).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nr(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,sr(this)),this.g&&(this.readyState=3,sr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function bu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?nr(this):sr(this),this.readyState==3&&bu(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,nr(this))},t.Qa=function(d){this.g&&(this.response=d,nr(this))},t.ga=function(){this.g&&nr(this)};function nr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,sr(d)}t.setRequestHeader=function(d,_){this.u.append(d,_)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var w=_.next();!w.done;)w=w.value,d.push(w[0]+": "+w[1]),w=_.next();return d.join(`\r
`)};function sr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Eu(d){let _="";return ce(d,function(w,R){_+=R,_+=":",_+=w,_+=`\r
`}),_}function en(d,_,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Eu(w),typeof d=="string"?w!=null&&encodeURIComponent(String(w)):ut(d,_,w))}function st(d){ye.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(st,ye);var Uo=/^https?$/i,Fa=["POST","PUT"];t=st.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,_,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xs.g(),this.v=this.o?lu(this.o):lu(Xs),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(ee){jh(this,ee);return}if(d=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var $ in R)w.set($,R[$]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const ee of R.keys())w.set(ee,R.get(ee));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(ee=>ee.toLowerCase()=="content-type"),$=h.FormData&&d instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Fa,_,void 0))||R||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ee,fe]of w)this.g.setRequestHeader(ee,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{za(this),this.u=!0,this.g.send(d),this.u=!1}catch(ee){jh(this,ee)}};function jh(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,Bo(d),rr(d)}function Bo(d){d.A||(d.A=!0,Ae(d,"complete"),Ae(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Ae(this,"complete"),Ae(this,"abort"),rr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Fo(this):this.bb())},t.bb=function(){Fo(this)};function Fo(d){if(d.h&&typeof u<"u"&&(!d.v[1]||hs(d)!=4||d.Z()!=2)){if(d.u&&hs(d)==4)at(d.Ea,0,d);else if(Ae(d,"readystatechange"),hs(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var w;if(!(w=_)){var R;if(R=fe===0){var $=String(d.D).match(Va)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),R=!Uo.test($?$.toLowerCase():"")}w=R}if(w)Ae(d,"complete"),Ae(d,"success");else{d.m=6;try{var ee=2<hs(d)?d.g.statusText:""}catch{ee=""}d.l=ee+" ["+d.Z()+"]",Bo(d)}}finally{rr(d)}}}}function rr(d,_){if(d.g){za(d);const w=d.g,R=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||Ae(d,"ready");try{w.onreadystatechange=R}catch{}}}function za(d){d.I&&(h.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function hs(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<hs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Pr(_)}};function Lh(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function mp(d){const _={};d=(d.g&&2<=hs(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(P(d[R]))continue;var w=B(d[R]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const ee=_[$]||[];_[$]=ee,ee.push(w)}j(_,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(d,_,w){return w&&w.internalChannelParams&&w.internalChannelParams[d]||_}function zo(d){this.Aa=0,this.i=[],this.j=new os,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,d),this.cb=qa("retryDelaySeedMs",1e4,d),this.Wa=qa("forwardChannelMaxRetries",2,d),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Lr(d&&d.concurrentRequestLimit),this.Da=new Ba,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=zo.prototype,t.la=8,t.G=1,t.connect=function(d,_,w,R){yt(0),this.W=d,this.H=_||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.I=Gh(this,null,this.W),Ho(this)};function wu(d){if(Uh(d),d.G==3){var _=d.U++,w=Wn(d.I);if(ut(w,"SID",d.K),ut(w,"RID",_),ut(w,"TYPE","terminate"),Ha(d,w),_=new Cn(d,d.j,_),_.L=2,_.v=ja(Wn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(_.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=_.v,w=!0),w||(_.g=$h(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ma(_)}Hh(d)}function qo(d){d.g&&(Ga(d),d.g.cancel(),d.g=null)}function Uh(d){qo(d),d.u&&(h.clearTimeout(d.u),d.u=null),Go(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&h.clearTimeout(d.s),d.s=null)}function Ho(d){if(!Oo(d.h)&&!d.s){d.s=!0;var _=d.Ga;te||F(),me||(te(),me=!0),Ne.add(_,d),d.B=0}}function pp(d,_){return Vo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Lt(E(d.Ga,d,_),Su(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const $=new Cn(this,this.j,d);let ee=this.o;if(this.S&&(ee?(ee=A(ee),L(ee,this.S)):ee=this.S),this.m!==null||this.O||($.H=ee,ee=null),this.P)e:{for(var _=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(_+=R,4096<_){_=w;break e}if(_===4096||w===this.i.length-1){_=w+1;break e}}_=1e3}else _=1e3;_=Bh(this,$,_),w=Wn(this.I),ut(w,"RID",d),ut(w,"CVER",22),this.D&&ut(w,"X-HTTP-Session-Id",this.D),Ha(this,w),ee&&(this.O?_="headers="+encodeURIComponent(String(Eu(ee)))+"&"+_:this.m&&en(w,this.m,ee)),ko(this.h,$),this.Ua&&ut(w,"TYPE","init"),this.P?(ut(w,"$req",_),ut(w,"SID","null"),$.T=!0,Ds($,w,null)):Ds($,w,_),this.G=2}}else this.G==3&&(d?Tu(this,d):this.i.length==0||Oo(this.h)||Tu(this))};function Tu(d,_){var w;_?w=_.l:w=d.U++;const R=Wn(d.I);ut(R,"SID",d.K),ut(R,"RID",w),ut(R,"AID",d.T),Ha(d,R),d.m&&d.o&&en(R,d.m,d.o),w=new Cn(d,d.j,w,d.B+1),d.m===null&&(w.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Bh(d,w,1e3),w.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),ko(d.h,w),Ds(w,R,_)}function Ha(d,_){d.H&&ce(d.H,function(w,R){ut(_,R,w)}),d.l&&gu({},function(w,R){ut(_,R,w)})}function Bh(d,_,w){w=Math.min(d.i.length,w);var R=d.l?E(d.l.Na,d.l,d):null;e:{var $=d.i;let ee=-1;for(;;){const fe=["count="+w];ee==-1?0<w?(ee=$[0].g,fe.push("ofs="+ee)):ee=0:fe.push("ofs="+ee);let Qe=!0;for(let Yt=0;Yt<w;Yt++){let Xe=$[Yt].g;const tn=$[Yt].map;if(Xe-=ee,0>Xe)ee=Math.max(0,$[Yt].g-100),Qe=!1;else try{tr(tn,fe,"req"+Xe+"_")}catch{R&&R(tn)}}if(Qe){R=fe.join("&");break e}}}return d=d.i.splice(0,w),_.D=d,R}function Fh(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;te||F(),me||(te(),me=!0),Ne.add(_,d),d.v=0}}function xu(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Lt(E(d.Fa,d),Su(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,zh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Lt(E(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yt(10),qo(this),zh(this))};function Ga(d){d.A!=null&&(h.clearTimeout(d.A),d.A=null)}function zh(d){d.g=new Cn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=Wn(d.qa);ut(_,"RID","rpc"),ut(_,"SID",d.K),ut(_,"AID",d.T),ut(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&ut(_,"TO",d.ja),ut(_,"TYPE","xmlhttp"),Ha(d,_),d.m&&d.o&&en(_,d.m,d.o),d.L&&(d.g.I=d.L);var w=d.g;d=d.ia,w.L=1,w.v=ja(Wn(_)),w.m=null,w.P=!0,jr(w,d)}t.Za=function(){this.C!=null&&(this.C=null,qo(this),xu(this),yt(19))};function Go(d){d.C!=null&&(h.clearTimeout(d.C),d.C=null)}function qh(d,_){var w=null;if(d.g==_){Go(d),Ga(d),d.g=null;var R=2}else if(mu(d.h,_))w=_.D,In(d.h,_),R=1;else return;if(d.G!=0){if(_.o)if(R==1){w=_.m?_.m.length:0,_=Date.now()-_.F;var $=d.B;R=Ai(),Ae(R,new Wt(R,w)),Ho(d)}else Fh(d);else if($=_.s,$==3||$==0&&0<_.X||!(R==1&&pp(d,_)||R==2&&xu(d)))switch(w&&0<w.length&&(_=d.h,_.i=_.i.concat(w)),$){case 1:Hr(d,5);break;case 4:Hr(d,10);break;case 3:Hr(d,6);break;default:Hr(d,2)}}}function Su(d,_){let w=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(w*=2),w*_}function Hr(d,_){if(d.j.info("Error code "+_),_==2){var w=E(d.fb,d),R=d.Xa;const $=!R;R=new Ut(R||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ka(R,"https"),ja(R),$?Ua(R.toString(),w):Ps(R.toString(),w)}else yt(2);d.G=0,d.l&&d.l.sa(_),Hh(d),Uh(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function Hh(d){if(d.G=0,d.ka=[],d.l){const _=pu(d.h);(_.length!=0||d.i.length!=0)&&(k(d.ka,_),k(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function Gh(d,_,w){var R=w instanceof Ut?Wn(w):new Ut(w);if(R.g!="")_&&(R.g=_+"."+R.g),Di(R,R.s);else{var $=h.location;R=$.protocol,_=_?_+"."+$.hostname:$.hostname,$=+$.port;var ee=new Ut(null);R&&ka(ee,R),_&&(ee.g=_),$&&Di(ee,$),w&&(ee.l=w),R=ee}return w=d.D,_=d.ya,w&&_&&ut(R,w,_),ut(R,"VER",d.la),Ha(d,R),R}function $h(d,_,w){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new st(new Pi({eb:w})):new st(d.pa),_.Ha(d.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}t=Kh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $o(){}$o.prototype.g=function(d,_){return new Nn(d,_)};function Nn(d,_){ye.call(this),this.g=new zo(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!P(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!P(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new ir(this)}D(Nn,ye),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){wu(this.g)},Nn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var w={};w.__data__=d,d=w}else this.u&&(w={},w.__data__=Kn(d),d=w);_.i.push(new Oh(_.Ya++,d)),_.G==3&&Ho(_)},Nn.prototype.N=function(){this.g.l=null,delete this.j,wu(this.g),delete this.g,Nn.aa.N.call(this)};function Wh(d){Vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const w in _){d=w;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}D(Wh,Vr);function Yh(){cu.call(this),this.status=1}D(Yh,cu);function ir(d){this.g=d}D(ir,Kh),ir.prototype.ua=function(){Ae(this.g,"a")},ir.prototype.ta=function(d){Ae(this.g,new Wh(d))},ir.prototype.sa=function(d){Ae(this.g,new Yh)},ir.prototype.ra=function(){Ae(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,NR=function(){return new $o},IR=function(){return Ai()},CR=Qs,hv={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,Rf=Ii,kr.COMPLETE="complete",RR=kr,uu.EventType=Or,Or.OPEN="a",Or.CLOSE="b",Or.ERROR="c",Or.MESSAGE="d",ye.prototype.listen=ye.prototype.K,wc=uu,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,AR=st}).apply(typeof tf<"u"?tf:typeof self<"u"?self:typeof window<"u"?window:{});const cx="@firebase/firestore",hx="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Dm("@firebase/firestore");function wl(){return xo.logLevel}function Ee(t,...e){if(xo.logLevel<=Ke.DEBUG){const n=e.map(T0);xo.debug(`Firestore (${eu}): ${t}`,...n)}}function gi(t,...e){if(xo.logLevel<=Ke.ERROR){const n=e.map(T0);xo.error(`Firestore (${eu}): ${t}`,...n)}}function Bl(t,...e){if(xo.logLevel<=Ke.WARN){const n=e.map(T0);xo.warn(`Firestore (${eu}): ${t}`,...n)}}function T0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,DR(t,s,n)}function DR(t,e,n){let s=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gi(s),new Error(s)}function rt(t,e,n,s){let a="Unexpected state";typeof n=="string"?a=n:s=n,t||DR(e,a,s)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(wn.UNAUTHENTICATED)))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sL{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){rt(this.o===void 0,42304);let s=this.i;const a=f=>this.i!==s?(s=this.i,n(f)):Promise.resolve();let l=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new hi,e.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const f=l;e.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{Ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(Ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new hi)}}),0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(Ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string",31837,{l:s}),new PR(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string",2055,{h:e}),new wn(e)}}class rL{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iL{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new rL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(wn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ns(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){rt(this.o===void 0,3512);const s=l=>{l.error!=null&&Ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ee("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{Ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new dx(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=oL(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<n&&(s+=e.charAt(a[l]%62))}return s}}function We(t,e){return t<e?-1:t>e?1:0}function dv(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const a=t.charAt(s),l=e.charAt(s);if(a!==l)return wy(a)===wy(l)?We(a,l):wy(a)?1:-1}return We(t.length,e.length)}const lL=55296,uL=57343;function wy(t){const e=t.charCodeAt(0);return e>=lL&&e<=uL}function Fl(t,e,n){return t.length===e.length&&t.every(((s,a)=>n(s,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="__name__";class dr{constructor(e,n,s){n===void 0?n=0:n>e.length&&Oe(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Oe(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return dr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof dr?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const l=dr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return We(e.length,n.length)}static compareSegments(e,n){const s=dr.isNumericId(e),a=dr.isNumericId(n);return s&&!a?-1:!s&&a?1:s&&a?dr.extractNumericId(e).compare(dr.extractNumericId(n)):dv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return da.fromString(e.substring(4,e.length-2))}}class pt extends dr{construct(e,n,s){return new pt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((a=>a.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gn extends dr{construct(e,n,s){return new gn(e,n,s)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fx}static keyField(){return new gn([fx])}static fromServerFormat(e){const n=[];let s="",a=0;const l=()=>{if(s.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(s+=h,a++):(l(),a++)}if(l(),u)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gn(n)}static emptyPath(){return new gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.path=e}static fromPath(e){return new Ie(pt.fromString(e))}static fromName(e){return new Ie(pt.fromString(e).popFirst(5))}static empty(){return new Ie(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ie(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,n){if(!n)throw new be(ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hL(t,e,n,s){if(e===!0&&s===!0)throw new be(ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function mx(t){if(!Ie.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function px(t){if(Ie.isDocumentKey(t))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function OR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function km(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Oe(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=km(t);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t,e){const n={typeString:t};return e&&(n.value=e),n}function ph(t,e){if(!OR(t))throw new be(ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const u=t[s];if(a&&typeof u!==a){n=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){n=`Expected '${s}' field to equal '${l.value}'`;break}}if(n)throw new be(ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=-62135596800,yx=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*yx);return new gt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gx)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yx}_compareTo(e){return this.seconds===e.seconds?We(this.nanoseconds,e.nanoseconds):We(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ph(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-gx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Kt("string",gt._jsonSchemaVersion),seconds:Kt("number"),nanoseconds:Kt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new gt(0,0))}static max(){return new Le(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=-1;function dL(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,a=Le.fromTimestamp(s===1e9?new gt(n+1,0):new gt(n,s));return new ga(a,Ie.empty(),e)}function fL(t){return new ga(t.readTime,t.key,Wc)}class ga{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ga(Le.min(),Ie.empty(),Wc)}static max(){return new ga(Le.max(),Ie.empty(),Wc)}}function mL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ie.comparator(t.documentKey,e.documentKey),n!==0?n:We(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==ae.FAILED_PRECONDITION||t.message!==pL)throw t;Ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Oe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(s,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,s)=>{n(e)}))}static reject(e){return new le(((n,s)=>{s(e)}))}static waitFor(e){return new le(((n,s)=>{let a=0,l=0,u=!1;e.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&n()}),(f=>s(f)))})),u=!0,l===a&&n()}))}static or(e){let n=le.resolve(!1);for(const s of e)n=n.next((a=>a?le.resolve(a):s()));return n}static forEach(e,n){const s=[];return e.forEach(((a,l)=>{s.push(n.call(this,a,l))})),this.waitFor(s)}static mapArray(e,n){return new le(((s,a)=>{const l=e.length,u=new Array(l);let h=0;for(let f=0;f<l;f++){const p=f;n(e[p]).next((g=>{u[p]=g,++h,h===l&&s(u)}),(g=>a(g)))}}))}static doWhile(e,n){return new le(((s,a)=>{const l=()=>{e()===!0?n().next((()=>{l()}),a):s()};l()}))}}function yL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}jm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-1;function Lm(t){return t==null}function Zf(t){return t===0&&1/t==-1/0}function vL(t){return typeof t=="number"&&Number.isInteger(t)&&!Zf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="";function _L(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vx(e)),e=bL(t.get(n),e);return vx(e)}function bL(t,e){let n=e;const s=t.length;for(let a=0;a<s;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case VR:n+="";break;default:n+=l}}return n}function vx(t){return t+VR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _x(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function kR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nf(this.root,e,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nf(this.root,e,this.comparator,!0)}}class nf{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?s(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,s,a,l){this.key=e,this.value=n,this.color=s??pn.RED,this.left=a??pn.EMPTY,this.right=l??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,l){return new pn(e??this.key,n??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,s),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return pn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Oe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Oe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Oe(27949);return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Oe(57766)}get value(){throw Oe(16141)}get color(){throw Oe(16727)}get left(){throw Oe(29726)}get right(){throw Oe(36894)}copy(e,n,s,a,l){return this}insert(e,n,s){return new pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bx(this.data.getIterator())}getIteratorFrom(e){return new bx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class bx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.fields=e,e.sort(gn.comparator)}static empty(){return new ss([])}unionWith(e){let n=new Jt(gn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ss(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jR("Invalid base64 string: "+l):l}})(e);return new vn(n)}static fromUint8Array(e){const n=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(e);return new vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return We(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vn.EMPTY_BYTE_STRING=new vn("");const EL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(t){if(rt(!!t,39018),typeof t=="string"){let e=0;const n=EL.exec(t);if(rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function va(t){return typeof t=="string"?vn.fromBase64String(t):vn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="server_timestamp",UR="__type__",BR="__previous_value__",FR="__local_write_time__";function A0(t){return(t?.mapValue?.fields||{})[UR]?.stringValue===LR}function Um(t){const e=t.mapValue.fields[BR];return A0(e)?Um(e):e}function Yc(t){const e=ya(t.mapValue.fields[FR].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,s,a,l,u,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Jf="(default)";class Qc{constructor(e,n){this.projectId=e,this.database=n||Jf}static empty(){return new Qc("","")}get isDefaultDatabase(){return this.database===Jf}isEqual(e){return e instanceof Qc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="__type__",TL="__max__",sf={mapValue:{}},qR="__vector__",em="value";function _a(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?A0(t)?4:SL(t)?9007199254740991:xL(t)?10:11:Oe(28295,{value:t})}function Rr(t,e){if(t===e)return!0;const n=_a(t);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yc(t).isEqual(Yc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ya(a.timestampValue),h=ya(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,l){return va(a.bytesValue).isEqual(va(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,l){return Vt(a.geoPointValue.latitude)===Vt(l.geoPointValue.latitude)&&Vt(a.geoPointValue.longitude)===Vt(l.geoPointValue.longitude)})(t,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Vt(a.integerValue)===Vt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Vt(a.doubleValue),h=Vt(l.doubleValue);return u===h?Zf(u)===Zf(h):isNaN(u)&&isNaN(h)}return!1})(t,e);case 9:return Fl(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(_x(u)!==_x(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Rr(u[f],h[f])))return!1;return!0})(t,e);default:return Oe(52216,{left:t})}}function Xc(t,e){return(t.values||[]).find((n=>Rr(n,e)))!==void 0}function zl(t,e){if(t===e)return 0;const n=_a(t),s=_a(e);if(n!==s)return We(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return We(t.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Vt(l.integerValue||l.doubleValue),f=Vt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(t,e);case 3:return Ex(t.timestampValue,e.timestampValue);case 4:return Ex(Yc(t),Yc(e));case 5:return dv(t.stringValue,e.stringValue);case 6:return(function(l,u){const h=va(l),f=va(u);return h.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const g=We(h[p],f[p]);if(g!==0)return g}return We(h.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=We(Vt(l.latitude),Vt(u.latitude));return h!==0?h:We(Vt(l.longitude),Vt(u.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return wx(t.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},f=u.fields||{},p=h[em]?.arrayValue,g=f[em]?.arrayValue,b=We(p?.values?.length||0,g?.values?.length||0);return b!==0?b:wx(p,g)})(t.mapValue,e.mapValue);case 11:return(function(l,u){if(l===sf.mapValue&&u===sf.mapValue)return 0;if(l===sf.mapValue)return 1;if(u===sf.mapValue)return-1;const h=l.fields||{},f=Object.keys(h),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let b=0;b<f.length&&b<g.length;++b){const E=dv(f[b],g[b]);if(E!==0)return E;const x=zl(h[f[b]],p[g[b]]);if(x!==0)return x}return We(f.length,g.length)})(t.mapValue,e.mapValue);default:throw Oe(23264,{he:n})}}function Ex(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return We(t,e);const n=ya(t),s=ya(e),a=We(n.seconds,s.seconds);return a!==0?a:We(n.nanos,s.nanos)}function wx(t,e){const n=t.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const l=zl(n[a],s[a]);if(l)return l}return We(n.length,s.length)}function ql(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const s=ya(n);return`time(${s.seconds},${s.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return va(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ie.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let s="[",a=!0;for(const l of n.values||[])a?a=!1:s+=",",s+=fv(l);return s+"]"})(t.arrayValue):"mapValue"in t?(function(n){const s=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of s)l?l=!1:a+=",",a+=`${u}:${fv(n.fields[u])}`;return a+"}"})(t.mapValue):Oe(61005,{value:t})}function Cf(t){switch(_a(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Um(t);return e?16+Cf(e):16;case 5:return 2*t.stringValue.length;case 6:return va(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Cf(l)),0)})(t.arrayValue);case 10:case 11:return(function(s){let a=0;return Ia(s.fields,((l,u)=>{a+=l.length+Cf(u)})),a})(t.mapValue);default:throw Oe(13486,{value:t})}}function Tx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function mv(t){return!!t&&"integerValue"in t}function R0(t){return!!t&&"arrayValue"in t}function xx(t){return!!t&&"nullValue"in t}function Sx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function If(t){return!!t&&"mapValue"in t}function xL(t){return(t?.mapValue?.fields||{})[zR]?.stringValue===qR}function Nc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Nc(s))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nc(t.arrayValue.values[n]);return e}return{...t}}function SL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===TL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!If(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nc(n)}setAll(e){let n=gn.emptyPath(),s={},a=[];e.forEach(((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,s,a),s={},a=[],n=h.popLast()}u?s[h.lastSegment()]=Nc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,s,a)}delete(e){const n=this.field(e.popLast());If(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];If(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ia(n,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new zn(Nc(this.value))}}function HR(t){const e=[];return Ia(t.fields,((n,s)=>{const a=new gn([n]);if(If(s)){const l=HR(s.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)})),new ss(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,s,a,l,u,h){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new xn(e,0,Le.min(),Le.min(),Le.min(),zn.empty(),0)}static newFoundDocument(e,n,s,a){return new xn(e,1,n,Le.min(),s,a,0)}static newNoDocument(e,n){return new xn(e,2,n,Le.min(),Le.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,Le.min(),Le.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.position=e,this.inclusive=n}}function Ax(t,e,n){let s=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?s=Ie.comparator(Ie.fromName(u.referenceValue),n.key):s=zl(u,n.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Rx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n="asc"){this.field=e,this.dir=n}}function AL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{}class $t extends GR{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new CL(e,n,s):n==="array-contains"?new DL(e,s):n==="in"?new PL(e,s):n==="not-in"?new ML(e,s):n==="array-contains-any"?new OL(e,s):new $t(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new IL(e,s):new NL(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zl(n,this.value)):n!==null&&_a(this.value)===_a(n)&&this.matchesComparison(zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Oe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gs extends GR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Gs(e,n)}matches(e){return $R(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $R(t){return t.op==="and"}function KR(t){return RL(t)&&$R(t)}function RL(t){for(const e of t.filters)if(e instanceof Gs)return!1;return!0}function pv(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+ql(t.value);if(KR(t))return t.filters.map((e=>pv(e))).join(",");{const e=t.filters.map((n=>pv(n))).join(",");return`${t.op}(${e})`}}function WR(t,e){return t instanceof $t?(function(s,a){return a instanceof $t&&s.op===a.op&&s.field.isEqual(a.field)&&Rr(s.value,a.value)})(t,e):t instanceof Gs?(function(s,a){return a instanceof Gs&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,u,h)=>l&&WR(u,a.filters[h])),!0):!1})(t,e):void Oe(19439)}function YR(t){return t instanceof $t?(function(n){return`${n.field.canonicalString()} ${n.op} ${ql(n.value)}`})(t):t instanceof Gs?(function(n){return n.op.toString()+" {"+n.getFilters().map(YR).join(" ,")+"}"})(t):"Filter"}class CL extends $t{constructor(e,n,s){super(e,n,s),this.key=Ie.fromName(s.referenceValue)}matches(e){const n=Ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class IL extends $t{constructor(e,n){super(e,"in",n),this.keys=QR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class NL extends $t{constructor(e,n){super(e,"not-in",n),this.keys=QR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QR(t,e){return(e.arrayValue?.values||[]).map((n=>Ie.fromName(n.referenceValue)))}class DL extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return R0(n)&&Xc(n.arrayValue,this.value)}}class PL extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xc(this.value.arrayValue,n)}}class ML extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xc(this.value.arrayValue,n)}}class OL extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!R0(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Xc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n=null,s=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Cx(t,e=null,n=[],s=[],a=null,l=null,u=null){return new VL(t,e,n,s,a,l,u)}function C0(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>pv(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Lm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ql(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ql(s))).join(",")),e.Te=n}return e.Te}function I0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!WR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rx(t.startAt,e.startAt)&&Rx(t.endAt,e.endAt)}function gv(t){return Ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,s=[],a=[],l=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kL(t,e,n,s,a,l,u,h){return new gh(t,e,n,s,a,l,u,h)}function N0(t){return new gh(t)}function Ix(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function XR(t){return t.collectionGroup!==null}function Dc(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Jt(gn.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nm(l,s))})),n.has(gn.keyField().canonicalString())||e.Ie.push(new nm(gn.keyField(),s))}return e.Ie}function _r(t){const e=Ue(t);return e.Ee||(e.Ee=jL(e,Dc(t))),e.Ee}function jL(t,e){if(t.limitType==="F")return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nm(a.field,l)}));const n=t.endAt?new tm(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tm(t.startAt.position,t.startAt.inclusive):null;return Cx(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function yv(t,e){const n=t.filters.concat([e]);return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vv(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bm(t,e){return I0(_r(t),_r(e))&&t.limitType===e.limitType}function ZR(t){return`${C0(_r(t))}|lt:${t.limitType}`}function Tl(t){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((a=>YR(a))).join(", ")}]`),Lm(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((a=>ql(a))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((a=>ql(a))).join(",")),`Target(${s})`})(_r(t))}; limitType=${t.limitType})`}function Fm(t,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ie.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(t,e)&&(function(s,a){for(const l of Dc(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(t,e)&&(function(s,a){return!(s.startAt&&!(function(u,h,f){const p=Ax(u,h,f);return u.inclusive?p<=0:p<0})(s.startAt,Dc(s),a)||s.endAt&&!(function(u,h,f){const p=Ax(u,h,f);return u.inclusive?p>=0:p>0})(s.endAt,Dc(s),a))})(t,e)}function LL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function JR(t){return(e,n)=>{let s=!1;for(const a of Dc(t)){const l=UL(a,e,n);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function UL(t,e,n){const s=t.field.isKeyField()?Ie.comparator(e.key,n.key):(function(l,u,h){const f=u.data.field(l),p=h.data.field(l);return f!==null&&p!==null?zl(f,p):Oe(42886)})(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return Oe(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,((n,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return kR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new St(Ie.comparator);function vi(){return BL}const eC=new St(Ie.comparator);function Tc(...t){let e=eC;for(const n of t)e=e.insert(n.key,n);return e}function tC(t){let e=eC;return t.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function fo(){return Pc()}function nC(){return Pc()}function Pc(){return new Io((t=>t.toString()),((t,e)=>t.isEqual(e)))}const FL=new St(Ie.comparator),zL=new Jt(Ie.comparator);function Ye(...t){let e=zL;for(const n of t)e=e.add(n);return e}const qL=new Jt(We);function HL(){return qL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zf(e)?"-0":e}}function sC(t){return{integerValue:""+t}}function GL(t,e){return vL(e)?sC(e):D0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this._=void 0}}function $L(t,e,n){return t instanceof Zc?(function(a,l){const u={fields:{[UR]:{stringValue:LR},[FR]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&A0(l)&&(l=Um(l)),l&&(u.fields[BR]=l),{mapValue:u}})(n,e):t instanceof Jc?iC(t,e):t instanceof eh?aC(t,e):(function(a,l){const u=rC(a,l),h=Nx(u)+Nx(a.Ae);return mv(u)&&mv(a.Ae)?sC(h):D0(a.serializer,h)})(t,e)}function KL(t,e,n){return t instanceof Jc?iC(t,e):t instanceof eh?aC(t,e):n}function rC(t,e){return t instanceof sm?(function(s){return mv(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Zc extends zm{}class Jc extends zm{constructor(e){super(),this.elements=e}}function iC(t,e){const n=oC(e);for(const s of t.elements)n.some((a=>Rr(a,s)))||n.push(s);return{arrayValue:{values:n}}}class eh extends zm{constructor(e){super(),this.elements=e}}function aC(t,e){let n=oC(e);for(const s of t.elements)n=n.filter((a=>!Rr(a,s)));return{arrayValue:{values:n}}}class sm extends zm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Nx(t){return Vt(t.integerValue||t.doubleValue)}function oC(t){return R0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.field=e,this.transform=n}}function YL(t,e){return t.field.isEqual(e.field)&&(function(s,a){return s instanceof Jc&&a instanceof Jc||s instanceof eh&&a instanceof eh?Fl(s.elements,a.elements,Rr):s instanceof sm&&a instanceof sm?Rr(s.Ae,a.Ae):s instanceof Zc&&a instanceof Zc})(t.transform,e.transform)}class QL{constructor(e,n){this.version=e,this.transformResults=n}}class br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new br}static exists(e){return new br(void 0,e)}static updateTime(e){return new br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qm{}function lC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new cC(t.key,br.none()):new yh(t.key,t.data,br.none());{const n=t.data,s=zn.empty();let a=new Jt(gn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?s.delete(l):s.set(l,u),a=a.add(l)}return new Na(t.key,s,new ss(a.toArray()),br.none())}}function XL(t,e,n){t instanceof yh?(function(a,l,u){const h=a.value.clone(),f=Px(a.fieldTransforms,l,u.transformResults);h.setAll(f),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(t,e,n):t instanceof Na?(function(a,l,u){if(!Nf(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Px(a.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(uC(a)),f.setAll(h),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(t,e,n):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,n)}function Mc(t,e,n,s){return t instanceof yh?(function(l,u,h,f){if(!Nf(l.precondition,u))return h;const p=l.value.clone(),g=Mx(l.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(t,e,n,s):t instanceof Na?(function(l,u,h,f){if(!Nf(l.precondition,u))return h;const p=Mx(l.fieldTransforms,f,u),g=u.data;return g.setAll(uC(l)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((b=>b.field)))})(t,e,n,s):(function(l,u,h){return Nf(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(t,e,n)}function ZL(t,e){let n=null;for(const s of t.fieldTransforms){const a=e.data.field(s.field),l=rC(s.transform,a||null);l!=null&&(n===null&&(n=zn.empty()),n.set(s.field,l))}return n||null}function Dx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fl(s,a,((l,u)=>YL(l,u)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class yh extends qm{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Na extends qm{constructor(e,n,s,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function uC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}})),e}function Px(t,e,n){const s=new Map;rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);s.set(l.field,KL(u,h,n[a]))}return s}function Mx(t,e,n){const s=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);s.set(a.field,$L(l,u,e))}return s}class cC extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JL extends qm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&XL(l,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Mc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Mc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nC();return this.mutations.forEach((a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const f=lC(u,h);f!==null&&s.set(a.key,f),u.isValidDocument()||u.convertToNoDocument(Le.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Fl(this.mutations,e.mutations,((n,s)=>Dx(n,s)))&&Fl(this.baseMutations,e.baseMutations,((n,s)=>Dx(n,s)))}}class P0{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){rt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return FL})();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,s[u].version);return new P0(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,Je;function s6(t){switch(t){case ae.OK:return Oe(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Oe(15467,{code:t})}}function hC(t){if(t===void 0)return gi("GRPC error has no .code"),ae.UNKNOWN;switch(t){case qt.OK:return ae.OK;case qt.CANCELLED:return ae.CANCELLED;case qt.UNKNOWN:return ae.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ae.INTERNAL;case qt.UNAVAILABLE:return ae.UNAVAILABLE;case qt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case qt.NOT_FOUND:return ae.NOT_FOUND;case qt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case qt.ABORTED:return ae.ABORTED;case qt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case qt.DATA_LOSS:return ae.DATA_LOSS;default:return Oe(39323,{code:t})}}(Je=qt||(qt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new da([4294967295,4294967295],0);function Ox(t){const e=r6().encode(t),n=new SR;return n.update(e),new Uint8Array(n.digest())}function Vx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new da([n,s],0),new da([a,l],0)]}class M0{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xc(`Invalid padding: ${n}`);if(s<0)throw new xc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new xc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new xc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=da.fromNumber(this.ge)}ye(e,n,s){let a=e.add(n.multiply(da.fromNumber(s)));return a.compare(i6)===1&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Ox(e),[s,a]=Vx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);if(!this.we(u))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new M0(l,a,n);return s.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const n=Ox(e),[s,a]=Vx(n);for(let l=0;l<this.hashCount;l++){const u=this.ye(s,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,s,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,vh.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hm(Le.min(),a,new St(We),vi(),Ye())}}class vh{constructor(e,n,s,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vh(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n,s,a){this.be=e,this.removedTargetIds=n,this.key=s,this.De=a}}class dC{constructor(e,n){this.targetId=e,this.Ce=n}}class fC{constructor(e,n,s=vn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class kx{constructor(){this.ve=0,this.Fe=jx(),this.Me=vn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Oe(38017,{changeType:l})}})),new vh(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=jx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class a6{constructor(e){this.Ge=e,this.ze=new Map,this.je=vi(),this.Je=rf(),this.He=rf(),this.Ye=new St(We)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Oe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,s=e.Ce.count,a=this.ot(n);if(a){const l=a.target;if(gv(l))if(s===0){const u=new Ie(l.path);this.et(n,u,xn.newNoDocument(u,Le.min()))}else rt(s===1,20013,{expectedCount:s});else{const u=this._t(n);if(u!==s){const h=this.ut(e),f=h?this.ct(h,e,u):1;if(f!==0){this.it(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=va(s).toUint8Array()}catch(f){if(f instanceof jR)return Bl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new M0(u,a,l)}catch(f){return Bl(f instanceof xc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let a=0;return s.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(n,l,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&gv(h.target)){const f=new Ie(h.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,xn.newNoDocument(f,e))}l.Be&&(n.set(u,l.ke()),l.qe())}}));let s=Ye();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const a=new Hm(e,n,this.Ye,this.je,s);return this.je=vi(),this.Je=rf(),this.He=rf(),this.Ye=new St(We),a}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Jt(We),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Jt(We),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kx),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rf(){return new St(Ie.comparator)}function jx(){return new St(Ie.comparator)}const o6={asc:"ASCENDING",desc:"DESCENDING"},l6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},u6={and:"AND",or:"OR"};class c6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _v(t,e){return t.useProto3Json||Lm(e)?e:{value:e}}function rm(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function h6(t,e){return rm(t,e.toTimestamp())}function Er(t){return rt(!!t,49232),Le.fromTimestamp((function(n){const s=ya(n);return new gt(s.seconds,s.nanos)})(t))}function O0(t,e){return bv(t,e).canonicalString()}function bv(t,e){const n=(function(a){return new pt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){const e=pt.fromString(t);return rt(bC(e),10190,{key:e.toString()}),e}function Ev(t,e){return O0(t.databaseId,e.path)}function Ty(t,e){const n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ie(yC(n))}function gC(t,e){return O0(t.databaseId,e)}function d6(t){const e=pC(t);return e.length===4?pt.emptyPath():yC(e)}function wv(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Lx(t,e,n){return{name:Ev(t,e),fields:n.value.mapValue.fields}}function f6(t,e){let n;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Oe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,g){return p.useProto3Json?(rt(g===void 0||typeof g=="string",58123),vn.fromBase64String(g||"")):(rt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),vn.fromUint8Array(g||new Uint8Array))})(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(p){const g=p.code===void 0?ae.UNKNOWN:hC(p.code);return new be(g,p.message||"")})(u);n=new fC(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Ty(t,s.document.name),l=Er(s.document.updateTime),u=s.document.createTime?Er(s.document.createTime):Le.min(),h=new zn({mapValue:{fields:s.document.fields}}),f=xn.newFoundDocument(a,l,u,h),p=s.targetIds||[],g=s.removedTargetIds||[];n=new Df(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Ty(t,s.document),l=s.readTime?Er(s.readTime):Le.min(),u=xn.newNoDocument(a,l),h=s.removedTargetIds||[];n=new Df([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Ty(t,s.document),l=s.removedTargetIds||[];n=new Df([],l,a,null)}else{if(!("filter"in e))return Oe(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,u=new n6(a,l),h=s.targetId;n=new dC(h,u)}}return n}function m6(t,e){let n;if(e instanceof yh)n={update:Lx(t,e.key,e.value)};else if(e instanceof cC)n={delete:Ev(t,e.key)};else if(e instanceof Na)n={update:Lx(t,e.key,e.data),updateMask:T6(e.fieldMask)};else{if(!(e instanceof JL))return Oe(16599,{Vt:e.type});n={verify:Ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(l,u){const h=u.transform;if(h instanceof Zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Jc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof eh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sm)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Oe(20930,{transform:u.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:h6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Oe(27497)})(t,e.precondition)),n}function p6(t,e){return t&&t.length>0?(rt(e!==void 0,14353),t.map((n=>(function(a,l){let u=a.updateTime?Er(a.updateTime):Er(l);return u.isEqual(Le.min())&&(u=Er(l)),new QL(u,a.transformResults||[])})(n,e)))):[]}function g6(t,e){return{documents:[gC(t,e.path)]}}function y6(t,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gC(t,a);const l=(function(p){if(p.length!==0)return _C(Gs.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:xl(E.field),direction:b6(E.dir)}})(g)))})(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=_v(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:a}}function v6(t){let e=d6(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){rt(s===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=(function(b){const E=vC(b);return E instanceof Gs&&KR(E)?E.getFilters():[E]})(n.where));let u=[];n.orderBy&&(u=(function(b){return b.map((E=>(function(D){return new nm(Sl(D.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(n.orderBy));let h=null;n.limit&&(h=(function(b){let E;return E=typeof b=="object"?b.value:b,Lm(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(b){const E=!!b.before,x=b.values||[];return new tm(x,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(b){const E=!b.before,x=b.values||[];return new tm(x,E)})(n.endAt)),kL(e,a,u,l,h,"F",f,p)}function _6(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Oe(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Sl(n.unaryFilter.field);return $t.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Sl(n.unaryFilter.field);return $t.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Sl(n.unaryFilter.field);return $t.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Sl(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Oe(61313);default:return Oe(60726)}})(t):t.fieldFilter!==void 0?(function(n){return $t.create(Sl(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Oe(58110);default:return Oe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Gs.create(n.compositeFilter.filters.map((s=>vC(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Oe(1026)}})(n.compositeFilter.op))})(t):Oe(30097,{filter:t})}function b6(t){return o6[t]}function E6(t){return l6[t]}function w6(t){return u6[t]}function xl(t){return{fieldPath:t.canonicalString()}}function Sl(t){return gn.fromServerFormat(t.fieldPath)}function _C(t){return t instanceof $t?(function(n){if(n.op==="=="){if(Sx(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NAN"}};if(xx(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sx(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NAN"}};if(xx(n.value))return{unaryFilter:{field:xl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xl(n.field),op:E6(n.op),value:n.value}}})(t):t instanceof Gs?(function(n){const s=n.getFilters().map((a=>_C(a)));return s.length===1?s[0]:{compositeFilter:{op:w6(n.op),filters:s}}})(t):Oe(54877,{filter:t})}function T6(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,s,a,l=Le.min(),u=Le.min(),h=vn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e){this.yt=e}}function S6(t){const e=v6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.Cn=new R6}addToCollectionParentIndex(e,n){return this.Cn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(ga.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(ga.min())}updateCollectionGroup(e,n,s){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class R6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new Jt(pt.comparator),l=!a.has(s);return this.index[n]=a.add(s),l}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Jt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EC=41943040;class Fn{static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(EC,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hl(0)}static cr(){return new Hl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="LruGarbageCollector",C6=1048576;function Fx([t,e],[n,s]){const a=We(t,n);return a===0?We(e,s):a}class I6{constructor(e){this.Ir=e,this.buffer=new Jt(Fx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Fx(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class N6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ee(Bx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){nu(n)?Ee(Bx,"Ignoring IndexedDB error during garbage collection: ",n):await tu(n)}await this.Vr(3e5)}))}}class D6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(jm.ce);const s=new I6(n);return this.mr.forEachTarget(e,(a=>s.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>s.Ar(a))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ee("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Ux)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(Ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ux):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,a,l,u,h,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(Ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a)))).next((b=>(s=b,h=Date.now(),this.removeTargets(e,s,n)))).next((b=>(l=b,f=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(p=Date.now(),wl()<=Ke.DEBUG&&Ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b}))))}}function P6(t,e){return new D6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(){this.changes=new Io((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?le.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(s!==null&&Mc(s.mutation,a,ss.empty(),gt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const a=fo();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,s).next((l=>{let u=Tc();return l.forEach(((h,f)=>{u=u.insert(h,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,n){const s=fo();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const a=[];return s.forEach((l=>{n.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((u,h)=>{n.set(u,h)}))}))}computeViews(e,n,s,a){let l=vi();const u=Pc(),h=(function(){return Pc()})();return n.forEach(((f,p)=>{const g=s.get(p.key);a.has(p.key)&&(g===void 0||g.mutation instanceof Na)?l=l.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Mc(g.mutation,p,g.mutation.getFieldMask(),gt.now())):u.set(p.key,ss.empty())})),this.recalculateAndSaveOverlays(e,l).next((f=>(f.forEach(((p,g)=>u.set(p,g))),n.forEach(((p,g)=>h.set(p,new O6(g,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,n){const s=Pc();let a=new St(((u,h)=>u-h)),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((u=>{for(const h of u)h.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let g=s.get(f)||ss.empty();g=h.applyToLocalView(p,g),s.set(f,g);const b=(a.get(h.batchId)||Ye()).add(f);a=a.insert(h.batchId,b)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,g=f.value,b=nC();g.forEach((E=>{if(!l.has(E)){const x=lC(n.get(E),s.get(E));x!==null&&b.set(E,x),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return le.waitFor(u)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,a){return(function(u){return Ie.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):XR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-l.size):le.resolve(fo());let h=Wc,f=l;return u.next((p=>le.forEach(p,((g,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),l.get(g)?le.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,f,p,Ye()))).next((g=>({batchId:h,changes:tC(g)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ie(n)).next((s=>{let a=Tc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const l=n.collectionGroup;let u=Tc();return this.indexManager.getCollectionParents(e,l).next((h=>le.forEach(h,(f=>{const p=(function(b,E){return new gh(E,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,a).next((g=>{g.forEach(((b,E)=>{u=u.insert(b,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,n,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,l,a)))).next((u=>{l.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,xn.newInvalidDocument(g)))}));let h=Tc();return u.forEach(((f,p)=>{const g=l.get(f);g!==void 0&&Mc(g.mutation,p,ss.empty(),gt.now()),Fm(n,p)&&(h=h.insert(f,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return le.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Er(a.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:S6(a.bundledQuery),readTime:Er(a.readTime)}})(n)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.overlays=new St(Ie.comparator),this.qr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const s=fo();return le.forEach(n,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((a,l)=>{this.St(e,n,l)})),le.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.qr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),le.resolve()}getOverlaysForCollection(e,n,s){const a=fo(),l=n.length+1,u=new Ie(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&f.largestBatchId>s&&a.set(f.getKey(),f)}return le.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let l=new St(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>s){let g=l.get(p.largestBatchId);g===null&&(g=fo(),l=l.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const h=fo(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>h.set(p,g))),!(h.size()>=a)););return le.resolve(h)}St(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const u=this.qr.get(a.largestBatchId).delete(s.key);this.qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new t6(n,s));let l=this.qr.get(n);l===void 0&&(l=Ye(),this.qr.set(n,l)),this.qr.set(n,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.sessionToken=vn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Qr=new Jt(on.$r),this.Ur=new Jt(on.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new on(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new on(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ie(new pt([])),s=new on(n,e),a=new on(n,e+1),l=[];return this.Ur.forEachInRange([s,a],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ie(new pt([])),s=new on(n,e),a=new on(n,e+1);let l=Ye();return this.Ur.forEachInRange([s,a],(u=>{l=l.add(u.key)})),l}containsKey(e){const n=new on(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class on{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ie.comparator(e.key,n.key)||We(e.Yr,n.Yr)}static Kr(e,n){return We(e.Yr,n.Yr)||Ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Jt(on.$r)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new e6(l,n,s,a);this.mutationQueue.push(u);for(const h of a)this.Zr=this.Zr.add(new on(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return le.resolve(u)}lookupMutationBatch(e,n){return le.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.ei(s),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?S0:this.tr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new on(n,0),a=new on(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,a],(u=>{const h=this.Xr(u.Yr);l.push(h)})),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Jt(We);return n.forEach((a=>{const l=new on(a,0),u=new on(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{s=s.add(h.Yr)}))})),le.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let l=s;Ie.isDocumentKey(l)||(l=l.child(""));const u=new on(new Ie(l),0);let h=new Jt(We);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!s.isPrefixOf(p)&&(p.length===a&&(h=h.add(f.Yr)),!0)}),u),le.resolve(this.ti(h))}ti(e){const n=[];return e.forEach((s=>{const a=this.Xr(s);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return le.forEach(n.mutations,(a=>{const l=new on(a.key,n.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new on(n,0),a=this.Zr.firstAfterOrEqual(s);return le.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.ri=e,this.docs=(function(){return new St(Ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),l=a?a.size:0,u=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return le.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=vi();return n.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():xn.newInvalidDocument(a))})),le.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let l=vi();const u=n.path,h=new Ie(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||mL(fL(g),s)<=0||(a.has(g.key)||Fm(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,n,s,a){Oe(9500)}ii(e,n){return le.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new F6(this)}getSize(e){return le.resolve(this.size)}}class F6 extends M6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(s)})),le.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.persistence=e,this.si=new Io((n=>C0(n)),I0),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.oi=0,this._i=new V0,this.targetCount=0,this.ai=Hl.ur()}forEachTarget(e,n){return this.si.forEach(((s,a)=>n(a))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),le.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.Pr(n),le.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,s){let a=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=n&&s.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),le.waitFor(l).next((()=>a))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return le.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),le.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach((u=>{l.push(a.markPotentiallyOrphaned(e,u))})),le.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return le.resolve(s)}containsKey(e,n){return le.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n){this.ui={},this.overlays={},this.ci=new jm(0),this.li=!1,this.li=!0,this.hi=new L6,this.referenceDelegate=e(this),this.Pi=new z6(this),this.indexManager=new A6,this.remoteDocumentCache=(function(a){return new B6(a)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new x6(n),this.Ii=new k6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new U6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Ee("MemoryPersistence","Starting transaction:",e);const a=new q6(this.ci.next());return this.referenceDelegate.Ei(),s(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,n){return le.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class q6 extends gL{constructor(e){super(),this.currentSequenceNumber=e}}class k0{constructor(e){this.persistence=e,this.Ri=new V0,this.Vi=null}static mi(e){return new k0(e)}get fi(){if(this.Vi)return this.Vi;throw Oe(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),le.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.fi,(s=>{const a=Ie.fromPath(s);return this.gi(e,a).next((l=>{l||n.removeEntry(a,Le.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class im{constructor(e,n){this.persistence=e,this.pi=new Io((s=>_L(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=P6(this,n)}static mi(e,n){return new im(e,n)}Ei(){}di(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((a=>s+a))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return le.forEach(this.pi,((s,a)=>this.br(e,s,a).next((l=>l?le.resolve():n(a)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(u=>this.br(e,u,n).next((h=>{h||(s++,l.removeEntry(u,Le.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),le.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Cf(e.data.value)),n}br(e,n,s){return le.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return le.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=a}static As(e,n){let s=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new j0(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fV()?8:yL(Rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,a){const l={result:null};return this.ys(e,n).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,n,a,s).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new H6;return this.Ss(e,n,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,n,u,h.size)}))})).next((()=>l.result))}bs(e,n,s,a){return s.documentReadCount<this.fs?(wl()<=Ke.DEBUG&&Ee("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),le.resolve()):(wl()<=Ke.DEBUG&&Ee("QueryEngine","Query:",Tl(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.gs*a?(wl()<=Ke.DEBUG&&Ee("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(n))):le.resolve())}ys(e,n){if(Ix(n))return le.resolve(null);let s=_r(n);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=vv(n,null,"F"),s=_r(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const u=Ye(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,s).next((f=>{const p=this.Ds(n,h);return this.Cs(n,p,u,f.readTime)?this.ys(e,vv(n,null,"F")):this.vs(e,p,n,f)}))))})))))}ws(e,n,s,a){return Ix(n)||a.isEqual(Le.min())?le.resolve(null):this.ps.getDocuments(e,s).next((l=>{const u=this.Ds(n,l);return this.Cs(n,u,s,a)?le.resolve(null):(wl()<=Ke.DEBUG&&Ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Tl(n)),this.vs(e,u,n,dL(a,Wc)).next((h=>h)))}))}Ds(e,n){let s=new Jt(JR(e));return n.forEach(((a,l)=>{Fm(e,l)&&(s=s.add(l))})),s}Cs(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,s){return wl()<=Ke.DEBUG&&Ee("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ps.getDocumentsMatchingQuery(e,n,ga.min(),s)}vs(e,n,s,a){return this.ps.getDocumentsMatchingQuery(e,s,a).next((l=>(n.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="LocalStore",$6=3e8;class K6{constructor(e,n,s,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new St(We),this.xs=new Io((l=>C0(l)),I0),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function W6(t,e,n,s){return new K6(t,e,n,s)}async function TC(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((l=>{const u=[],h=[];let f=Ye();for(const p of a){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of l){h.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(s,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function Y6(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,p,g){const b=p.batch,E=b.keys();let x=le.resolve();return E.forEach((D=>{x=x.next((()=>g.getEntry(f,D))).next((M=>{const k=p.docVersions.get(D);rt(k!==null,48541),M.version.compareTo(k)<0&&(b.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),g.addEntry(M)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(n,s,e,l).next((()=>l.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let f=Ye();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(s,a)))}))}function xC(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Q6(t,e){const n=Ue(t),s=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const h=[];e.targetChanges.forEach(((g,b)=>{const E=a.get(b);if(!E)return;h.push(n.Pi.removeMatchingKeys(l,g.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(l,g.addedDocuments,b))));let x=E.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?x=x.withResumeToken(vn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,s)),a=a.insert(b,x),(function(M,k,O){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=$6?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(E,x,g)&&h.push(n.Pi.updateTargetData(l,x))}));let f=vi(),p=Ye();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))})),h.push(X6(l,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!s.isEqual(Le.min())){const g=n.Pi.getLastRemoteSnapshotVersion(l).next((b=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(g)}return le.waitFor(h).next((()=>u.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,f,p))).next((()=>f))})).then((l=>(n.Ms=a,l)))}function X6(t,e,n){let s=Ye(),a=Ye();return n.forEach((l=>s=s.add(l))),e.getEntries(t,s).next((l=>{let u=vi();return n.forEach(((h,f)=>{const p=l.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Le.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):Ee(L0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:a}}))}function Z6(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=S0),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function J6(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return n.Pi.getTargetData(s,e).next((l=>l?(a=l,le.resolve(a)):n.Pi.allocateTargetId(s).next((u=>(a=new ua(e,u,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=n.Ms.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Tv(t,e,n){const s=Ue(t),a=s.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",l,(u=>s.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!nu(u))throw u;Ee(L0,`Failed to update sequence numbers for target ${e}: ${u}`)}s.Ms=s.Ms.remove(e),s.xs.delete(a.target)}function zx(t,e,n){const s=Ue(t);let a=Le.min(),l=Ye();return s.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const b=Ue(f),E=b.xs.get(g);return E!==void 0?le.resolve(b.Ms.get(E)):b.Pi.getTargetData(p,g)})(s,u,_r(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(u,h.targetId).next((f=>{l=f}))})).next((()=>s.Fs.getDocumentsMatchingQuery(u,e,n?a:Le.min(),n?l:Ye()))).next((h=>(e3(s,LL(e),h),{documents:h,Qs:l})))))}function e3(t,e,n){let s=t.Os.get(e)||Le.min();n.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),t.Os.set(e,s)}class qx{constructor(){this.activeTargetIds=HL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class t3{constructor(){this.Mo=new qx,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new qx,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="ConnectivityMonitor";class Gx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ee(Hx,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ee(Hx,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function xv(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy="RestConnection",s3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r3{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${a}`,this.Wo=this.databaseId.database===Jf?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Go(e,n,s,a,l){const u=xv(),h=this.zo(e,n.toUriEncodedString());Ee(xy,`Sending RPC '${e}' ${u}:`,h,s);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,l);const{host:p}=new URL(h),g=Aa(p);return this.Jo(e,h,f,s,g).then((b=>(Ee(xy,`Received RPC '${e}' ${u}: `,b),b)),(b=>{throw Bl(xy,`RPC '${e}' ${u} failed with error: `,b,"url: ",h,"request:",s),b}))}Ho(e,n,s,a,l,u){return this.Go(e,n,s,a,l)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}zo(e,n){const s=s3[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class a3 extends r3{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,a,l){const u=xv();return new Promise(((h,f)=>{const p=new AR;p.setWithCredentials(!0),p.listenOnce(RR.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Rf.NO_ERROR:const b=p.getResponseJson();Ee(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),h(b);break;case Rf.TIMEOUT:Ee(En,`RPC '${e}' ${u} timed out`),f(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const E=p.getStatus();if(Ee(En,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const D=x?.error;if(D&&D.status&&D.message){const M=(function(O){const P=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(P)>=0?P:ae.UNKNOWN})(D.status);f(new be(M,D.message))}else f(new be(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new be(ae.UNAVAILABLE,"Connection failed."));break;default:Oe(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ee(En,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(a);Ee(En,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",g,s,15)}))}T_(e,n,s){const a=xv(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=NR(),h=IR(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,n,s),f.encodeInitMessageHeaders=!0;const g=l.join("");Ee(En,`Creating RPC '${e}' stream ${a}: ${g}`,f);const b=u.createWebChannel(g,f);this.I_(b);let E=!1,x=!1;const D=new i3({Yo:k=>{x?Ee(En,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(E||(Ee(En,`Opening RPC '${e}' stream ${a} transport.`),b.open(),E=!0),Ee(En,`RPC '${e}' stream ${a} sending:`,k),b.send(k))},Zo:()=>b.close()}),M=(k,O,P)=>{k.listen(O,(q=>{try{P(q)}catch(se){setTimeout((()=>{throw se}),0)}}))};return M(b,wc.EventType.OPEN,(()=>{x||(Ee(En,`RPC '${e}' stream ${a} transport opened.`),D.o_())})),M(b,wc.EventType.CLOSE,(()=>{x||(x=!0,Ee(En,`RPC '${e}' stream ${a} transport closed`),D.a_(),this.E_(b))})),M(b,wc.EventType.ERROR,(k=>{x||(x=!0,Bl(En,`RPC '${e}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),D.a_(new be(ae.UNAVAILABLE,"The operation could not be completed")))})),M(b,wc.EventType.MESSAGE,(k=>{if(!x){const O=k.data[0];rt(!!O,16349);const P=O,q=P?.error||P[0]?.error;if(q){Ee(En,`RPC '${e}' stream ${a} received error:`,q);const se=q.status;let Q=(function(A){const N=qt[A];if(N!==void 0)return hC(N)})(se),ce=q.message;Q===void 0&&(Q=ae.INTERNAL,ce="Unknown error status: "+se+" with message "+q.message),x=!0,D.a_(new be(Q,ce)),b.close()}else Ee(En,`RPC '${e}' stream ${a} received:`,O),D.u_(O)}})),M(h,CR.STAT_EVENT,(k=>{k.stat===hv.PROXY?Ee(En,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===hv.NOPROXY&&Ee(En,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{D.__()}),0),D}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Sy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){return new c6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n,s=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-s);a>0&&Ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="PersistentStream";class AC{constructor(e,n,s,a,l,u,h,f){this.Mi=e,this.S_=s,this.b_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===n&&this.G_(s,a)}),(s=>{e((()=>{const a=new be(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ee($x,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ee($x,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class o3 extends AC{constructor(e,n,s,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=f6(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Le.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Le.min():u.readTime?Er(u.readTime):Le.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=wv(this.serializer),n.addTarget=(function(l,u){let h;const f=u.target;if(h=gv(f)?{documents:g6(l,f)}:{query:y6(l,f).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=mC(l,u.resumeToken);const p=_v(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Le.min())>0){h.readTime=rm(l,u.snapshotVersion.toTimestamp());const p=_v(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const s=_6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=wv(this.serializer),n.removeTarget=e,this.q_(n)}}class l3 extends AC{constructor(e,n,s,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=p6(e.writeResults,e.commitTime),s=Er(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=wv(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>m6(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{}class c3 extends u3{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,bv(n,s),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ae.UNKNOWN,l.toString())}))}Ho(e,n,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,bv(n,s),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class h3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):Ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class d3{constructor(e,n,s,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{s.enqueueAndForget((async()=>{No(this)&&(Ee(So,"Restarting streams for network reachability change."),await(async function(f){const p=Ue(f);p.Ea.add(4),await _h(p),p.Ra.set("Unknown"),p.Ea.delete(4),await $m(p)})(this))}))})),this.Ra=new h3(s,a)}}async function $m(t){if(No(t))for(const e of t.da)await e(!0)}async function _h(t){for(const e of t.da)await e(!1)}function RC(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),z0(n)?F0(n):su(n).O_()&&B0(n,e))}function U0(t,e){const n=Ue(t),s=su(n);n.Ia.delete(e),s.O_()&&CC(n,e),n.Ia.size===0&&(s.O_()?s.L_():No(n)&&n.Ra.set("Unknown"))}function B0(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}su(t).Y_(e)}function CC(t,e){t.Va.Ue(e),su(t).Z_(e)}function F0(t){t.Va=new a6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),su(t).start(),t.Ra.ua()}function z0(t){return No(t)&&!su(t).x_()&&t.Ia.size>0}function No(t){return Ue(t).Ea.size===0}function IC(t){t.Va=void 0}async function f3(t){t.Ra.set("Online")}async function m3(t){t.Ia.forEach(((e,n)=>{B0(t,e)}))}async function p3(t,e){IC(t),z0(t)?(t.Ra.ha(e),F0(t)):t.Ra.set("Unknown")}async function g3(t,e,n){if(t.Ra.set("Online"),e instanceof fC&&e.state===2&&e.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.Va.removeTarget(h))})(t,e)}catch(s){Ee(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await am(t,s)}else if(e instanceof Df?t.Va.Ze(e):e instanceof dC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Le.min()))try{const s=await xC(t.localStore);n.compareTo(s)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=l.Ia.get(p);g&&l.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),h.targetMismatches.forEach(((f,p)=>{const g=l.Ia.get(f);if(!g)return;l.Ia.set(f,g.withResumeToken(vn.EMPTY_BYTE_STRING,g.snapshotVersion)),CC(l,f);const b=new ua(g.target,f,p,g.sequenceNumber);B0(l,b)})),l.remoteSyncer.applyRemoteEvent(h)})(t,n)}catch(s){Ee(So,"Failed to raise snapshot:",s),await am(t,s)}}async function am(t,e,n){if(!nu(e))throw e;t.Ea.add(1),await _h(t),t.Ra.set("Offline"),n||(n=()=>xC(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ee(So,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $m(t)}))}function NC(t,e){return e().catch((n=>am(t,n,e)))}async function Km(t){const e=Ue(t),n=ba(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:S0;for(;y3(e);)try{const a=await Z6(e.localStore,s);if(a===null){e.Ta.length===0&&n.L_();break}s=a.batchId,v3(e,a)}catch(a){await am(e,a)}DC(e)&&PC(e)}function y3(t){return No(t)&&t.Ta.length<10}function v3(t,e){t.Ta.push(e);const n=ba(t);n.O_()&&n.X_&&n.ea(e.mutations)}function DC(t){return No(t)&&!ba(t).x_()&&t.Ta.length>0}function PC(t){ba(t).start()}async function _3(t){ba(t).ra()}async function b3(t){const e=ba(t);for(const n of t.Ta)e.ea(n.mutations)}async function E3(t,e,n){const s=t.Ta.shift(),a=P0.from(s,e,n);await NC(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await Km(t)}async function w3(t,e){e&&ba(t).X_&&await(async function(s,a){if((function(u){return s6(u)&&u!==ae.ABORTED})(a.code)){const l=s.Ta.shift();ba(s).B_(),await NC(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Km(s)}})(t,e),DC(t)&&PC(t)}async function Kx(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),Ee(So,"RemoteStore received new credentials");const s=No(n);n.Ea.add(3),await _h(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $m(n)}async function T3(t,e){const n=Ue(t);e?(n.Ea.delete(2),await $m(n)):e||(n.Ea.add(2),await _h(n),n.Ra.set("Unknown"))}function su(t){return t.ma||(t.ma=(function(n,s,a){const l=Ue(n);return l.sa(),new o3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:f3.bind(null,t),t_:m3.bind(null,t),r_:p3.bind(null,t),H_:g3.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),z0(t)?F0(t):t.Ra.set("Unknown")):(await t.ma.stop(),IC(t))}))),t.ma}function ba(t){return t.fa||(t.fa=(function(n,s,a){const l=Ue(n);return l.sa(),new l3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:_3.bind(null,t),r_:w3.bind(null,t),ta:b3.bind(null,t),na:E3.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Km(t)):(await t.fa.stop(),t.Ta.length>0&&(Ee(So,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n,s,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,l){const u=Date.now()+s,h=new q0(e,n,u,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function H0(t,e){if(gi("AsyncQueue",`${e}: ${t}`),nu(t))return new be(ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{static emptySet(e){return new kl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ie.comparator(n.key,s.key):(n,s)=>Ie.comparator(n.key,s.key),this.keyedMap=Tc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof kl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new kl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.ga=new St(Ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Oe(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Gl{constructor(e,n,s,a,l,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,s,a,l){const u=[];return n.forEach((h=>{u.push({type:0,doc:h})})),new Gl(e,n,kl.emptySet(n),u,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class S3{constructor(){this.queries=Yx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const a=Ue(n),l=a.queries;a.queries=Yx(),l.forEach(((u,h)=>{for(const f of h.Sa)f.onError(s)}))})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function Yx(){return new Io((t=>ZR(t)),Bm)}async function MC(t,e){const n=Ue(t);let s=3;const a=e.query;let l=n.queries.get(a);l?!l.ba()&&e.Da()&&(s=2):(l=new x3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await n.onListen(a,!0);break;case 1:l.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=H0(u,`Initialization of query '${Tl(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&G0(n)}async function OC(t,e){const n=Ue(t),s=e.query;let a=3;const l=n.queries.get(s);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function A3(t,e){const n=Ue(t);let s=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Fa(a)&&(s=!0);u.wa=a}}s&&G0(n)}function R3(t,e,n){const s=Ue(t),a=s.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);s.queries.delete(e)}function G0(t){t.Ca.forEach((e=>{e.next()}))}var Sv,Qx;(Qx=Sv||(Sv={})).Ma="default",Qx.Cache="cache";class VC{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e){this.key=e}}class jC{constructor(e){this.key=e}}class C3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=JR(e),this.tu=new kl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Wx,a=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((g,b)=>{const E=a.get(g),x=Fm(this.query,b)?b:null,D=!!E&&this.mutatedKeys.has(E.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;E&&x?E.data.isEqual(x.data)?D!==M&&(s.track({type:3,doc:x}),k=!0):this.su(E,x)||(s.track({type:2,doc:x}),k=!0,(f&&this.eu(x,f)>0||p&&this.eu(x,p)<0)&&(h=!0)):!E&&x?(s.track({type:0,doc:x}),k=!0):E&&!x&&(s.track({type:1,doc:E}),k=!0,(f||p)&&(h=!0)),k&&(x?(u=u.add(x),l=M?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),s.track({type:1,doc:g})}return{tu:u,iu:s,Cs:h,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,b)=>(function(x,D){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Oe(20277,{Rt:k})}};return M(x)-M(D)})(g.type,b.type)||this.eu(g.doc,b.doc))),this.ou(s),a=a??!1;const h=n&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new Gl(this.query,e.tu,l,u,e.mutatedKeys,f===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new jC(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new kC(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $0="SyncEngine";class I3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class N3{constructor(e){this.key=e,this.hu=!1}}class D3{constructor(e,n,s,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Io((h=>ZR(h)),Bm),this.Iu=new Map,this.Eu=new Set,this.du=new St(Ie.comparator),this.Au=new Map,this.Ru=new V0,this.Vu={},this.mu=new Map,this.fu=Hl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P3(t,e,n=!0){const s=qC(t);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await LC(s,e,n,!0),a}async function M3(t,e){const n=qC(t);await LC(n,e,!0,!1)}async function LC(t,e,n,s){const a=await J6(t.localStore,_r(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return s&&(h=await O3(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&RC(t.remoteStore,a),h}async function O3(t,e,n,s,a){t.pu=(b,E,x)=>(async function(M,k,O,P){let q=k.view.ru(O);q.Cs&&(q=await zx(M.localStore,k.query,!1).then((({documents:j})=>k.view.ru(j,q))));const se=P&&P.targetChanges.get(k.targetId),Q=P&&P.targetMismatches.get(k.targetId)!=null,ce=k.view.applyChanges(q,M.isPrimaryClient,se,Q);return Zx(M,k.targetId,ce.au),ce.snapshot})(t,b,E,x);const l=await zx(t.localStore,e,!0),u=new C3(e,l.Qs),h=u.ru(l.documents),f=vh.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",a),p=u.applyChanges(h,t.isPrimaryClient,f);Zx(t,n,p.au);const g=new I3(e,n,u);return t.Tu.set(e,g),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function V3(t,e,n){const s=Ue(t),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((u=>!Bm(u,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Tv(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),n&&U0(s.remoteStore,a.targetId),Av(s,a.targetId)})).catch(tu)):(Av(s,a.targetId),await Tv(s.localStore,a.targetId,!0))}async function k3(t,e){const n=Ue(t),s=n.Tu.get(e),a=n.Iu.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),U0(n.remoteStore,s.targetId))}async function j3(t,e,n){const s=H3(t);try{const a=await(function(u,h){const f=Ue(u),p=gt.now(),g=h.reduce(((x,D)=>x.add(D.key)),Ye());let b,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let D=vi(),M=Ye();return f.Ns.getEntries(x,g).next((k=>{D=k,D.forEach(((O,P)=>{P.isValidDocument()||(M=M.add(O))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,D))).next((k=>{b=k;const O=[];for(const P of h){const q=ZL(P,b.get(P.key).overlayedDocument);q!=null&&O.push(new Na(P.key,q,HR(q.value.mapValue),br.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,O,h)})).next((k=>{E=k;const O=k.applyToLocalDocumentSet(b,M);return f.documentOverlayCache.saveOverlays(x,k.batchId,O)}))})).then((()=>({batchId:E.batchId,changes:tC(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(u,h,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new St(We)),p=p.insert(h,f),u.Vu[u.currentUser.toKey()]=p})(s,a.batchId,n),await bh(s,a.changes),await Km(s.remoteStore)}catch(a){const l=H0(a,"Failed to persist write");n.reject(l)}}async function UC(t,e){const n=Ue(t);try{const s=await Q6(n.localStore,e);e.targetChanges.forEach(((a,l)=>{const u=n.Au.get(l);u&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?rt(u.hu,14607):a.removedDocuments.size>0&&(rt(u.hu,42227),u.hu=!1))})),await bh(n,s,e)}catch(s){await tu(s)}}function Xx(t,e,n){const s=Ue(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const f=Ue(u);f.onlineState=h;let p=!1;f.queries.forEach(((g,b)=>{for(const E of b.Sa)E.va(h)&&(p=!0)})),p&&G0(f)})(s.eventManager,e),a.length&&s.Pu.H_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function L3(t,e,n){const s=Ue(t);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Au.get(e),l=a&&a.key;if(l){let u=new St(Ie.comparator);u=u.insert(l,xn.newNoDocument(l,Le.min()));const h=Ye().add(l),f=new Hm(Le.min(),new Map,new St(We),u,h);await UC(s,f),s.du=s.du.remove(l),s.Au.delete(e),K0(s)}else await Tv(s.localStore,e,!1).then((()=>Av(s,e,n))).catch(tu)}async function U3(t,e){const n=Ue(t),s=e.batch.batchId;try{const a=await Y6(n.localStore,e);FC(n,s,null),BC(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bh(n,a)}catch(a){await tu(a)}}async function B3(t,e,n){const s=Ue(t);try{const a=await(function(u,h){const f=Ue(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,h).next((b=>(rt(b!==null,37113),g=b.keys(),f.mutationQueue.removeMutationBatch(p,b)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(s.localStore,e);FC(s,e,n),BC(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bh(s,a)}catch(a){await tu(a)}}function BC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function FC(t,e,n){const s=Ue(t);let a=s.Vu[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),s.Vu[s.currentUser.toKey()]=a}}function Av(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((s=>{t.Ru.containsKey(s)||zC(t,s)}))}function zC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(U0(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),K0(t))}function Zx(t,e,n){for(const s of n)s instanceof kC?(t.Ru.addReference(s.key,e),F3(t,s)):s instanceof jC?(Ee($0,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||zC(t,s.key)):Oe(19791,{wu:s})}function F3(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Ee($0,"New document in limbo: "+n),t.Eu.add(s),K0(t))}function K0(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ie(pt.fromString(e)),s=t.fu.next();t.Au.set(s,new N3(n)),t.du=t.du.insert(n,s),RC(t.remoteStore,new ua(_r(N0(n.path)),s,"TargetPurposeLimboResolution",jm.ce))}}async function bh(t,e,n){const s=Ue(t),a=[],l=[],u=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,f)=>{u.push(s.pu(f,e,n).then((p=>{if((p||n)&&s.isPrimaryClient){const g=p?!p.fromCache:n?.targetChanges.get(f.targetId)?.current;s.sharedClientState.updateQueryState(f.targetId,g?"current":"not-current")}if(p){a.push(p);const g=j0.As(f.targetId,p);l.push(g)}})))})),await Promise.all(u),s.Pu.H_(a),await(async function(f,p){const g=Ue(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>le.forEach(p,(E=>le.forEach(E.Es,(x=>g.persistence.referenceDelegate.addReference(b,E.targetId,x))).next((()=>le.forEach(E.ds,(x=>g.persistence.referenceDelegate.removeReference(b,E.targetId,x)))))))))}catch(b){if(!nu(b))throw b;Ee(L0,"Failed to update sequence numbers: "+b)}for(const b of p){const E=b.targetId;if(!b.fromCache){const x=g.Ms.get(E),D=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(D);g.Ms=g.Ms.insert(E,M)}}})(s.localStore,l))}async function z3(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){Ee($0,"User change. New user:",e.toKey());const s=await TC(n.localStore,e);n.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((f=>{f.reject(new be(ae.CANCELLED,u))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bh(n,s.Ls)}}function q3(t,e){const n=Ue(t),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let a=Ye();const l=n.Iu.get(e);if(!l)return a;for(const u of l){const h=n.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function qC(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=L3.bind(null,e),e.Pu.H_=A3.bind(null,e.eventManager),e.Pu.yu=R3.bind(null,e.eventManager),e}function H3(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B3.bind(null,e),e}class om{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return W6(this.persistence,new G6,e.initialUser,this.serializer)}Cu(e){return new wC(k0.mi,this.serializer)}Du(e){return new t3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}om.provider={build:()=>new om};class G3 extends om{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){rt(this.persistence.referenceDelegate instanceof im,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new N6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new wC((s=>im.mi(s,n)),this.serializer)}}class Rv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Xx(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=z3.bind(null,this.syncEngine),await T3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new S3})()}createDatastore(e){const n=Gm(e.databaseInfo.databaseId),s=(function(l){return new a3(l)})(e.databaseInfo);return(function(l,u,h,f){return new c3(l,u,h,f)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,a,l,u,h){return new d3(s,a,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(n=>Xx(this.syncEngine,n,0)),(function(){return Gx.v()?new Gx:new n3})())}createSyncEngine(e,n){return(function(a,l,u,h,f,p,g){const b=new D3(a,l,u,h,f,p);return g&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ue(n);Ee(So,"RemoteStore shutting down."),s.Ea.add(5),await _h(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rv.provider={build:()=>new Rv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="FirestoreClient";class $3{constructor(e,n,s,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=wn.UNAUTHENTICATED,this.clientId=x0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async u=>{Ee(Ea,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,(u=>(Ee(Ea,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=H0(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Ay(t,e){t.asyncQueue.verifyOperationInProgress(),Ee(Ea,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener((async a=>{s.isEqual(a)||(await TC(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Jx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await K3(t);Ee(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((s=>Kx(e.remoteStore,s))),t.setAppCheckTokenChangeListener(((s,a)=>Kx(e.remoteStore,a))),t._onlineComponents=e}async function K3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ee(Ea,"Using user provided OfflineComponentProvider");try{await Ay(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await Ay(t,new om)}}else Ee(Ea,"Using default OfflineComponentProvider"),await Ay(t,new G3(void 0));return t._offlineComponents}async function GC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ee(Ea,"Using user provided OnlineComponentProvider"),await Jx(t,t._uninitializedComponentsProvider._online)):(Ee(Ea,"Using default OnlineComponentProvider"),await Jx(t,new Rv))),t._onlineComponents}function W3(t){return GC(t).then((e=>e.syncEngine))}async function $C(t){const e=await GC(t),n=e.eventManager;return n.onListen=P3.bind(null,e.syncEngine),n.onUnlisten=V3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k3.bind(null,e.syncEngine),n}function Y3(t,e,n={}){const s=new hi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,p){const g=new HC({next:E=>{g.Nu(),u.enqueueAndForget((()=>OC(l,b)));const x=E.docs.has(h);!x&&E.fromCache?p.reject(new be(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&f&&f.source==="server"?p.reject(new be(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new VC(N0(h.path),g,{includeMetadataChanges:!0,qa:!0});return MC(l,b)})(await $C(t),t.asyncQueue,e,n,s))),s.promise}function Q3(t,e,n={}){const s=new hi;return t.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,f,p){const g=new HC({next:E=>{g.Nu(),u.enqueueAndForget((()=>OC(l,b))),E.fromCache&&f.source==="server"?p.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),b=new VC(h,g,{includeMetadataChanges:!0,qa:!0});return MC(l,b)})(await $C(t),t.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="firestore.googleapis.com",tS=!0;class nS{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WC,this.ssl=tS}else this.host=e.host,this.ssl=e.ssl??tS;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<C6)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KC(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wm{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nS(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new tL;switch(s.type){case"firstParty":return new iL(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=eS.get(n);s&&(Ee("ComponentProvider","Removing Datastore"),eS.delete(n),s.terminate())})(this),Promise.resolve()}}function X3(t,e,n,s={}){t=yi(t,Wm);const a=Aa(e),l=t._getSettings(),u={...l,emulatorOptions:t._getEmulatorOptions()},h=`${e}:${n}`;a&&(d0(`https://${h}`),f0("Firestore",!0)),l.host!==WC&&l.host!==h&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...l,host:h,ssl:a,emulatorOptions:s};if(!pa(f,u)&&(t._setSettings(f),s.mockUserToken)){let p,g;if(typeof s.mockUserToken=="string")p=s.mockUserToken,g=wn.MOCK_USER;else{p=iV(s.mockUserToken,t._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new wn(b)}t._authCredentials=new nL(new PR(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ru(this.firestore,e,this._query)}}class kt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kt(this.firestore,e,this._key)}toJSON(){return{type:kt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ph(n,kt._jsonSchema))return new kt(e,s||null,new Ie(pt.fromString(n.referencePath)))}}kt._jsonSchemaVersion="firestore/documentReference/1.0",kt._jsonSchema={type:Kt("string",kt._jsonSchemaVersion),referencePath:Kt("string")};class fa extends ru{constructor(e,n,s){super(e,n,N0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kt(this.firestore,null,new Ie(e))}withConverter(e){return new fa(this.firestore,e,this._path)}}function of(t,e,...n){if(t=wt(t),MR("collection","path",e),t instanceof Wm){const s=pt.fromString(e,...n);return px(s),new fa(t,null,s)}{if(!(t instanceof kt||t instanceof fa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return px(s),new fa(t.firestore,null,s)}}function ta(t,e,...n){if(t=wt(t),arguments.length===1&&(e=x0.newId()),MR("doc","path",e),t instanceof Wm){const s=pt.fromString(e,...n);return mx(s),new kt(t,null,new Ie(s))}{if(!(t instanceof kt||t instanceof fa))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(pt.fromString(e,...n));return mx(s),new kt(t.firestore,t instanceof fa?t.converter:null,new Ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="AsyncQueue";class rS{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SC(this,"async_queue_retry"),this._c=()=>{const s=Sy();s&&Ee(sS,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Sy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!nu(e))throw e;Ee(sS,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",iS(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=q0.createAndSchedule(this,e,n,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Oe(47125,{Pc:iS(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Eh extends Wm{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new rS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new rS(e),this._firestoreClient=void 0,await e}}}function Z3(t,e){const n=typeof t=="object"?t:Pm(),s=typeof t=="string"?t:Jf,a=Ra(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=MA("firestore");l&&X3(a,...l)}return a}function W0(t){if(t._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J3(t),t._firestoreClient}function J3(t){const e=t._freezeSettings(),n=(function(a,l,u,h){return new wL(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,KC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new $3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xs(vn.fromBase64String(e))}catch(n){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xs(vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ph(e,xs._jsonSchema))return xs.fromBase64String(e.bytes)}}xs._jsonSchemaVersion="firestore/bytes/1.0",xs._jsonSchema={type:Kt("string",xs._jsonSchemaVersion),bytes:Kt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return We(this._lat,e._lat)||We(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wr._jsonSchemaVersion}}static fromJSON(e){if(ph(e,wr._jsonSchema))return new wr(e.latitude,e.longitude)}}wr._jsonSchemaVersion="firestore/geoPoint/1.0",wr._jsonSchema={type:Kt("string",wr._jsonSchemaVersion),latitude:Kt("number"),longitude:Kt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ph(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Tr(e.vectorValues);throw new be(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:Kt("string",Tr._jsonSchemaVersion),vectorValues:Kt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU=/^__.*__$/;class tU{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Na(e,this.data,this.fieldMask,n,this.fieldTransforms):new yh(e,this.data,n,this.fieldTransforms)}}class YC{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Na(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Oe(40011,{Ac:t})}}class Y0{constructor(e,n,s,a,l,u){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Y0({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return lm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(QC(this.Ac)&&eU.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class nU{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gm(e)}Cc(e,n,s,a=!1){return new Y0({Ac:e,methodName:n,Dc:s,path:gn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Q0(t){const e=t._freezeSettings(),n=Gm(t._databaseId);return new nU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sU(t,e,n,s,a,l={}){const u=t.Cc(l.merge||l.mergeFields?2:0,e,n,a);Z0("Data must be an object, but it was:",u,s);const h=XC(s,u);let f,p;if(l.merge)f=new ss(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const b of l.mergeFields){const E=Cv(e,b,n);if(!u.contains(E))throw new be(ae.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);JC(g,E)||g.push(E)}f=new ss(g),p=u.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,p=u.fieldTransforms;return new tU(new zn(h),f,p)}class Xm extends Qm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xm}}class X0 extends Qm{_toFieldTransform(e){return new WL(e.path,new Zc)}isEqual(e){return e instanceof X0}}function rU(t,e,n,s){const a=t.Cc(1,e,n);Z0("Data must be an object, but it was:",a,s);const l=[],u=zn.empty();Ia(s,((f,p)=>{const g=J0(e,f,n);p=wt(p);const b=a.yc(g);if(p instanceof Xm)l.push(g);else{const E=wh(p,b);E!=null&&(l.push(g),u.set(g,E))}}));const h=new ss(l);return new YC(u,h,a.fieldTransforms)}function iU(t,e,n,s,a,l){const u=t.Cc(1,e,n),h=[Cv(e,s,n)],f=[a];if(l.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Cv(e,l[E])),f.push(l[E+1]);const p=[],g=zn.empty();for(let E=h.length-1;E>=0;--E)if(!JC(p,h[E])){const x=h[E];let D=f[E];D=wt(D);const M=u.yc(x);if(D instanceof Xm)p.push(x);else{const k=wh(D,M);k!=null&&(p.push(x),g.set(x,k))}}const b=new ss(p);return new YC(g,b,u.fieldTransforms)}function aU(t,e,n,s=!1){return wh(n,t.Cc(s?4:3,e))}function wh(t,e){if(ZC(t=wt(t)))return Z0("Unsupported field value:",e,t),XC(t,e);if(t instanceof Qm)return(function(s,a){if(!QC(a.Ac))throw a.Sc(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,a){const l=[];let u=0;for(const h of s){let f=wh(h,a.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}})(t,e)}return(function(s,a){if((s=wt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GL(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=gt.fromDate(s);return{timestampValue:rm(a.serializer,l)}}if(s instanceof gt){const l=new gt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:rm(a.serializer,l)}}if(s instanceof wr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xs)return{bytesValue:mC(a.serializer,s._byteString)};if(s instanceof kt){const l=a.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw a.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:O0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Tr)return(function(u,h){return{mapValue:{fields:{[zR]:{stringValue:qR},[em]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw h.Sc("VectorValues must only contain numeric values.");return D0(h.serializer,p)}))}}}}}})(s,a);throw a.Sc(`Unsupported field value: ${km(s)}`)})(t,e)}function XC(t,e){const n={};return kR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,((s,a)=>{const l=wh(a,e.mc(s));l!=null&&(n[s]=l)})),{mapValue:{fields:n}}}function ZC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof wr||t instanceof xs||t instanceof kt||t instanceof Qm||t instanceof Tr)}function Z0(t,e,n){if(!ZC(n)||!OR(n)){const s=km(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function Cv(t,e,n){if((e=wt(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return J0(t,e);throw lm("Field path arguments must be of type string or ",t,!1,void 0,n)}const oU=new RegExp("[~\\*/\\[\\]]");function J0(t,e,n){if(e.search(oU)>=0)throw lm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ym(...e.split("."))._internalPath}catch{throw lm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lm(t,e,n,s,a){const l=s&&!s.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${s}`),u&&(f+=` in document ${a}`),f+=")"),new be(ae.INVALID_ARGUMENT,h+t+f)}function JC(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,s,a,l){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(e_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lU extends eI{data(){return super.data()}}function e_(t,e){return typeof e=="string"?J0(t,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class t_{}class cU extends t_{}function lf(t,e,...n){let s=[];e instanceof t_&&s.push(e),s=s.concat(n),(function(l){const u=l.filter((f=>f instanceof n_)).length,h=l.filter((f=>f instanceof Zm)).length;if(u>1||u>0&&h>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)t=a._apply(t);return t}class Zm extends cU{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Zm(e,n,s)}_apply(e){const n=this._parse(e);return tI(e._query,n),new ru(e.firestore,e.converter,yv(e._query,n))}_parse(e){const n=Q0(e.firestore);return(function(l,u,h,f,p,g,b){let E;if(p.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){oS(b,g);const D=[];for(const M of b)D.push(aS(f,l,M));E={arrayValue:{values:D}}}else E=aS(f,l,b)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||oS(b,g),E=aU(h,u,b,g==="in"||g==="not-in");return $t.create(p,g,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function uf(t,e,n){const s=e,a=e_("where",t);return Zm._create(a,s,n)}class n_ extends t_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n_(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Gs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const f of h)tI(u,f),u=yv(u,f)})(e._query,n),new ru(e.firestore,e.converter,yv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function aS(t,e,n){if(typeof(n=wt(n))=="string"){if(n==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XR(e)&&n.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(pt.fromString(n));if(!Ie.isDocumentKey(s))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Tx(t,new Ie(s))}if(n instanceof kt)return Tx(t,n._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${km(n)}.`)}function oS(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tI(t,e){const n=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hU{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(va(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Oe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ia(e,((a,l)=>{s[a]=this.convertValue(l,n)})),s}convertVectorValue(e){const n=e.fields?.[em].arrayValue?.values?.map((s=>Vt(s.doubleValue)));return new Tr(n)}convertGeoPoint(e){return new wr(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Um(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yc(e));default:return null}}convertTimestamp(e){const n=ya(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=pt.fromString(e);rt(bC(s),9688,{name:e});const a=new Qc(s.get(1),s.get(3)),l=new Ie(s.popFirst(5));return a.isEqual(n)||gi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vo extends eI{constructor(e,n,s,a,l,u){super(e,n,s,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(e_("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}vo._jsonSchemaVersion="firestore/documentSnapshot/1.0",vo._jsonSchema={type:Kt("string",vo._jsonSchemaVersion),bundleSource:Kt("string","DocumentSnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class Pf extends vo{data(e={}){return super.data(e)}}class jl{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Sc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Pf(this._firestore,this._userDataWriter,s.key,s,new Sc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const f=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const f=new Pf(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Sc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,g=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:fU(h.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=jl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=x0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Oe(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){t=yi(t,kt);const e=yi(t.firestore,Eh);return Y3(W0(e),t._key).then((n=>mU(e,t,n)))}jl._jsonSchemaVersion="firestore/querySnapshot/1.0",jl._jsonSchema={type:Kt("string",jl._jsonSchemaVersion),bundleSource:Kt("string","QuerySnapshot"),bundleName:Kt("string"),bundle:Kt("string")};class nI extends hU{constructor(e){super(),this.firestore=e}convertBytes(e){return new xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kt(this.firestore,null,n)}}function cf(t){t=yi(t,ru);const e=yi(t.firestore,Eh),n=W0(e),s=new nI(e);return uU(t._query),Q3(n,t._query).then((a=>new jl(e,s,t,a)))}function hf(t,e,n){t=yi(t,kt);const s=yi(t.firestore,Eh),a=dU(t.converter,e);return sI(s,[sU(Q0(s),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,br.none())])}function uS(t,e,n,...s){t=yi(t,kt);const a=yi(t.firestore,Eh),l=Q0(a);let u;return u=typeof(e=wt(e))=="string"||e instanceof Ym?iU(l,"updateDoc",t._key,e,n,s):rU(l,"updateDoc",t._key,e),sI(a,[u.toMutation(t._key,br.exists(!0))])}function sI(t,e){return(function(s,a){const l=new hi;return s.asyncQueue.enqueueAndForget((async()=>j3(await W3(s),a,l))),l.promise})(W0(t),e)}function mU(t,e,n){const s=n.docs.get(e._key),a=new nI(t);return new vo(t,a,e._key,s,new Sc(n.hasPendingWrites,n.fromCache),e.converter)}function cS(){return new X0("serverTimestamp")}(function(e,n=!0){(function(a){eu=a})(Zl),qs(new As("firestore",((s,{instanceIdentifier:a,options:l})=>{const u=s.getProvider("app").getImmediate(),h=new Eh(new sL(s.getProvider("auth-internal")),new aL(u,s.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qc(p.options.projectId,g)})(u,a),u);return l={useFetchStreams:n,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Gn(cx,hx,e),Gn(cx,hx,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU="type.googleapis.com/google.protobuf.Int64Value",gU="type.googleapis.com/google.protobuf.UInt64Value";function rI(t,e){const n={};for(const s in t)t.hasOwnProperty(s)&&(n[s]=e(t[s]));return n}function um(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>um(e));if(typeof t=="function"||typeof t=="object")return rI(t,e=>um(e));throw new Error("Data cannot be encoded in JSON: "+t)}function $l(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case pU:case gU:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>$l(e)):typeof t=="function"||typeof t=="object"?rI(t,e=>$l(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qn extends Rs{constructor(e,n,s){super(`${s_}/${e}`,n||""),this.details=s,Object.setPrototypeOf(this,qn.prototype)}}function yU(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function cm(t,e){let n=yU(t),s=n,a;try{const l=e&&e.error;if(l){const u=l.status;if(typeof u=="string"){if(!hS[u])return new qn("internal","internal");n=hS[u],s=u}const h=l.message;typeof h=="string"&&(s=h),a=l.details,a!==void 0&&(a=$l(a))}}catch{}return n==="ok"?null:new qn(n,s,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n,s,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,ns(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=s.getImmediate({optional:!0}),this.auth||n.get().then(l=>this.auth=l,()=>{}),this.messaging||s.get().then(l=>this.messaging=l,()=>{}),this.appCheck||a?.get().then(l=>this.appCheck=l,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="us-central1",_U=/^data: (.*?)(?:\n|$)/;function bU(t){let e=null;return{promise:new Promise((n,s)=>{e=setTimeout(()=>{s(new qn("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class EU{constructor(e,n,s,a,l=Iv,u=(...h)=>fetch(...h)){this.app=e,this.fetchImpl=u,this.emulatorOrigin=null,this.contextProvider=new vU(e,n,s,a),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(l);this.customDomain=h.origin+(h.pathname==="/"?"":h.pathname),this.region=Iv}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function wU(t,e,n){const s=Aa(e);t.emulatorOrigin=`http${s?"s":""}://${e}:${n}`,s&&(d0(t.emulatorOrigin+"/backends"),f0("Functions",!0))}function TU(t,e,n){const s=a=>SU(t,e,a,{});return s.stream=(a,l)=>RU(t,e,a,l),s}function iI(t){return t.emulatorOrigin&&Aa(t.emulatorOrigin)?"include":void 0}async function xU(t,e,n,s,a){n["Content-Type"]="application/json";let l;try{l=await s(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:iI(a)})}catch{return{status:0,json:null}}let u=null;try{u=await l.json()}catch{}return{status:l.status,json:u}}async function aI(t,e){const n={},s=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return s.authToken&&(n.Authorization="Bearer "+s.authToken),s.messagingToken&&(n["Firebase-Instance-ID-Token"]=s.messagingToken),s.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=s.appCheckToken),n}function SU(t,e,n,s){const a=t._url(e);return AU(t,a,n,s)}async function AU(t,e,n,s){n=um(n);const a={data:n},l=await aI(t,s),u=s.timeout||7e4,h=bU(u),f=await Promise.race([xU(e,a,l,t.fetchImpl,t),h.promise,t.cancelAllRequests]);if(h.cancel(),!f)throw new qn("cancelled","Firebase Functions instance was deleted.");const p=cm(f.status,f.json);if(p)throw p;if(!f.json)throw new qn("internal","Response is not valid JSON object.");let g=f.json.data;if(typeof g>"u"&&(g=f.json.result),typeof g>"u")throw new qn("internal","Response is missing data field.");return{data:$l(g)}}function RU(t,e,n,s){const a=t._url(e);return CU(t,a,n,s||{})}async function CU(t,e,n,s){n=um(n);const a={data:n},l=await aI(t,s);l["Content-Type"]="application/json",l.Accept="text/event-stream";let u;try{u=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:l,signal:s?.signal,credentials:iI(t)})}catch(E){if(E instanceof Error&&E.name==="AbortError"){const D=new qn("cancelled","Request was cancelled.");return{data:Promise.reject(D),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(D)}}}}}}const x=cm(0,null);return{data:Promise.reject(x),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(x)}}}}}}let h,f;const p=new Promise((E,x)=>{h=E,f=x});s?.signal?.addEventListener("abort",()=>{const E=new qn("cancelled","Request was cancelled.");f(E)});const g=u.body.getReader(),b=IU(g,h,f,s?.signal);return{stream:{[Symbol.asyncIterator](){const E=b.getReader();return{async next(){const{value:x,done:D}=await E.read();return{value:x,done:D}},async return(){return await E.cancel(),{done:!0,value:void 0}}}}},data:p}}function IU(t,e,n,s){const a=(u,h)=>{const f=u.match(_U);if(!f)return;const p=f[1];try{const g=JSON.parse(p);if("result"in g){e($l(g.result));return}if("message"in g){h.enqueue($l(g.message));return}if("error"in g){const b=cm(0,g);h.error(b),n(b);return}}catch(g){if(g instanceof qn){h.error(g),n(g);return}}},l=new TextDecoder;return new ReadableStream({start(u){let h="";return f();async function f(){if(s?.aborted){const p=new qn("cancelled","Request was cancelled");return u.error(p),n(p),Promise.resolve()}try{const{value:p,done:g}=await t.read();if(g){h.trim()&&a(h.trim(),u),u.close();return}if(s?.aborted){const E=new qn("cancelled","Request was cancelled");u.error(E),n(E),await t.cancel();return}h+=l.decode(p,{stream:!0});const b=h.split(`
`);h=b.pop()||"";for(const E of b)E.trim()&&a(E.trim(),u);return f()}catch(p){const g=p instanceof qn?p:cm(0,null);u.error(g),n(g)}}},cancel(){return t.cancel()}})}const dS="@firebase/functions",fS="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NU="auth-internal",DU="app-check-internal",PU="messaging-internal";function MU(t){const e=(n,{instanceIdentifier:s})=>{const a=n.getProvider("app").getImmediate(),l=n.getProvider(NU),u=n.getProvider(PU),h=n.getProvider(DU);return new EU(a,l,u,h,s)};qs(new As(s_,e,"PUBLIC").setMultipleInstances(!0)),Gn(dS,fS,t),Gn(dS,fS,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t=Pm(),e=Iv){const s=Ra(wt(t),s_).getImmediate({identifier:e}),a=MA("functions");return a&&VU(s,...a),s}function VU(t,e,n){wU(wt(t),e,n)}function df(t,e,n){return TU(wt(t),e)}MU();const oI="@firebase/installations",r_="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=1e4,uI=`w:${r_}`,cI="FIS_v2",kU="https://firebaseinstallations.googleapis.com/v1",jU=3600*1e3,LU="installations",UU="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ao=new Co(LU,UU,BU);function hI(t){return t instanceof Rs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI({projectId:t}){return`${kU}/projects/${t}/installations`}function fI(t){return{token:t.token,requestStatus:2,expiresIn:zU(t.expiresIn),creationTime:Date.now()}}async function mI(t,e){const s=(await e.json()).error;return Ao.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function pI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FU(t,{refreshToken:e}){const n=pI(t);return n.append("Authorization",qU(e)),n}async function gI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function zU(t){return Number(t.replace("s","000"))}function qU(t){return`${cI} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HU({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=dI(t),a=pI(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={fid:n,authVersion:cI,appId:t.appId,sdkVersion:uI},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await gI(()=>fetch(s,h));if(f.ok){const p=await f.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:fI(p.authToken)}}else throw await mI("Create Installation",f)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=/^[cdef][\w-]{21}$/,Nv="";function KU(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=WU(t);return $U.test(n)?n:Nv}catch{return Nv}}function WU(t){return GU(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;function _I(t,e){const n=Jm(t);bI(n,e),YU(n,e)}function bI(t,e){const n=vI.get(t);if(n)for(const s of n)s(e)}function YU(t,e){const n=QU();n&&n.postMessage({key:t,fid:e}),XU()}let mo=null;function QU(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=t=>{bI(t.data.key,t.data.fid)}),mo}function XU(){vI.size===0&&mo&&(mo.close(),mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZU="firebase-installations-database",JU=1,Ro="firebase-installations-store";let Ry=null;function i_(){return Ry||(Ry=FA(ZU,JU,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ro)}}})),Ry}async function hm(t,e){const n=Jm(t),a=(await i_()).transaction(Ro,"readwrite"),l=a.objectStore(Ro),u=await l.get(n);return await l.put(e,n),await a.done,(!u||u.fid!==e.fid)&&_I(t,e.fid),e}async function EI(t){const e=Jm(t),s=(await i_()).transaction(Ro,"readwrite");await s.objectStore(Ro).delete(e),await s.done}async function ep(t,e){const n=Jm(t),a=(await i_()).transaction(Ro,"readwrite"),l=a.objectStore(Ro),u=await l.get(n),h=e(u);return h===void 0?await l.delete(n):await l.put(h,n),await a.done,h&&(!u||u.fid!==h.fid)&&_I(t,h.fid),h}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a_(t){let e;const n=await ep(t.appConfig,s=>{const a=e5(s),l=t5(t,a);return e=l.registrationPromise,l.installationEntry});return n.fid===Nv?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function e5(t){const e=t||{fid:KU(),registrationStatus:0};return wI(e)}function t5(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Ao.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=n5(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:s5(t)}:{installationEntry:e}}async function n5(t,e){try{const n=await HU(t,e);return hm(t.appConfig,n)}catch(n){throw hI(n)&&n.customData.serverCode===409?await EI(t.appConfig):await hm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function s5(t){let e=await mS(t.appConfig);for(;e.registrationStatus===1;)await yI(100),e=await mS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await a_(t);return s||n}return e}function mS(t){return ep(t,e=>{if(!e)throw Ao.create("installation-not-found");return wI(e)})}function wI(t){return r5(t)?{fid:t.fid,registrationStatus:0}:t}function r5(t){return t.registrationStatus===1&&t.registrationTime+lI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i5({appConfig:t,heartbeatServiceProvider:e},n){const s=a5(t,n),a=FU(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const u={installation:{sdkVersion:uI,appId:t.appId}},h={method:"POST",headers:a,body:JSON.stringify(u)},f=await gI(()=>fetch(s,h));if(f.ok){const p=await f.json();return fI(p)}else throw await mI("Generate Auth Token",f)}function a5(t,{fid:e}){return`${dI(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o_(t,e=!1){let n;const s=await ep(t.appConfig,l=>{if(!TI(l))throw Ao.create("not-registered");const u=l.authToken;if(!e&&u5(u))return l;if(u.requestStatus===1)return n=o5(t,e),l;{if(!navigator.onLine)throw Ao.create("app-offline");const h=h5(l);return n=l5(t,h),h}});return n?await n:s.authToken}async function o5(t,e){let n=await pS(t.appConfig);for(;n.authToken.requestStatus===1;)await yI(100),n=await pS(t.appConfig);const s=n.authToken;return s.requestStatus===0?o_(t,e):s}function pS(t){return ep(t,e=>{if(!TI(e))throw Ao.create("not-registered");const n=e.authToken;return d5(n)?{...e,authToken:{requestStatus:0}}:e})}async function l5(t,e){try{const n=await i5(t,e),s={...e,authToken:n};return await hm(t.appConfig,s),n}catch(n){if(hI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await EI(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await hm(t.appConfig,s)}throw n}}function TI(t){return t!==void 0&&t.registrationStatus===2}function u5(t){return t.requestStatus===2&&!c5(t)}function c5(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jU}function h5(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function d5(t){return t.requestStatus===1&&t.requestTime+lI<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(t){const e=t,{installationEntry:n,registrationPromise:s}=await a_(e);return s?s.catch(console.error):o_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e=!1){const n=t;return await p5(n),(await o_(n,e)).token}async function p5(t){const{registrationPromise:e}=await a_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(t){if(!t||!t.options)throw Cy("App Configuration");if(!t.name)throw Cy("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Cy(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Cy(t){return Ao.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="installations",y5="installations-internal",v5=t=>{const e=t.getProvider("app").getImmediate(),n=g5(e),s=Ra(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},_5=t=>{const e=t.getProvider("app").getImmediate(),n=Ra(e,xI).getImmediate();return{getId:()=>f5(n),getToken:a=>m5(n,a)}};function b5(){qs(new As(xI,v5,"PUBLIC")),qs(new As(y5,_5,"PRIVATE"))}b5();Gn(oI,r_);Gn(oI,r_,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="analytics",E5="firebase_id",w5="origin",T5=60*1e3,x5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",l_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $n=new Dm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rs=new Co("analytics","Analytics",S5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){if(!t.startsWith(l_)){const e=rs.create("invalid-gtag-resource",{gtagURL:t});return $n.warn(e.message),""}return t}function SI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function R5(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function C5(t,e){const n=R5("firebase-js-sdk-policy",{createScriptURL:A5}),s=document.createElement("script"),a=`${l_}?l=${t}&id=${e}`;s.src=n?n?.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function I5(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function N5(t,e,n,s,a,l){const u=s[a];try{if(u)await e[u];else{const f=(await SI(n)).find(p=>p.measurementId===a);f&&await e[f.appId]}}catch(h){$n.error(h)}t("config",a,l)}async function D5(t,e,n,s,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const h=await SI(n);for(const f of u){const p=h.find(b=>b.measurementId===f),g=p&&e[p.appId];if(g)l.push(g);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),t("event",s,a||{})}catch(l){$n.error(l)}}function P5(t,e,n,s){async function a(l,...u){try{if(l==="event"){const[h,f]=u;await D5(t,e,n,h,f)}else if(l==="config"){const[h,f]=u;await N5(t,e,n,s,h,f)}else if(l==="consent"){const[h,f]=u;t("consent",h,f)}else if(l==="get"){const[h,f,p]=u;t("get",h,f,p)}else if(l==="set"){const[h]=u;t("set",h)}else t(l,...u)}catch(h){$n.error(h)}}return a}function M5(t,e,n,s,a){let l=function(...u){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=P5(l,t,e,n),{gtagCore:l,wrappedGtag:window[a]}}function O5(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(l_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=30,k5=1e3;class j5{constructor(e={},n=k5){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AI=new j5;function L5(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function U5(t){const{appId:e,apiKey:n}=t,s={method:"GET",headers:L5(n)},a=x5.replace("{app-id}",e),l=await fetch(a,s);if(l.status!==200&&l.status!==304){let u="";try{const h=await l.json();h.error?.message&&(u=h.error.message)}catch{}throw rs.create("config-fetch-failed",{httpStatus:l.status,responseMessage:u})}return l.json()}async function B5(t,e=AI,n){const{appId:s,apiKey:a,measurementId:l}=t.options;if(!s)throw rs.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:s};throw rs.create("no-api-key")}const u=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new q5;return setTimeout(async()=>{h.abort()},T5),RI({appId:s,apiKey:a,measurementId:l},u,h,e)}async function RI(t,{throttleEndTimeMillis:e,backoffCount:n},s,a=AI){const{appId:l,measurementId:u}=t;try{await F5(s,e)}catch(h){if(u)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:l,measurementId:u};throw h}try{const h=await U5(t);return a.deleteThrottleMetadata(l),h}catch(h){const f=h;if(!z5(f)){if(a.deleteThrottleMetadata(l),u)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:l,measurementId:u};throw h}const p=Number(f?.customData?.httpStatus)===503?VT(n,a.intervalMillis,V5):VT(n,a.intervalMillis),g={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return a.setThrottleMetadata(l,g),$n.debug(`Calling attemptFetch again in ${p} millis`),RI(t,g,s,a)}}function F5(t,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(l),s(rs.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function z5(t){if(!(t instanceof Rs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class q5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function H5(t,e,n,s,a){if(a&&a.global){t("event",n,s);return}else{const l=await e,u={...s,send_to:l};t("event",n,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G5(){if(jA())try{await LA()}catch(t){return $n.warn(rs.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return $n.warn(rs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $5(t,e,n,s,a,l,u){const h=B5(t);h.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>$n.error(E)),e.push(h);const f=G5().then(E=>{if(E)return s.getId()}),[p,g]=await Promise.all([h,f]);O5(l)||C5(l,p.measurementId),a("js",new Date);const b=u?.config??{};return b[w5]="firebase",b.update=!0,g!=null&&(b[E5]=g),a("config",p.measurementId,b),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.app=e}_delete(){return delete Oc[this.app.options.appId],Promise.resolve()}}let Oc={},gS=[];const yS={};let Iy="dataLayer",W5="gtag",vS,CI,_S=!1;function Y5(){const t=[];if(kA()&&t.push("This is a browser extension environment."),mV()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=rs.create("invalid-analytics-context",{errorInfo:e});$n.warn(n.message)}}function Q5(t,e,n){Y5();const s=t.options.appId;if(!s)throw rs.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rs.create("no-api-key");if(Oc[s]!=null)throw rs.create("already-exists",{id:s});if(!_S){I5(Iy);const{wrappedGtag:l,gtagCore:u}=M5(Oc,gS,yS,Iy,W5);CI=l,vS=u,_S=!0}return Oc[s]=$5(t,gS,yS,e,vS,Iy,n),new K5(t)}function X5(t=Pm()){t=wt(t);const e=Ra(t,dm);return e.isInitialized()?e.getImmediate():Z5(t)}function Z5(t,e={}){const n=Ra(t,dm);if(n.isInitialized()){const a=n.getImmediate();if(pa(e,n.getOptions()))return a;throw rs.create("already-initialized")}return n.initialize({options:e})}function J5(t,e,n,s){t=wt(t),H5(CI,Oc[t.app.options.appId],e,n,s).catch(a=>$n.error(a))}const bS="@firebase/analytics",ES="0.10.18";function e9(){qs(new As(dm,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Q5(s,a,n)},"PUBLIC")),qs(new As("analytics-internal",t,"PRIVATE")),Gn(bS,ES),Gn(bS,ES,"esm2020");function t(e){try{const n=e.getProvider(dm).getImmediate();return{logEvent:(s,a,l)=>J5(n,s,a,l)}}catch(n){throw rs.create("interop-component-reg-failed",{reason:n})}}}e9();const Mf={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:"",measurementId:""};console.log("[Firebase] Initializing with config:",{...Mf,apiKey:Mf.apiKey?"***"+Mf.apiKey.slice(-4):"MISSING"});const tp=zA(Mf),Ac=Xj(tp),ks=Z3(tp),ff=OU(tp);typeof window<"u"&&X5(tp);class yn{static async createUserProfile(e,n){const s=ta(ks,"users",e),a={id:e,...n,createdAt:new Date};return await hf(s,{...a,createdAt:cS()}),a}static async getUserProfile(e){const n=ta(ks,"users",e),s=await lS(n);if(s.exists()){const a=s.data();return{...a,id:s.id,createdAt:a.createdAt?.toDate()||new Date,subscriptionEndDate:a.subscriptionEndDate?.toDate()}}return null}static async updateUserProfile(e,n){const s=ta(ks,"users",e),a={...n};n.subscriptionEndDate&&(a.subscriptionEndDate=n.subscriptionEndDate),await uS(s,a)}static async getUserInnermosts(e){const n=of(ks,"innermosts"),s=lf(n,uf("partnerA","==",e)),a=lf(n,uf("partnerB","==",e)),[l,u]=await Promise.all([cf(s),cf(a)]),h=[];return[...l.docs,...u.docs].forEach(f=>{const p=f.data();h.push({...p,id:f.id,createdAt:p.createdAt?.toDate()||new Date})}),h}static async createInnermost(e){const n=ta(of(ks,"innermosts")),s={...e,id:n.id,createdAt:new Date};return await hf(n,{...s,createdAt:cS()}),s}static async getWillingBox(e){const n=ta(ks,"willingBoxes",e),s=await lS(n);if(s.exists()){const a=s.data();return{...a,id:s.id,lockedAt:a.lockedAt?.toDate()}}return null}static async saveWillingBox(e){const n=ta(ks,"willingBoxes",e.id),s={...e,lockedAt:e.lockedAt||null};await hf(n,s)}static async getWeeklyScores(e){const n=of(ks,"weeklyScores"),s=lf(n,uf("innermostId","==",e)),a=await cf(s),l=[];return a.docs.forEach(u=>{const h=u.data();l.push({...h,id:u.id,completedAt:h.completedAt?.toDate()})}),l.sort((u,h)=>u.weekNumber-h.weekNumber)}static async saveWeeklyScore(e){const n=ta(ks,"weeklyScores",e.id),s={...e,completedAt:e.completedAt||null};await hf(n,s)}static async updateSubscriptionStatus(e,n,s){const a=ta(ks,"users",e),l={subscriptionStatus:n};s&&(l.subscriptionEndDate=s),await uS(a,l)}static async isEmailRegistered(e){const n=of(ks,"users"),s=lf(n,uf("email","==",e.toLowerCase()));return!(await cf(s)).empty}}const Ot=RA()(CA(YO((t,e)=>({user:null,firebaseUser:null,isLoading:!1,isInitialized:!1,error:null,setUser:n=>t({user:n}),setFirebaseUser:n=>t({firebaseUser:n}),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n}),setInitialized:n=>t({isInitialized:n}),clearError:()=>t({error:null}),login:async(n,s)=>{try{t({isLoading:!0,error:null}),console.log("[AuthStore] Attempting login for:",n);const a=await O4(Ac,n,s);console.log("[AuthStore] Login successful:",a.user.email)}catch(a){console.error("[AuthStore] Login error:",a),console.error("[AuthStore] Error code:",a.code),console.error("[AuthStore] Error message:",a.message);const l=a instanceof Error?a.message:"Login failed";throw t({error:l}),a}finally{t({isLoading:!1})}},signup:async(n,s,a,l,u)=>{try{t({isLoading:!0,error:null});const h=await M4(Ac,n,s);await k4(h.user,{displayName:a});const f=await yn.createUserProfile(h.user.uid,{email:h.user.email,displayName:a,age:l,gender:u,activeInnermosts:[],subscriptionStatus:"free"});t({user:f})}catch(h){const f=h instanceof Error?h.message:"Signup failed";throw t({error:f}),h}finally{t({isLoading:!1})}},logout:async()=>{try{t({isLoading:!0,error:null}),await B4(Ac),t({user:null,firebaseUser:null})}catch(n){const s=n instanceof Error?n.message:"Logout failed";throw t({error:s}),n}finally{t({isLoading:!1})}},resetPassword:async n=>{try{t({isLoading:!0,error:null}),await P4(Ac,n)}catch(s){const a=s instanceof Error?s.message:"Password reset failed";throw t({error:a}),s}finally{t({isLoading:!1})}}}),{name:"auth-storage",partialize:t=>({user:t.user,isInitialized:t.isInitialized})}),{name:"auth-store"}));let wS=null;const t9=()=>{if(wS)return;console.log("[AuthStore] Starting auth initialization...");const t=setTimeout(()=>{console.error("[AuthStore] Auth initialization timeout - forcing initialized state"),Ot.getState().setInitialized(!0),Ot.getState().setError("Authentication initialization timed out")},5e3);wS=U4(Ac,async e=>{if(clearTimeout(t),console.log("[AuthStore] Auth state changed:",e?.email||"no user"),Ot.getState().setFirebaseUser(e),e)try{const n=await yn.getUserProfile(e.uid);n?(console.log("[AuthStore] User profile loaded:",n.email),Ot.getState().setUser(n)):(console.warn("[AuthStore] User exists in Auth but not in Firestore"),Ot.getState().setUser(null))}catch(n){console.error("[AuthStore] Error fetching user profile:",n),Ot.getState().setError("Failed to load user profile"),Ot.getState().setUser(null)}else console.log("[AuthStore] No authenticated user"),Ot.getState().setUser(null);console.log("[AuthStore] Setting initialized to true"),Ot.getState().setInitialized(!0)})};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),TS=t=>{const e=s9(t);return e.charAt(0).toUpperCase()+e.slice(1)},II=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),r9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:u,...h},f)=>V.createElement("svg",{ref:f,...i9,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:II("lucide",a),...!l&&!r9(h)&&{"aria-hidden":"true"},...h},[...u.map(([p,g])=>V.createElement(p,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=V.forwardRef(({className:s,...a},l)=>V.createElement(a9,{ref:l,iconNode:e,className:II(`lucide-${n9(TS(t))}`,`lucide-${t}`,s),...a}));return n.displayName=TS(t),n};/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ma=tt("arrow-left",o9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],u9=tt("arrow-right",l9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],h9=tt("bell",c9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],u_=tt("calendar",d9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Rl=tt("check",f9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],p9=tt("circle-check-big",m9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xS=tt("clock",g9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],v9=tt("credit-card",y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],b9=tt("crown",_9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],w9=tt("download",E9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fm=tt("eye-off",T9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mm=tt("eye",x9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],SS=tt("heart",S9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],R9=tt("leaf",A9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],I9=tt("loader-circle",C9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dv=tt("lock",N9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],np=tt("mail",D9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],M9=tt("message-square",P9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],V9=tt("pen",O9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],NI=tt("plus",k9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],L9=tt("save",j9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],c_=tt("settings",U9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],F9=tt("shield",B9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],q9=tt("smartphone",z9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_o=tt("star",H9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],DI=tt("trash-2",G9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],ws=tt("tree-pine",$9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],W9=tt("triangle-alert",K9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Of=tt("trophy",Y9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],PI=tt("user",Q9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],h_=tt("users",X9);/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],J9=tt("x",Z9),MI=RA()(CA((t,e)=>({innermosts:[],activeInnermost:null,pendingInvitations:[],willingBoxes:{},weeklyScores:{},isLoading:!1,error:null,setInnermosts:n=>t({innermosts:n}),setActiveInnermost:n=>t({activeInnermost:n}),setPendingInvitations:n=>t({pendingInvitations:n}),setWillingBox:(n,s)=>t(a=>({willingBoxes:{...a.willingBoxes,[n]:s}})),setWeeklyScores:(n,s)=>t(a=>({weeklyScores:{...a.weeklyScores,[n]:s}})),setLoading:n=>t({isLoading:n}),setError:n=>t({error:n}),addInnermost:n=>t(s=>({innermosts:[...s.innermosts,n]})),removeInnermost:n=>t(s=>({innermosts:s.innermosts.filter(a=>a.id!==n),activeInnermost:s.activeInnermost?.id===n?null:s.activeInnermost})),updateInnermost:(n,s)=>t(a=>({innermosts:a.innermosts.map(l=>l.id===n?{...l,...s}:l),activeInnermost:a.activeInnermost?.id===n?{...a.activeInnermost,...s}:a.activeInnermost})),canAddInnermost:()=>{const{innermosts:n}=e();return n.length<3},addInvitation:n=>t(s=>({pendingInvitations:[...s.pendingInvitations,n]})),updateInvitation:(n,s)=>t(a=>({pendingInvitations:a.pendingInvitations.map(l=>l.id===n?{...l,...s}:l)})),removeInvitation:n=>t(s=>({pendingInvitations:s.pendingInvitations.filter(a=>a.id!==n)})),getWillingBox:n=>{const{willingBoxes:s}=e();return s[n]||null},getWeeklyScores:n=>{const{weeklyScores:s}=e();return s[n]||[]},getCurrentWeek:n=>e().innermosts.find(a=>a.id===n)?.currentWeek||1}),{name:"innermost-store"})),d_=V.createContext({});function f_(t){const e=V.useRef(null);return e.current===null&&(e.current=t()),e.current}const m_=typeof window<"u",OI=m_?V.useLayoutEffect:V.useEffect,sp=V.createContext(null);function p_(t,e){t.indexOf(e)===-1&&t.push(e)}function g_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _i=(t,e,n)=>n>e?e:n<t?t:n;let y_=()=>{};const bi={},VI=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function kI(t){return typeof t=="object"&&t!==null}const jI=t=>/^0[^.\s]+$/u.test(t);function v_(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ss=t=>t,eB=(t,e)=>n=>e(t(n)),Th=(...t)=>t.reduce(eB),th=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class __{constructor(){this.subscriptions=[]}add(e){return p_(this.subscriptions,e),()=>g_(this.subscriptions,e)}notify(e,n,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,s);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xr=t=>t*1e3,Sr=t=>t/1e3;function LI(t,e){return e?t*(1e3/e):0}const UI=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,tB=1e-7,nB=12;function sB(t,e,n,s,a){let l,u,h=0;do u=e+(n-e)/2,l=UI(u,s,a)-t,l>0?n=u:e=u;while(Math.abs(l)>tB&&++h<nB);return u}function xh(t,e,n,s){if(t===e&&n===s)return Ss;const a=l=>sB(l,0,1,t,n);return l=>l===0||l===1?l:UI(a(l),e,s)}const BI=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FI=t=>e=>1-t(1-e),zI=xh(.33,1.53,.69,.99),b_=FI(zI),qI=BI(b_),HI=t=>(t*=2)<1?.5*b_(t):.5*(2-Math.pow(2,-10*(t-1))),E_=t=>1-Math.sin(Math.acos(t)),GI=FI(E_),$I=BI(E_),rB=xh(.42,0,1,1),iB=xh(0,0,.58,1),KI=xh(.42,0,.58,1),aB=t=>Array.isArray(t)&&typeof t[0]!="number",WI=t=>Array.isArray(t)&&typeof t[0]=="number",oB={linear:Ss,easeIn:rB,easeInOut:KI,easeOut:iB,circIn:E_,circInOut:$I,circOut:GI,backIn:b_,backInOut:qI,backOut:zI,anticipate:HI},lB=t=>typeof t=="string",AS=t=>{if(WI(t)){y_(t.length===4);const[e,n,s,a]=t;return xh(e,n,s,a)}else if(lB(t))return oB[t];return t},mf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function uB(t,e){let n=new Set,s=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,b=!1,E=!1)=>{const D=E&&a?n:s;return b&&u.add(g),D.has(g)||D.add(g),g},cancel:g=>{s.delete(g),u.delete(g)},process:g=>{if(h=g,a){l=!0;return}a=!0,[n,s]=[s,n],n.forEach(f),n.clear(),a=!1,l&&(l=!1,p.process(g))}};return p}const cB=40;function YI(t,e){let n=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=mf.reduce((q,se)=>(q[se]=uB(l),q),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:b,preRender:E,render:x,postRender:D}=u,M=()=>{const q=bi.useManualTiming?a.timestamp:performance.now();n=!1,bi.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(q-a.timestamp,cB),1)),a.timestamp=q,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),g.process(a),b.process(a),E.process(a),x.process(a),D.process(a),a.isProcessing=!1,n&&e&&(s=!1,t(M))},k=()=>{n=!0,s=!0,a.isProcessing||t(M)};return{schedule:mf.reduce((q,se)=>{const Q=u[se];return q[se]=(ce,j=!1,A=!1)=>(n||k(),Q.schedule(ce,j,A)),q},{}),cancel:q=>{for(let se=0;se<mf.length;se++)u[mf[se]].cancel(q)},state:a,steps:u}}const{schedule:bt,cancel:wa,state:fn,steps:Ny}=YI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ss,!0);let Vf;function hB(){Vf=void 0}const Hn={now:()=>(Vf===void 0&&Hn.set(fn.isProcessing||bi.useManualTiming?fn.timestamp:performance.now()),Vf),set:t=>{Vf=t,queueMicrotask(hB)}},QI=t=>e=>typeof e=="string"&&e.startsWith(t),w_=QI("--"),dB=QI("var(--"),T_=t=>dB(t)?fB.test(t.split("/*")[0].trim()):!1,fB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,iu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nh={...iu,transform:t=>_i(0,1,t)},pf={...iu,default:1},Vc=t=>Math.round(t*1e5)/1e5,x_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mB(t){return t==null}const pB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S_=(t,e)=>n=>!!(typeof n=="string"&&pB.test(n)&&n.startsWith(t)||e&&!mB(n)&&Object.prototype.hasOwnProperty.call(n,e)),XI=(t,e,n)=>s=>{if(typeof s!="string")return s;const[a,l,u,h]=s.match(x_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},gB=t=>_i(0,255,t),Dy={...iu,transform:t=>Math.round(gB(t))},po={test:S_("rgb","red"),parse:XI("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Dy.transform(t)+", "+Dy.transform(e)+", "+Dy.transform(n)+", "+Vc(nh.transform(s))+")"};function yB(t){let e="",n="",s="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Pv={test:S_("#"),parse:yB,transform:po.transform},Sh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),na=Sh("deg"),Ar=Sh("%"),je=Sh("px"),vB=Sh("vh"),_B=Sh("vw"),RS={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},Cl={test:S_("hsl","hue"),parse:XI("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Ar.transform(Vc(e))+", "+Ar.transform(Vc(n))+", "+Vc(nh.transform(s))+")"},Ht={test:t=>po.test(t)||Pv.test(t)||Cl.test(t),parse:t=>po.test(t)?po.parse(t):Cl.test(t)?Cl.parse(t):Pv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?po.transform(t):Cl.transform(t),getAnimatableNone:t=>{const e=Ht.parse(t);return e.alpha=0,Ht.transform(e)}},bB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function EB(t){return isNaN(t)&&typeof t=="string"&&(t.match(x_)?.length||0)+(t.match(bB)?.length||0)>0}const ZI="number",JI="color",wB="var",TB="var(",CS="${}",xB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(xB,f=>(Ht.test(f)?(s.color.push(l),a.push(JI),n.push(Ht.parse(f))):f.startsWith(TB)?(s.var.push(l),a.push(wB),n.push(f)):(s.number.push(l),a.push(ZI),n.push(parseFloat(f))),++l,CS)).split(CS);return{values:n,split:h,indexes:s,types:a}}function eN(t){return sh(t).values}function tN(t){const{split:e,types:n}=sh(t),s=e.length;return a=>{let l="";for(let u=0;u<s;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===ZI?l+=Vc(a[u]):h===JI?l+=Ht.transform(a[u]):l+=a[u]}return l}}const SB=t=>typeof t=="number"?0:Ht.test(t)?Ht.getAnimatableNone(t):t;function AB(t){const e=eN(t);return tN(t)(e.map(SB))}const Ta={test:EB,parse:eN,createTransformer:tN,getAnimatableNone:AB};function Py(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function RB({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;a=Py(f,h,t+1/3),l=Py(f,h,t),u=Py(f,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}function pm(t,e){return n=>n>0?e:t}const xt=(t,e,n)=>t+(e-t)*n,My=(t,e,n)=>{const s=t*t,a=n*(e*e-s)+s;return a<0?0:Math.sqrt(a)},CB=[Pv,po,Cl],IB=t=>CB.find(e=>e.test(t));function IS(t){const e=IB(t);if(!e)return!1;let n=e.parse(t);return e===Cl&&(n=RB(n)),n}const NS=(t,e)=>{const n=IS(t),s=IS(e);if(!n||!s)return pm(t,e);const a={...n};return l=>(a.red=My(n.red,s.red,l),a.green=My(n.green,s.green,l),a.blue=My(n.blue,s.blue,l),a.alpha=xt(n.alpha,s.alpha,l),po.transform(a))},Mv=new Set(["none","hidden"]);function NB(t,e){return Mv.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function DB(t,e){return n=>xt(t,e,n)}function A_(t){return typeof t=="number"?DB:typeof t=="string"?T_(t)?pm:Ht.test(t)?NS:OB:Array.isArray(t)?nN:typeof t=="object"?Ht.test(t)?NS:PB:pm}function nN(t,e){const n=[...t],s=n.length,a=t.map((l,u)=>A_(l)(l,e[u]));return l=>{for(let u=0;u<s;u++)n[u]=a[u](l);return n}}function PB(t,e){const n={...t,...e},s={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(s[a]=A_(t[a])(t[a],e[a]));return a=>{for(const l in s)n[l]=s[l](a);return n}}function MB(t,e){const n=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][s[l]],h=t.values[u]??0;n[a]=h,s[l]++}return n}const OB=(t,e)=>{const n=Ta.createTransformer(e),s=sh(t),a=sh(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Mv.has(t)&&!a.values.length||Mv.has(e)&&!s.values.length?NB(t,e):Th(nN(MB(s,a),a.values),n):pm(t,e)};function sN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?xt(t,e,n):A_(t)(t,e)}const VB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>bt.update(e,n),stop:()=>wa(e),now:()=>fn.isProcessing?fn.timestamp:Hn.now()}},rN=(t,e,n=10)=>{let s="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)s+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gm=2e4;function R_(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<gm;)e+=n,s=t.next(e);return e>=gm?1/0:e}function kB(t,e=100,n){const s=n({...t,keyframes:[0,e]}),a=Math.min(R_(s),gm);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:Sr(a)}}const jB=5;function iN(t,e,n){const s=Math.max(e-jB,0);return LI(n-t(s),e-s)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Oy=.001;function LB({duration:t=It.duration,bounce:e=It.bounce,velocity:n=It.velocity,mass:s=It.mass}){let a,l,u=1-e;u=_i(It.minDamping,It.maxDamping,u),t=_i(It.minDuration,It.maxDuration,Sr(t)),u<1?(a=p=>{const g=p*u,b=g*t,E=g-n,x=Ov(p,u),D=Math.exp(-b);return Oy-E/x*D},l=p=>{const b=p*u*t,E=b*n+n,x=Math.pow(u,2)*Math.pow(p,2)*t,D=Math.exp(-b),M=Ov(Math.pow(p,2),u);return(-a(p)+Oy>0?-1:1)*((E-x)*D)/M}):(a=p=>{const g=Math.exp(-p*t),b=(p-n)*t+1;return-Oy+g*b},l=p=>{const g=Math.exp(-p*t),b=(n-p)*(t*t);return g*b});const h=5/t,f=BB(a,l,h);if(t=xr(t),isNaN(f))return{stiffness:It.stiffness,damping:It.damping,duration:t};{const p=Math.pow(f,2)*s;return{stiffness:p,damping:u*2*Math.sqrt(s*p),duration:t}}}const UB=12;function BB(t,e,n){let s=n;for(let a=1;a<UB;a++)s=s-t(s)/e(s);return s}function Ov(t,e){return t*Math.sqrt(1-e*e)}const FB=["duration","bounce"],zB=["stiffness","damping","mass"];function DS(t,e){return e.some(n=>t[n]!==void 0)}function qB(t){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...t};if(!DS(t,zB)&&DS(t,FB))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),a=s*s,l=2*_i(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:It.mass,stiffness:a,damping:l}}else{const n=LB(t);e={...e,...n,mass:It.mass},e.isResolvedFromDuration=!0}return e}function ym(t=It.visualDuration,e=It.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:f,damping:p,mass:g,duration:b,velocity:E,isResolvedFromDuration:x}=qB({...n,velocity:-Sr(n.velocity||0)}),D=E||0,M=p/(2*Math.sqrt(f*g)),k=u-l,O=Sr(Math.sqrt(f/g)),P=Math.abs(k)<5;s||(s=P?It.restSpeed.granular:It.restSpeed.default),a||(a=P?It.restDelta.granular:It.restDelta.default);let q;if(M<1){const Q=Ov(O,M);q=ce=>{const j=Math.exp(-M*O*ce);return u-j*((D+M*O*k)/Q*Math.sin(Q*ce)+k*Math.cos(Q*ce))}}else if(M===1)q=Q=>u-Math.exp(-O*Q)*(k+(D+O*k)*Q);else{const Q=O*Math.sqrt(M*M-1);q=ce=>{const j=Math.exp(-M*O*ce),A=Math.min(Q*ce,300);return u-j*((D+M*O*k)*Math.sinh(A)+Q*k*Math.cosh(A))/Q}}const se={calculatedDuration:x&&b||null,next:Q=>{const ce=q(Q);if(x)h.done=Q>=b;else{let j=Q===0?D:0;M<1&&(j=Q===0?xr(D):iN(q,Q,ce));const A=Math.abs(j)<=s,N=Math.abs(u-ce)<=a;h.done=A&&N}return h.value=h.done?u:ce,h},toString:()=>{const Q=Math.min(R_(se),gm),ce=rN(j=>se.next(Q*j).value,Q,30);return Q+"ms "+ce},toTransition:()=>{}};return se}ym.applyToOptions=t=>{const e=kB(t,100,ym);return t.ease=e.ease,t.duration=xr(e.duration),t.type="keyframes",t};function Vv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const b=t[0],E={done:!1,value:b},x=A=>h!==void 0&&A<h||f!==void 0&&A>f,D=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let M=n*e;const k=b+M,O=u===void 0?k:u(k);O!==k&&(M=O-b);const P=A=>-M*Math.exp(-A/s),q=A=>O+P(A),se=A=>{const N=P(A),L=q(A);E.done=Math.abs(N)<=p,E.value=E.done?O:L};let Q,ce;const j=A=>{x(E.value)&&(Q=A,ce=ym({keyframes:[E.value,D(E.value)],velocity:iN(q,A,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:g}))};return j(0),{calculatedDuration:null,next:A=>{let N=!1;return!ce&&Q===void 0&&(N=!0,se(A),j(A)),Q!==void 0&&A>=Q?ce.next(A-Q):(!N&&se(A),E)}}}function HB(t,e,n){const s=[],a=n||bi.mix||sN,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Ss:e;h=Th(f,h)}s.push(h)}return s}function GB(t,e,{clamp:n=!0,ease:s,mixer:a}={}){const l=t.length;if(y_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=HB(e,s,a),f=h.length,p=g=>{if(u&&g<t[0])return e[0];let b=0;if(f>1)for(;b<t.length-2&&!(g<t[b+1]);b++);const E=th(t[b],t[b+1],g);return h[b](E)};return n?g=>p(_i(t[0],t[l-1],g)):p}function $B(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const a=th(0,e,s);t.push(xt(n,1,a))}}function KB(t){const e=[0];return $B(e,t.length-1),e}function WB(t,e){return t.map(n=>n*e)}function YB(t,e){return t.map(()=>e||KI).splice(0,t.length-1)}function kc({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const a=aB(s)?s.map(AS):AS(s),l={done:!1,value:e[0]},u=WB(n&&n.length===e.length?n:KB(e),t),h=GB(u,e,{ease:Array.isArray(a)?a:YB(e,a)});return{calculatedDuration:t,next:f=>(l.value=h(f),l.done=f>=t,l)}}const QB=t=>t!==null;function C_(t,{repeat:e,repeatType:n="loop"},s,a=1){const l=t.filter(QB),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const XB={decay:Vv,inertia:Vv,tween:kc,keyframes:kc,spring:ym};function aN(t){typeof t.type=="string"&&(t.type=XB[t.type])}class I_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ZB=t=>t/100;class N_ extends I_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Hn.now()&&this.tick(Hn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;aN(e);const{type:n=kc,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const f=n||kc;f!==kc&&typeof h[0]!="number"&&(this.mixKeyframes=Th(ZB,sN(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=R_(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return s.next(0);const{delay:p=0,keyframes:g,repeat:b,repeatType:E,repeatDelay:x,type:D,onUpdate:M,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-p*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?O<0:O>a;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let q=this.currentTime,se=s;if(b){const A=Math.min(this.currentTime,a)/h;let N=Math.floor(A),L=A%1;!L&&A>=1&&(L=1),L===1&&N--,N=Math.min(N,b+1),!!(N%2)&&(E==="reverse"?(L=1-L,x&&(L-=x/h)):E==="mirror"&&(se=u)),q=_i(0,1,L)*h}const Q=P?{done:!1,value:g[0]}:se.next(q);l&&(Q.value=l(Q.value));let{done:ce}=Q;!P&&f!==null&&(ce=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const j=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ce);return j&&D!==Vv&&(Q.value=C_(g,this.options,k,this.speed)),M&&M(Q.value),j&&this.finish(),Q}then(e,n){return this.finished.then(e,n)}get duration(){return Sr(this.calculatedDuration)}get time(){return Sr(this.currentTime)}set time(e){e=xr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Hn.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Sr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=VB,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Hn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function JB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const go=t=>t*180/Math.PI,kv=t=>{const e=go(Math.atan2(t[1],t[0]));return jv(e)},eF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kv,rotateZ:kv,skewX:t=>go(Math.atan(t[1])),skewY:t=>go(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jv=t=>(t=t%360,t<0&&(t+=360),t),PS=kv,MS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),OS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MS,scaleY:OS,scale:t=>(MS(t)+OS(t))/2,rotateX:t=>jv(go(Math.atan2(t[6],t[5]))),rotateY:t=>jv(go(Math.atan2(-t[2],t[0]))),rotateZ:PS,rotate:PS,skewX:t=>go(Math.atan(t[4])),skewY:t=>go(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lv(t){return t.includes("scale")?1:0}function Uv(t,e){if(!t||t==="none")return Lv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(n)s=tF,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=eF,a=h}if(!a)return Lv(e);const l=s[e],u=a[1].split(",").map(sF);return typeof l=="function"?l(u):u[l]}const nF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uv(n,e)};function sF(t){return parseFloat(t.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),VS=t=>t===iu||t===je,rF=new Set(["x","y","z"]),iF=au.filter(t=>!rF.has(t));function aF(t){const e=[];return iF.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uv(e,"x"),y:(t,{transform:e})=>Uv(e,"y")};bo.translateX=bo.x;bo.translateY=bo.y;const Eo=new Set;let Bv=!1,Fv=!1,zv=!1;function oN(){if(Fv){const t=Array.from(Eo).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const a=aF(s);a.length&&(n.set(s,a),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=n.get(s);a&&a.forEach(([l,u])=>{s.getValue(l)?.set(u)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}Fv=!1,Bv=!1,Eo.forEach(t=>t.complete(zv)),Eo.clear()}function lN(){Eo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Fv=!0)})}function oF(){zv=!0,lN(),oN(),zv=!1}class D_{constructor(e,n,s,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Eo.add(this),Bv||(Bv=!0,bt.read(lN),bt.resolveKeyframes(oN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&n){const h=s.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}JB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eo.delete(this)}cancel(){this.state==="scheduled"&&(Eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lF=t=>t.startsWith("--");function uF(t,e,n){lF(e)?t.style.setProperty(e,n):t.style[e]=n}const cF=v_(()=>window.ScrollTimeline!==void 0),hF={};function dF(t,e){const n=v_(t);return()=>hF[e]??n()}const uN=dF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Rc=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Rc([0,.65,.55,1]),circOut:Rc([.55,0,1,.45]),backIn:Rc([.31,.01,.66,-.59]),backOut:Rc([.33,1.53,.69,.99])};function cN(t,e){if(t)return typeof t=="function"?uN()?rN(t,e):"ease-out":WI(t)?Rc(t):Array.isArray(t)?t.map(n=>cN(n,e)||kS.easeOut):kS[t]}function fF(t,e,n,{delay:s=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const b=cN(h,a);Array.isArray(b)&&(g.easing=b);const E={delay:s,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),t.animate(g,E)}function hN(t){return typeof t=="function"&&"applyToOptions"in t}function mF({type:t,...e}){return hN(t)&&uN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class pF extends I_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,y_(typeof e.type!="string");const p=mF(e);this.animation=fF(n,s,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=C_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):uF(n,s,g),this.animation.cancel()}f?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Sr(Number(e))}get time(){return Sr(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&cF()?(this.animation.timeline=e,Ss):n(this)}}const dN={anticipate:HI,backInOut:qI,circInOut:$I};function gF(t){return t in dN}function yF(t){typeof t.ease=="string"&&gF(t.ease)&&(t.ease=dN[t.ease])}const jS=10;class vF extends pF{constructor(e){yF(e),aN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new N_({...u,autoplay:!1}),f=xr(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-jS).value,h.sample(f).value,jS),h.stop()}}const LS=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ta.test(t)||t==="0")&&!t.startsWith("url("));function _F(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function bF(t,e,n,s){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=LS(a,e),h=LS(l,e);return!u||!h?!1:_F(t)||(n==="spring"||hN(n))&&s}function qv(t){t.duration=0,t.type}const EF=new Set(["opacity","clipPath","filter","transform"]),wF=v_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function TF(t){const{motionValue:e,name:n,repeatDelay:s,repeatType:a,damping:l,type:u}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return wF()&&n&&EF.has(n)&&(n!=="transform"||!p)&&!f&&!s&&a!=="mirror"&&l!==0&&u!=="inertia"}const xF=40;class SF extends I_{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...b}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Hn.now();const E={autoplay:e,delay:n,type:s,repeat:a,repeatDelay:l,repeatType:u,name:f,motionValue:p,element:g,...b},x=g?.KeyframeResolver||D_;this.keyframeResolver=new x(h,(D,M,k)=>this.onKeyframesResolved(D,M,E,!k),f,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,s,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=s;this.resolvedAt=Hn.now(),bF(e,l,u,h)||((bi.instantAnimations||!f)&&g?.(C_(e,s,n)),e[0]=e[e.length-1],qv(s),s.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>xF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},x=!p&&TF(E)?new vF({...E,element:E.motionValue.owner.current}):new N_(E);x.finished.then(()=>this.notifyFinished()).catch(Ss),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const AF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RF(t){const e=AF.exec(t);if(!e)return[,];const[,n,s,a]=e;return[`--${n??s}`,a]}function fN(t,e,n=1){const[s,a]=RF(t);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return VI(u)?parseFloat(u):u}return T_(a)?fN(a,e,n+1):a}function P_(t,e){return t?.[e]??t?.default??t}const mN=new Set(["width","height","top","left","right","bottom",...au]),CF={test:t=>t==="auto",parse:t=>t},pN=t=>e=>e.test(t),gN=[iu,je,Ar,na,_B,vB,CF],US=t=>gN.find(pN(t));function IF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jI(t):!0}const NF=new Set(["brightness","contrast","saturate","opacity"]);function DF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(x_)||[];if(!s)return t;const a=n.replace(s,"");let l=NF.has(e)?1:0;return s!==n&&(l*=100),e+"("+l+a+")"}const PF=/\b([a-z-]*)\(.*?\)/gu,Hv={...Ta,getAnimatableNone:t=>{const e=t.match(PF);return e?e.map(DF).join(" "):t}},BS={...iu,transform:Math.round},MF={rotate:na,rotateX:na,rotateY:na,rotateZ:na,scale:pf,scaleX:pf,scaleY:pf,scaleZ:pf,skew:na,skewX:na,skewY:na,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:nh,originX:RS,originY:RS,originZ:je},M_={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,radius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,backgroundPositionX:je,backgroundPositionY:je,...MF,zIndex:BS,fillOpacity:nh,strokeOpacity:nh,numOctaves:BS},OF={...M_,color:Ht,backgroundColor:Ht,outlineColor:Ht,fill:Ht,stroke:Ht,borderColor:Ht,borderTopColor:Ht,borderRightColor:Ht,borderBottomColor:Ht,borderLeftColor:Ht,filter:Hv,WebkitFilter:Hv},yN=t=>OF[t];function vN(t,e){let n=yN(t);return n!==Hv&&(n=Ta),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VF=new Set(["auto","none","0"]);function kF(t,e,n){let s=0,a;for(;s<t.length&&!a;){const l=t[s];typeof l=="string"&&!VF.has(l)&&sh(l).values.length&&(a=t[s]),s++}if(a&&n)for(const l of e)t[l]=vN(n,a)}class jF extends D_{constructor(e,n,s,a,l){super(e,n,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),T_(p))){const g=fN(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!mN.has(s)||e.length!==2)return;const[a,l]=e,u=US(a),h=US(l);if(u!==h)if(VS(u)&&VS(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else bo[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||IF(e[a]))&&s.push(a);s.length&&kF(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bo[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,u=s[l];s[l]=bo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,f])=>{e.getValue(h).set(f)}),this.resolveNoneKeyframes()}}function LF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=n?.[t]??s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const _N=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bN(t){return kI(t)&&"offsetHeight"in t}const FS=30,UF=t=>!isNaN(parseFloat(t));class BF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Hn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Hn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=UF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new __);const s=this.events[e].add(n);return e==="change"?()=>{s(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Hn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FS)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FS);return LI(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kl(t,e){return new BF(t,e)}const{schedule:O_}=YI(queueMicrotask,!1),js={x:!1,y:!1};function EN(){return js.x||js.y}function FF(t){return t==="x"||t==="y"?js[t]?null:(js[t]=!0,()=>{js[t]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function wN(t,e){const n=LF(t),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[n,a,()=>s.abort()]}function zS(t){return!(t.pointerType==="touch"||EN())}function zF(t,e,n={}){const[s,a,l]=wN(t,n),u=h=>{if(!zS(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=b=>{zS(b)&&(p(b),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return s.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const TN=(t,e)=>e?t===e?!0:TN(t,e.parentElement):!1,V_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HF(t){return qF.has(t.tagName)||t.tabIndex!==-1}const kf=new WeakSet;function qS(t){return e=>{e.key==="Enter"&&t(e)}}function Vy(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GF=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=qS(()=>{if(kf.has(n))return;Vy(n,"down");const a=qS(()=>{Vy(n,"up")}),l=()=>Vy(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function HS(t){return V_(t)&&!EN()}function $F(t,e,n={}){const[s,a,l]=wN(t,n),u=h=>{const f=h.currentTarget;if(!HS(h))return;kf.add(f);const p=e(f,h),g=(x,D)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",E),kf.has(f)&&kf.delete(f),HS(x)&&typeof p=="function"&&p(x,{success:D})},b=x=>{g(x,f===window||f===document||n.useGlobalTarget||TN(f,x.target))},E=x=>{g(x,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",E,a)};return s.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),bN(h)&&(h.addEventListener("focus",p=>GF(p,a)),!HF(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function xN(t){return kI(t)&&"ownerSVGElement"in t}function KF(t){return xN(t)&&t.tagName==="svg"}const Sn=t=>!!(t&&t.getVelocity),WF=[...gN,Ht,Ta],YF=t=>WF.find(pN(t)),k_=V.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class QF extends V.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,a=bN(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XF({children:t,isPresent:e,anchorX:n,root:s}){const a=V.useId(),l=V.useRef(null),u=V.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=V.useContext(k_);return V.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:b,right:E}=u.current;if(e||!l.current||!f||!p)return;const x=n==="left"?`left: ${b}`:`right: ${E}`;l.current.dataset.motionPopId=a;const D=document.createElement("style");h&&(D.nonce=h);const M=s??document.head;return M.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${x}px !important;
            top: ${g}px !important;
          }
        `),()=>{M.contains(D)&&M.removeChild(D)}},[e]),v.jsx(QF,{isPresent:e,childRef:l,sizeRef:u,children:V.cloneElement(t,{ref:l})})}const ZF=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,root:f})=>{const p=f_(JF),g=V.useId();let b=!0,E=V.useMemo(()=>(b=!1,{id:g,initial:e,isPresent:n,custom:a,onExitComplete:x=>{p.set(x,!0);for(const D of p.values())if(!D)return;s&&s()},register:x=>(p.set(x,!1),()=>p.delete(x))}),[n,p,s]);return l&&b&&(E={...E}),V.useMemo(()=>{p.forEach((x,D)=>p.set(D,!1))},[n]),V.useEffect(()=>{!n&&!p.size&&s&&s()},[n]),u==="popLayout"&&(t=v.jsx(XF,{isPresent:n,anchorX:h,root:f,children:t})),v.jsx(sp.Provider,{value:E,children:t})};function JF(){return new Map}function SN(t=!0){const e=V.useContext(sp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:a}=e,l=V.useId();V.useEffect(()=>{if(t)return a(l)},[t]);const u=V.useCallback(()=>t&&s&&s(l),[l,s,t]);return!n&&s?[!1,u]:[!0]}const gf=t=>t.key||"";function GS(t){const e=[];return V.Children.forEach(t,n=>{V.isValidElement(n)&&e.push(n)}),e}const j_=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,g]=SN(u),b=V.useMemo(()=>GS(t),[t]),E=u&&!p?[]:b.map(gf),x=V.useRef(!0),D=V.useRef(b),M=f_(()=>new Map),[k,O]=V.useState(b),[P,q]=V.useState(b);OI(()=>{x.current=!1,D.current=b;for(let ce=0;ce<P.length;ce++){const j=gf(P[ce]);E.includes(j)?M.delete(j):M.get(j)!==!0&&M.set(j,!1)}},[P,E.length,E.join("-")]);const se=[];if(b!==k){let ce=[...b];for(let j=0;j<P.length;j++){const A=P[j],N=gf(A);E.includes(N)||(ce.splice(j,0,A),se.push(A))}return l==="wait"&&se.length&&(ce=se),q(GS(ce)),O(b),null}const{forceRender:Q}=V.useContext(d_);return v.jsx(v.Fragment,{children:P.map(ce=>{const j=gf(ce),A=u&&!p?!1:b===P||E.includes(j),N=()=>{if(M.has(j))M.set(j,!0);else return;let L=!0;M.forEach(B=>{B||(L=!1)}),L&&(Q?.(),q(D.current),u&&g?.(),s&&s())};return v.jsx(ZF,{isPresent:A,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:f,onExitComplete:A?void 0:N,anchorX:h,children:ce},j)})})},AN=V.createContext({strict:!1}),$S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wl={};for(const t in $S)Wl[t]={isEnabled:e=>$S[t].some(n=>!!e[n])};function e7(t){for(const e in t)Wl[e]={...Wl[e],...t[e]}}const t7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||t7.has(t)}let RN=t=>!vm(t);function n7(t){typeof t=="function"&&(RN=e=>e.startsWith("on")?!vm(e):t(e))}try{n7(require("@emotion/is-prop-valid").default)}catch{}function s7(t,e,n){const s={};for(const a in t)a==="values"&&typeof t.values=="object"||(RN(a)||n===!0&&vm(a)||!e&&!vm(a)||t.draggable&&a.startsWith("onDrag"))&&(s[a]=t[a]);return s}const rp=V.createContext({});function ip(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rh(t){return typeof t=="string"||Array.isArray(t)}const L_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],U_=["initial",...L_];function ap(t){return ip(t.animate)||U_.some(e=>rh(t[e]))}function CN(t){return!!(ap(t)||t.variants)}function r7(t,e){if(ap(t)){const{initial:n,animate:s}=t;return{initial:n===!1||rh(n)?n:void 0,animate:rh(s)?s:void 0}}return t.inherit!==!1?e:{}}function i7(t){const{initial:e,animate:n}=r7(t,V.useContext(rp));return V.useMemo(()=>({initial:e,animate:n}),[KS(e),KS(n)])}function KS(t){return Array.isArray(t)?t.join(" "):t}const ih={};function a7(t){for(const e in t)ih[e]=t[e],w_(e)&&(ih[e].isCSSVariable=!0)}function IN(t,{layout:e,layoutId:n}){return ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ih[t]||t==="opacity")}const o7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},l7=au.length;function u7(t,e,n){let s="",a=!0;for(let l=0;l<l7;l++){const u=au[l],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=_N(h,M_[u]);if(!f){a=!1;const g=o7[u]||u;s+=`${g}(${p}) `}n&&(e[u]=p)}}return s=s.trim(),n?s=n(e,a?"":s):a&&(s="none"),s}function B_(t,e,n){const{style:s,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(ou.has(f)){u=!0;continue}else if(w_(f)){a[f]=p;continue}else{const g=_N(p,M_[f]);f.startsWith("origin")?(h=!0,l[f]=g):s[f]=g}}if(e.transform||(u||n?s.transform=u7(e,t.transform,n):s.transform&&(s.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=l;s.transformOrigin=`${f} ${p} ${g}`}}const F_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NN(t,e,n){for(const s in e)!Sn(e[s])&&!IN(s,n)&&(t[s]=e[s])}function c7({transformTemplate:t},e){return V.useMemo(()=>{const n=F_();return B_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function h7(t,e){const n=t.style||{},s={};return NN(s,n,t),Object.assign(s,c7(t,e)),s}function d7(t,e){const n={},s=h7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const f7={offset:"stroke-dashoffset",array:"stroke-dasharray"},m7={offset:"strokeDashoffset",array:"strokeDasharray"};function p7(t,e,n=1,s=0,a=!0){t.pathLength=1;const l=a?f7:m7;t[l.offset]=je.transform(-s);const u=je.transform(e),h=je.transform(n);t[l.array]=`${u} ${h}`}function DN(t,{attrX:e,attrY:n,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},f,p,g){if(B_(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:E}=t;b.transform&&(E.transform=b.transform,delete b.transform),(E.transform||b.transformOrigin)&&(E.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),E.transform&&(E.transformBox=g?.transformBox??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),s!==void 0&&(b.scale=s),a!==void 0&&p7(b,a,l,u,!1)}const PN=()=>({...F_(),attrs:{}}),MN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function g7(t,e,n,s){const a=V.useMemo(()=>{const l=PN();return DN(l,e,MN(s),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};NN(l,t.style,t),a.style={...l,...a.style}}return a}const y7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z_(t){return typeof t!="string"||t.includes("-")?!1:!!(y7.indexOf(t)>-1||/[A-Z]/u.test(t))}function v7(t,e,n,{latestValues:s},a,l=!1){const h=(z_(t)?g7:d7)(e,s,a,t),f=s7(e,typeof t=="string",l),p=t!==V.Fragment?{...f,...h,ref:n}:{},{children:g}=e,b=V.useMemo(()=>Sn(g)?g.get():g,[g]);return V.createElement(t,{...p,children:b})}function WS(t){const e=[{},{}];return t?.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function q_(t,e,n,s){if(typeof e=="function"){const[a,l]=WS(s);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=WS(s);e=e(n!==void 0?n:t.custom,a,l)}return e}function jf(t){return Sn(t)?t.get():t}function _7({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,a){return{latestValues:b7(n,s,a,t),renderState:e()}}function b7(t,e,n,s){const a={},l=s(t,{});for(const E in l)a[E]=jf(l[E]);let{initial:u,animate:h}=t;const f=ap(t),p=CN(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const b=g?h:u;if(b&&typeof b!="boolean"&&!ip(b)){const E=Array.isArray(b)?b:[b];for(let x=0;x<E.length;x++){const D=q_(t,E[x]);if(D){const{transitionEnd:M,transition:k,...O}=D;for(const P in O){let q=O[P];if(Array.isArray(q)){const se=g?q.length-1:0;q=q[se]}q!==null&&(a[P]=q)}for(const P in M)a[P]=M[P]}}}return a}const ON=t=>(e,n)=>{const s=V.useContext(rp),a=V.useContext(sp),l=()=>_7(t,e,s,a);return n?l():f_(l)};function H_(t,e,n){const{style:s}=t,a={};for(const l in s)(Sn(s[l])||e.style&&Sn(e.style[l])||IN(l,t)||n?.getValue(l)?.liveStyle!==void 0)&&(a[l]=s[l]);return a}const E7=ON({scrapeMotionValuesFromProps:H_,createRenderState:F_});function VN(t,e,n){const s=H_(t,e,n);for(const a in t)if(Sn(t[a])||Sn(e[a])){const l=au.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=t[a]}return s}const w7=ON({scrapeMotionValuesFromProps:VN,createRenderState:PN}),T7=Symbol.for("motionComponentSymbol");function Il(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function x7(t,e,n){return V.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Il(n)&&(n.current=s))},[e])}const G_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),S7="framerAppearId",kN="data-"+G_(S7),jN=V.createContext({});function A7(t,e,n,s,a){const{visualElement:l}=V.useContext(rp),u=V.useContext(AN),h=V.useContext(sp),f=V.useContext(k_).reducedMotion,p=V.useRef(null);s=s||u.renderer,!p.current&&s&&(p.current=s(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,b=V.useContext(jN);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&R7(p.current,n,a,b);const E=V.useRef(!1);V.useInsertionEffect(()=>{g&&E.current&&g.update(n,h)});const x=n[kN],D=V.useRef(!!x&&!window.MotionHandoffIsComplete?.(x)&&window.MotionHasOptimisedAnimation?.(x));return OI(()=>{g&&(E.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),D.current&&g.animationState&&g.animationState.animateChanges())}),V.useEffect(()=>{g&&(!D.current&&g.animationState&&g.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(x)}),D.current=!1),g.enteringChildren=void 0)}),g}function R7(t,e,n,s){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:LN(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Il(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:g,layoutScroll:f,layoutRoot:p})}function LN(t){if(t)return t.options.allowProjection!==!1?t.projection:LN(t.parent)}function ky(t,{forwardMotionProps:e=!1}={},n,s){n&&e7(n);const a=z_(t)?w7:E7;function l(h,f){let p;const g={...V.useContext(k_),...h,layoutId:C7(h)},{isStatic:b}=g,E=i7(h),x=a(h,b);if(!b&&m_){I7();const D=N7(g);p=D.MeasureLayout,E.visualElement=A7(t,x,g,s,D.ProjectionNode)}return v.jsxs(rp.Provider,{value:E,children:[p&&E.visualElement?v.jsx(p,{visualElement:E.visualElement,...g}):null,v7(t,h,x7(x,E.visualElement,f),x,b,e)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=V.forwardRef(l);return u[T7]=t,u}function C7({layoutId:t}){const e=V.useContext(d_).id;return e&&t!==void 0?e+"-"+t:t}function I7(t,e){V.useContext(AN).strict}function N7(t){const{drag:e,layout:n}=Wl;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function D7(t,e){if(typeof Proxy>"u")return ky;const n=new Map,s=(l,u)=>ky(l,u,t,e),a=(l,u)=>s(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?s:(n.has(u)||n.set(u,ky(u,void 0,t,e)),n.get(u))})}function UN({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function P7({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function M7(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function jy(t){return t===void 0||t===1}function Gv({scale:t,scaleX:e,scaleY:n}){return!jy(t)||!jy(e)||!jy(n)}function ho(t){return Gv(t)||BN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BN(t){return YS(t.x)||YS(t.y)}function YS(t){return t&&t!=="0%"}function _m(t,e,n){const s=t-n,a=e*s;return n+a}function QS(t,e,n,s,a){return a!==void 0&&(t=_m(t,a,s)),_m(t,n,s)+e}function $v(t,e=0,n=1,s,a){t.min=QS(t.min,e,n,s,a),t.max=QS(t.max,e,n,s,a)}function FN(t,{x:e,y:n}){$v(t.x,e.translate,e.scale,e.originPoint),$v(t.y,n.translate,n.scale,n.originPoint)}const XS=.999999999999,ZS=1.0000000000001;function O7(t,e,n,s=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Dl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,FN(t,u)),s&&ho(l.latestValues)&&Dl(t,l.latestValues))}e.x<ZS&&e.x>XS&&(e.x=1),e.y<ZS&&e.y>XS&&(e.y=1)}function Nl(t,e){t.min=t.min+e,t.max=t.max+e}function JS(t,e,n,s,a=.5){const l=xt(t.min,t.max,a);$v(t,e,n,l,s)}function Dl(t,e){JS(t.x,e.x,e.scaleX,e.scale,e.originX),JS(t.y,e.y,e.scaleY,e.scale,e.originY)}function zN(t,e){return UN(M7(t.getBoundingClientRect(),e))}function V7(t,e,n){const s=zN(t,n),{scroll:a}=e;return a&&(Nl(s.x,a.offset.x),Nl(s.y,a.offset.y)),s}const e1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pl=()=>({x:e1(),y:e1()}),t1=()=>({min:0,max:0}),Mt=()=>({x:t1(),y:t1()}),Kv={current:null},qN={current:!1};function k7(){if(qN.current=!0,!!m_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kv.current=t.matches;t.addEventListener("change",e),e()}else Kv.current=!1}const j7=new WeakMap;function L7(t,e,n){for(const s in e){const a=e[s],l=n[s];if(Sn(a))t.addValue(s,a);else if(Sn(l))t.addValue(s,Kl(a,{owner:t}));else if(l!==a)if(t.hasValue(s)){const u=t.getValue(s);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(s);t.addValue(s,Kl(u!==void 0?u:a,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const n1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class U7{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=D_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const E=Hn.now();this.renderScheduledAt<E&&(this.renderScheduledAt=E,bt.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=ap(n),this.isVariantNode=CN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const E in b){const x=b[E];f[E]!==void 0&&Sn(x)&&x.set(f[E])}}mount(e){this.current=e,j7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),qN.current||k7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kv.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wa(this.notifyUpdate),wa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=ou.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wl){const n=Wl[e];if(!n)continue;const{isEnabled:s,Feature:a}=n;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<n1.length;s++){const a=n1[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=L7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=Kl(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(VI(s)||jI(s))?s=parseFloat(s):!YF(s)&&Ta.test(n)&&(s=vN(e,n)),this.setBaseTarget(e,Sn(s)?s.get():s)),Sn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=q_(this.props,n,this.presenceContext?.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Sn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new __),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){O_.render(this.render)}}class HN extends U7{constructor(){super(...arguments),this.KeyframeResolver=jF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Sn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function GN(t,{style:e,vars:n},s,a){const l=t.style;let u;for(u in e)l[u]=e[u];a?.applyProjectionStyles(l,s);for(u in n)l.setProperty(u,n[u])}function B7(t){return window.getComputedStyle(t)}class F7 extends HN{constructor(){super(...arguments),this.type="html",this.renderInstance=GN}readValueFromInstance(e,n){if(ou.has(n))return this.projection?.isProjecting?Lv(n):nF(e,n);{const s=B7(e),a=(w_(n)?s.getPropertyValue(n):s[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zN(e,n)}build(e,n,s){B_(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return H_(e,n,s)}}const $N=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function z7(t,e,n,s){GN(t,e,void 0,s);for(const a in e.attrs)t.setAttribute($N.has(a)?a:G_(a),e.attrs[a])}class q7 extends HN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Mt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ou.has(n)){const s=yN(n);return s&&s.default||0}return n=$N.has(n)?n:G_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return VN(e,n,s)}build(e,n,s){DN(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,a){z7(e,n,s,a)}mount(e){this.isSVGTag=MN(e.tagName),super.mount(e)}}const H7=(t,e)=>z_(t)?new q7(e):new F7(e,{allowProjection:t!==V.Fragment});function Ll(t,e,n){const s=t.getProps();return q_(s,e,n!==void 0?n:s.custom,t)}const Wv=t=>Array.isArray(t);function G7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Kl(n))}function $7(t){return Wv(t)?t[t.length-1]||0:t}function K7(t,e){const n=Ll(t,e);let{transitionEnd:s={},transition:a={},...l}=n||{};l={...l,...s};for(const u in l){const h=$7(l[u]);G7(t,u,h)}}function W7(t){return!!(Sn(t)&&t.add)}function Yv(t,e){const n=t.getValue("willChange");if(W7(n))return n.add(e);if(!n&&bi.WillChange){const s=new bi.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function KN(t){return t.props[kN]}const Y7=t=>t!==null;function Q7(t,{repeat:e,repeatType:n="loop"},s){const a=t.filter(Y7),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const X7={type:"spring",stiffness:500,damping:25,restSpeed:10},Z7=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),J7={type:"keyframes",duration:.8},e8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t8=(t,{keyframes:e})=>e.length>2?J7:ou.has(t)?t.startsWith("scale")?Z7(e[1]):X7:e8;function n8({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const $_=(t,e,n,s={},a,l)=>u=>{const h=P_(s,t)||{},f=h.delay||s.delay||0;let{elapsed:p=0}=s;p=p-xr(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};n8(h)||Object.assign(g,t8(t,g)),g.duration&&(g.duration=xr(g.duration)),g.repeatDelay&&(g.repeatDelay=xr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let b=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(qv(g),g.delay===0&&(b=!0)),(bi.instantAnimations||bi.skipAnimations)&&(b=!0,qv(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,b&&!l&&e.get()!==void 0){const E=Q7(g.keyframes,h);if(E!==void 0){bt.update(()=>{g.onUpdate(E),g.onComplete()});return}}return h.isSync?new N_(g):new SF(g)};function s8({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function WN(t,e,{delay:n=0,transitionOverride:s,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;s&&(l=s);const f=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const b=t.getValue(g,t.latestValues[g]??null),E=h[g];if(E===void 0||p&&s8(p,g))continue;const x={delay:n,...P_(l||{},g)},D=b.get();if(D!==void 0&&!b.isAnimating&&!Array.isArray(E)&&E===D&&!x.velocity)continue;let M=!1;if(window.MotionHandoffAnimation){const O=KN(t);if(O){const P=window.MotionHandoffAnimation(O,g,bt);P!==null&&(x.startTime=P,M=!0)}}Yv(t,g),b.start($_(g,b,E,t.shouldReduceMotion&&mN.has(g)?{type:!1}:x,t,M));const k=b.animation;k&&f.push(k)}return u&&Promise.all(f).then(()=>{bt.update(()=>{u&&K7(t,u)})}),f}function YN(t,e,n,s=0,a=1){const l=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*s;return typeof n=="function"?n(l,u):a===1?l*s:h-l*s}function Qv(t,e,n={}){const s=Ll(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(WN(t,s,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:b}=a;return r8(t,e,f,p,g,b,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[f,p]=h==="beforeChildren"?[l,u]:[u,l];return f().then(()=>p())}else return Promise.all([l(),u(n.delay)])}function r8(t,e,n=0,s=0,a=0,l=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(Qv(f,e,{...u,delay:n+(typeof s=="function"?0:s)+YN(t.variantChildren,f,s,a,l)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function i8(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>Qv(t,l,n));s=Promise.all(a)}else if(typeof e=="string")s=Qv(t,e,n);else{const a=typeof e=="function"?Ll(t,e,n.custom):e;s=Promise.all(WN(t,a,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function QN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const a8=U_.length;function XN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?XN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<a8;n++){const s=U_[n],a=t.props[s];(rh(a)||a===!1)&&(e[s]=a)}return e}const o8=[...L_].reverse(),l8=L_.length;function u8(t){return e=>Promise.all(e.map(({animation:n,options:s})=>i8(t,n,s)))}function c8(t){let e=u8(t),n=s1(),s=!0;const a=f=>(p,g)=>{const b=Ll(t,g,f==="exit"?t.presenceContext?.custom:void 0);if(b){const{transition:E,transitionEnd:x,...D}=b;p={...p,...D,...x}}return p};function l(f){e=f(t)}function u(f){const{props:p}=t,g=XN(t.parent)||{},b=[],E=new Set;let x={},D=1/0;for(let k=0;k<l8;k++){const O=o8[k],P=n[O],q=p[O]!==void 0?p[O]:g[O],se=rh(q),Q=O===f?P.isActive:null;Q===!1&&(D=k);let ce=q===g[O]&&q!==p[O]&&se;if(ce&&s&&t.manuallyAnimateOnMount&&(ce=!1),P.protectedKeys={...x},!P.isActive&&Q===null||!q&&!P.prevProp||ip(q)||typeof q=="boolean")continue;const j=h8(P.prevProp,q);let A=j||O===f&&P.isActive&&!ce&&se||k>D&&se,N=!1;const L=Array.isArray(q)?q:[q];let B=L.reduce(a(O),{});Q===!1&&(B={});const{prevResolvedValues:I={}}=P,C={...I,...B},ve=te=>{A=!0,E.has(te)&&(N=!0,E.delete(te)),P.needsAnimating[te]=!0;const me=t.getValue(te);me&&(me.liveStyle=!1)};for(const te in C){const me=B[te],Ne=I[te];if(x.hasOwnProperty(te))continue;let F=!1;Wv(me)&&Wv(Ne)?F=!QN(me,Ne):F=me!==Ne,F?me!=null?ve(te):E.add(te):me!==void 0&&E.has(te)?ve(te):P.protectedKeys[te]=!0}P.prevProp=q,P.prevResolvedValues=B,P.isActive&&(x={...x,...B}),s&&t.blockInitialAnimation&&(A=!1);const xe=ce&&j;A&&(!xe||N)&&b.push(...L.map(te=>{const me={type:O};if(typeof te=="string"&&s&&!xe&&t.manuallyAnimateOnMount&&t.parent){const{parent:Ne}=t,F=Ll(Ne,te);if(Ne.enteringChildren&&F){const{delayChildren:ue}=F.transition||{};me.delay=YN(Ne.enteringChildren,t,ue)}}return{animation:te,options:me}}))}if(E.size){const k={};if(typeof p.initial!="boolean"){const O=Ll(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(k.transition=O.transition)}E.forEach(O=>{const P=t.getBaseTarget(O),q=t.getValue(O);q&&(q.liveStyle=!0),k[O]=P??null}),b.push({animation:k})}let M=!!b.length;return s&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),s=!1,M?e(b):Promise.resolve()}function h(f,p){if(n[f].isActive===p)return Promise.resolve();t.variantChildren?.forEach(b=>b.animationState?.setActive(f,p)),n[f].isActive=p;const g=u(f);for(const b in n)n[b].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=s1(),s=!0}}}function h8(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!QN(e,t):!1}function oo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function s1(){return{animate:oo(!0),whileInView:oo(),whileHover:oo(),whileTap:oo(),whileDrag:oo(),whileFocus:oo(),exit:oo()}}class Da{constructor(e){this.isMounted=!1,this.node=e}update(){}}class d8 extends Da{constructor(e){super(e),e.animationState||(e.animationState=c8(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ip(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let f8=0;class m8 extends Da{constructor(){super(...arguments),this.id=f8++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const p8={animation:{Feature:d8},exit:{Feature:m8}};function ah(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Ah(t){return{point:{x:t.pageX,y:t.pageY}}}const g8=t=>e=>V_(e)&&t(e,Ah(e));function jc(t,e,n,s){return ah(t,e,g8(n),s)}const ZN=1e-4,y8=1-ZN,v8=1+ZN,JN=.01,_8=0-JN,b8=0+JN;function On(t){return t.max-t.min}function E8(t,e,n){return Math.abs(t-e)<=n}function r1(t,e,n,s=.5){t.origin=s,t.originPoint=xt(e.min,e.max,t.origin),t.scale=On(n)/On(e),t.translate=xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=y8&&t.scale<=v8||isNaN(t.scale))&&(t.scale=1),(t.translate>=_8&&t.translate<=b8||isNaN(t.translate))&&(t.translate=0)}function Lc(t,e,n,s){r1(t.x,e.x,n.x,s?s.originX:void 0),r1(t.y,e.y,n.y,s?s.originY:void 0)}function i1(t,e,n){t.min=n.min+e.min,t.max=t.min+On(e)}function w8(t,e,n){i1(t.x,e.x,n.x),i1(t.y,e.y,n.y)}function a1(t,e,n){t.min=e.min-n.min,t.max=t.min+On(e)}function Uc(t,e,n){a1(t.x,e.x,n.x),a1(t.y,e.y,n.y)}function Es(t){return[t("x"),t("y")]}const e2=({current:t})=>t?t.ownerDocument.defaultView:null,o1=(t,e)=>Math.abs(t-e);function T8(t,e){const n=o1(t.x,e.x),s=o1(t.y,e.y);return Math.sqrt(n**2+s**2)}class t2{constructor(e,n,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Uy(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,D=T8(E.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!D)return;const{point:M}=E,{timestamp:k}=fn;this.history.push({...M,timestamp:k});const{onStart:O,onMove:P}=this.handlers;x||(O&&O(this.lastMoveEvent,E),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,E)},this.handlePointerMove=(E,x)=>{this.lastMoveEvent=E,this.lastMoveEventInfo=Ly(x,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(E,x)=>{this.end();const{onEnd:D,onSessionEnd:M,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Uy(E.type==="pointercancel"?this.lastMoveEventInfo:Ly(x,this.transformPagePoint),this.history);this.startEvent&&D&&D(E,O),M&&M(E,O)},!V_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=u,this.contextWindow=a||window;const h=Ah(e),f=Ly(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=fn;this.history=[{...p,timestamp:g}];const{onSessionStart:b}=n;b&&b(e,Uy(f,this.history)),this.removeListeners=Th(jc(this.contextWindow,"pointermove",this.handlePointerMove),jc(this.contextWindow,"pointerup",this.handlePointerUp),jc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wa(this.updatePoint)}}function Ly(t,e){return e?{point:e(t.point)}:t}function l1(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Uy({point:t},e){return{point:t,delta:l1(t,n2(e)),offset:l1(t,x8(e)),velocity:S8(e,.1)}}function x8(t){return t[0]}function n2(t){return t[t.length-1]}function S8(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const a=n2(t);for(;n>=0&&(s=t[n],!(a.timestamp-s.timestamp>xr(e)));)n--;if(!s)return{x:0,y:0};const l=Sr(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function A8(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?xt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?xt(n,t,s.max):Math.min(t,n)),t}function u1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function R8(t,{top:e,left:n,bottom:s,right:a}){return{x:u1(t.x,n,a),y:u1(t.y,e,s)}}function c1(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function C8(t,e){return{x:c1(t.x,e.x),y:c1(t.y,e.y)}}function I8(t,e){let n=.5;const s=On(t),a=On(e);return a>s?n=th(e.min,e.max-s,t.min):s>a&&(n=th(t.min,t.max-a,e.min)),_i(0,1,n)}function N8(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Xv=.35;function D8(t=Xv){return t===!1?t=0:t===!0&&(t=Xv),{x:h1(t,"left","right"),y:h1(t,"top","bottom")}}function h1(t,e,n){return{min:d1(t,e),max:d1(t,n)}}function d1(t,e){return typeof t=="number"?t:t[e]||0}const P8=new WeakMap;class M8{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Mt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=b=>{const{dragSnapToOrigin:E}=this.getProps();E?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ah(b).point)},u=(b,E)=>{const{drag:x,dragPropagation:D,onDragStart:M}=this.getProps();if(x&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=FF(x),!this.openDragLock))return;this.latestPointerEvent=b,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(O=>{let P=this.getAxisMotionValue(O).get()||0;if(Ar.test(P)){const{projection:q}=this.visualElement;if(q&&q.layout){const se=q.layout.layoutBox[O];se&&(P=On(se)*(parseFloat(P)/100))}}this.originPoint[O]=P}),M&&bt.postRender(()=>M(b,E)),Yv(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E;const{dragPropagation:x,dragDirectionLock:D,onDirectionLock:M,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:O}=E;if(D&&this.currentDirection===null){this.currentDirection=O8(O),this.currentDirection!==null&&M&&M(this.currentDirection);return}this.updateAxis("x",E.point,O),this.updateAxis("y",E.point,O),this.visualElement.render(),k&&k(b,E)},f=(b,E)=>{this.latestPointerEvent=b,this.latestPanInfo=E,this.stop(b,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Es(b=>this.getAnimationState(b)==="paused"&&this.getAxisMotionValue(b).animation?.play()),{dragSnapToOrigin:g}=this.getProps();this.panSession=new t2(e,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:s,contextWindow:e2(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,a=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&bt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:a}=this.getProps();if(!s||!yf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=A8(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Il(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=R8(s.layoutBox,e):this.constraints=!1,this.elastic=D8(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Es(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=N8(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Il(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=V7(s,a.root,this.visualElement.getTransformPagePoint());let u=C8(a.layout.layoutBox,l);if(n){const h=n(P7(u));this.hasMutatedConstraints=!!h,h&&(u=UN(h))}return u}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Es(g=>{if(!yf(g,n,this.currentDirection))return;let b=f&&f[g]||{};u&&(b={min:0,max:0});const E=a?200:1e6,x=a?40:1e7,D={type:"inertia",velocity:s?e[g]:0,bounceStiffness:E,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(g,D)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return Yv(this.visualElement,e),s.start($_(e,s,0,n,this.visualElement,!1))}stopAnimation(){Es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Es(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[n];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Es(n=>{const{drag:s}=this.getProps();if(!yf(n,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-xt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Il(n)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Es(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=I8({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Es(u=>{if(!yf(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(xt(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;P8.set(this.visualElement,this);const e=this.visualElement.current,n=jc(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Il(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",s);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),bt.read(s);const u=ah(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Es(g=>{const b=this.getAxisMotionValue(g);b&&(this.originPoint[g]+=f[g].translate,b.set(b.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=Xv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function yf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function O8(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class V8 extends Da{constructor(e){super(e),this.removeGroupControls=Ss,this.removeListeners=Ss,this.controls=new M8(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const f1=t=>(e,n)=>{t&&bt.postRender(()=>t(e,n))};class k8 extends Da{constructor(){super(...arguments),this.removePointerDownListener=Ss}onPointerDown(e){this.session=new t2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:e2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:f1(e),onStart:f1(n),onMove:s,onEnd:(l,u)=>{delete this.session,a&&bt.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=jc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lf={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function m1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const pc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(je.test(t))t=parseFloat(t);else return t;const n=m1(t,e.target.x),s=m1(t,e.target.y);return`${n}% ${s}%`}},j8={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,a=Ta.parse(t);if(a.length>5)return s;const l=Ta.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const p=xt(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};let By=!1;class L8 extends V.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;a7(U8),l&&(n.group&&n.group.add(l),s&&s.register&&a&&s.register(l),By&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Lf.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:a,isPresent:l}=this.props,{projection:u}=s;return u&&(u.isPresent=l,By=!0,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||bt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),O_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:a}=e;By=!0,a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function s2(t){const[e,n]=SN(),s=V.useContext(d_);return v.jsx(L8,{...t,layoutGroup:s,switchLayoutGroup:V.useContext(jN),isPresent:e,safeToRemove:n})}const U8={borderRadius:{...pc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:pc,borderTopRightRadius:pc,borderBottomLeftRadius:pc,borderBottomRightRadius:pc,boxShadow:j8};function B8(t,e,n){const s=Sn(t)?t:Kl(t);return s.start($_("",s,e,n)),s.animation}const F8=(t,e)=>t.depth-e.depth;class z8{constructor(){this.children=[],this.isDirty=!1}add(e){p_(this.children,e),this.isDirty=!0}remove(e){g_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(F8),this.isDirty=!1,this.children.forEach(e)}}function q8(t,e){const n=Hn.now(),s=({timestamp:a})=>{const l=a-n;l>=e&&(wa(s),t(l-e))};return bt.setup(s,!0),()=>wa(s)}const r2=["TopLeft","TopRight","BottomLeft","BottomRight"],H8=r2.length,p1=t=>typeof t=="string"?parseFloat(t):t,g1=t=>typeof t=="number"||je.test(t);function G8(t,e,n,s,a,l){a?(t.opacity=xt(0,n.opacity??1,$8(s)),t.opacityExit=xt(e.opacity??1,0,K8(s))):l&&(t.opacity=xt(e.opacity??1,n.opacity??1,s));for(let u=0;u<H8;u++){const h=`border${r2[u]}Radius`;let f=y1(e,h),p=y1(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||g1(f)===g1(p)?(t[h]=Math.max(xt(p1(f),p1(p),s),0),(Ar.test(p)||Ar.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=xt(e.rotate||0,n.rotate||0,s))}function y1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $8=i2(0,.5,GI),K8=i2(.5,.95,Ss);function i2(t,e,n){return s=>s<t?0:s>e?1:n(th(t,e,s))}function v1(t,e){t.min=e.min,t.max=e.max}function _s(t,e){v1(t.x,e.x),v1(t.y,e.y)}function _1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function b1(t,e,n,s,a){return t-=e,t=_m(t,1/n,s),a!==void 0&&(t=_m(t,1/a,s)),t}function W8(t,e=0,n=1,s=.5,a,l=t,u=t){if(Ar.test(e)&&(e=parseFloat(e),e=xt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=xt(l.min,l.max,s);t===l&&(h-=e),t.min=b1(t.min,e,n,h,a),t.max=b1(t.max,e,n,h,a)}function E1(t,e,[n,s,a],l,u){W8(t,e[n],e[s],e[a],e.scale,l,u)}const Y8=["x","scaleX","originX"],Q8=["y","scaleY","originY"];function w1(t,e,n,s){E1(t.x,e,Y8,n?n.x:void 0,s?s.x:void 0),E1(t.y,e,Q8,n?n.y:void 0,s?s.y:void 0)}function T1(t){return t.translate===0&&t.scale===1}function a2(t){return T1(t.x)&&T1(t.y)}function x1(t,e){return t.min===e.min&&t.max===e.max}function X8(t,e){return x1(t.x,e.x)&&x1(t.y,e.y)}function S1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function o2(t,e){return S1(t.x,e.x)&&S1(t.y,e.y)}function A1(t){return On(t.x)/On(t.y)}function R1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Z8{constructor(){this.members=[]}add(e){p_(this.members,e),e.scheduleRender()}remove(e){if(g_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let s;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J8(t,e,n){let s="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=n?.z||0;if((a||l||u)&&(s=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:b,rotateY:E,skewX:x,skewY:D}=n;p&&(s=`perspective(${p}px) ${s}`),g&&(s+=`rotate(${g}deg) `),b&&(s+=`rotateX(${b}deg) `),E&&(s+=`rotateY(${E}deg) `),x&&(s+=`skewX(${x}deg) `),D&&(s+=`skewY(${D}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(s+=`scale(${h}, ${f})`),s||"none"}const Fy=["","X","Y","Z"],ez=1e3;let tz=0;function zy(t,e,n,s){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),s&&(s[t]=0))}function l2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KN(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",bt,!(a||l))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&l2(s)}function u2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(u={},h=e?.()){this.id=tz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rz),this.nodes.forEach(lz),this.nodes.forEach(uz),this.nodes.forEach(iz)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new z8)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new __),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=xN(u)&&!KF(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,b=0;const E=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{b=window.innerWidth}),t(u,()=>{const x=window.innerWidth;x!==b&&(b=x,this.root.updateBlockedByResize=!0,g&&g(),g=q8(E,250),Lf.hasAnimatedSinceResize&&(Lf.hasAnimatedSinceResize=!1,this.nodes.forEach(N1)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:b,hasRelativeLayoutChanged:E,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||mz,{onLayoutAnimationStart:M,onLayoutAnimationComplete:k}=p.getProps(),O=!this.targetLayout||!o2(this.targetLayout,x),P=!b&&E;if(this.options.layoutRoot||this.resumeFrom||P||b&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const q={...P_(D,"layout"),onPlay:M,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(q.delay=0,q.type=!1),this.startAnimation(q),this.setAnimationOrigin(g,P)}else b||N1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const b=this.path[g];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(I1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oz),this.nodes.forEach(nz),this.nodes.forEach(sz)):this.nodes.forEach(I1),this.clearAllSnapshots();const h=Hn.now();fn.delta=_i(0,1e3/60,h-fn.timestamp),fn.timestamp=h,fn.isProcessing=!0,Ny.update.process(fn),Ny.preRender.process(fn),Ny.render.process(fn),fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,O_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(az),this.sharedNodes.forEach(hz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!On(this.snapshot.measuredBox.x)&&!On(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=s(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!a2(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||ho(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),pz(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Mt();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(gz))){const{scroll:p}=this.root;p&&(Nl(h.x,p.offset.x),Nl(h.y,p.offset.y))}return h}removeElementScroll(u){const h=Mt();if(_s(h,u),this.scroll?.wasRoot)return h;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:g,options:b}=p;p!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&_s(h,u),Nl(h.x,g.offset.x),Nl(h.y,g.offset.y))}return h}applyTransform(u,h=!1){const f=Mt();_s(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Dl(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ho(g.latestValues)&&Dl(f,g.latestValues)}return ho(this.latestValues)&&Dl(f,this.latestValues),f}removeTransform(u){const h=Mt();_s(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ho(p.latestValues))continue;Gv(p.latestValues)&&p.updateSnapshot();const g=Mt(),b=p.measurePageBox();_s(g,b),w1(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return ho(this.latestValues)&&w1(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:b}=this.options;if(!(!this.layout||!(g||b))){if(this.resolvedRelativeTargetAt=fn.timestamp,!this.targetDelta&&!this.relativeTarget){const E=this.getClosestProjectingParent();E&&E.layout&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Uc(this.relativeTargetOrigin,this.layout.layoutBox,E.layout.layoutBox),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Mt(),this.targetWithTransforms=Mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w8(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):_s(this.target,this.layout.layoutBox),FN(this.target,this.targetDelta)):_s(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const E=this.getClosestProjectingParent();E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?(this.relativeParent=E,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Mt(),this.relativeTargetOrigin=Mt(),Uc(this.relativeTargetOrigin,this.target,E.target),_s(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gv(this.parent.latestValues)||BN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===fn.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;_s(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,E=this.treeScale.y;O7(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Mt());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_1(this.prevProjectionDelta.x,this.projectionDelta.x),_1(this.prevProjectionDelta.y,this.projectionDelta.y)),Lc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==E||!R1(this.projectionDelta.x,this.prevProjectionDelta.x)||!R1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pl(),this.projectionDelta=Pl(),this.projectionDeltaWithTransform=Pl()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},b=Pl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=Mt(),x=f?f.source:void 0,D=this.layout?this.layout.source:void 0,M=x!==D,k=this.getStack(),O=!k||k.members.length<=1,P=!!(M&&!O&&this.options.crossfade===!0&&!this.path.some(fz));this.animationProgress=0;let q;this.mixTargetDelta=se=>{const Q=se/1e3;D1(b.x,u.x,Q),D1(b.y,u.y,Q),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uc(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dz(this.relativeTarget,this.relativeTargetOrigin,E,Q),q&&X8(this.relativeTarget,q)&&(this.isProjectionDirty=!1),q||(q=Mt()),_s(q,this.relativeTarget)),M&&(this.animationValues=g,G8(g,p,this.latestValues,Q,P,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Lf.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kl(0)),this.currentAnimation=B8(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ez),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&c2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||Mt();const b=On(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+b;const E=On(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}_s(h,f),Dl(h,g),Lc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new Z8),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&zy("z",u,p,this.animationValues);for(let g=0;g<Fy.length;g++)zy(`rotate${Fy[g]}`,u,p,this.animationValues),zy(`skew${Fy[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jf(h?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jf(h?.pointerEvents)||""),this.hasProjected&&!ho(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let b=J8(this.projectionDeltaWithTransform,this.treeScale,g);f&&(b=f(g,b)),u.transform=b;const{x:E,y:x}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${x.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const D in ih){if(g[D]===void 0)continue;const{correct:M,applyTo:k,isCSSVariable:O}=ih[D],P=b==="none"?g[D]:M(g[D],p);if(k){const q=k.length;for(let se=0;se<q;se++)u[k[se]]=P}else O?this.options.visualElement.renderState.vars[D]=P:u[D]=P}this.options.layoutId&&(u.pointerEvents=p===this?jf(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(C1),this.root.sharedNodes.clear()}}}function nz(t){t.updateLayout()}function sz(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Es(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],E=On(b);b.min=n[g].min,b.max=b.min+E}):c2(a,e.layoutBox,n)&&Es(g=>{const b=l?e.measuredBox[g]:e.layoutBox[g],E=On(n[g]);b.max=b.min+E,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+E)});const u=Pl();Lc(u,n,e.layoutBox);const h=Pl();l?Lc(h,t.applyTransform(s,!0),e.measuredBox):Lc(h,n,e.layoutBox);const f=!a2(u);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:E}=g;if(b&&E){const x=Mt();Uc(x,e.layoutBox,b.layoutBox);const D=Mt();Uc(D,n,E.layoutBox),o2(x,D)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=x,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:h,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function rz(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iz(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function az(t){t.clearSnapshot()}function C1(t){t.clearMeasurements()}function I1(t){t.isLayoutDirty=!1}function oz(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function N1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lz(t){t.resolveTargetDelta()}function uz(t){t.calcProjection()}function cz(t){t.resetSkewAndRotation()}function hz(t){t.removeLeadSnapshot()}function D1(t,e,n){t.translate=xt(e.translate,0,n),t.scale=xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P1(t,e,n,s){t.min=xt(e.min,n.min,s),t.max=xt(e.max,n.max,s)}function dz(t,e,n,s){P1(t.x,e.x,n.x,s),P1(t.y,e.y,n.y,s)}function fz(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mz={duration:.45,ease:[.4,0,.1,1]},M1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),O1=M1("applewebkit/")&&!M1("chrome/")?Math.round:Ss;function V1(t){t.min=O1(t.min),t.max=O1(t.max)}function pz(t){V1(t.x),V1(t.y)}function c2(t,e,n){return t==="position"||t==="preserve-aspect"&&!E8(A1(e),A1(n),.2)}function gz(t){return t!==t.root&&t.scroll?.wasRoot}const yz=u2({attachResizeListener:(t,e)=>ah(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qy={current:void 0},h2=u2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qy.current){const t=new yz({});t.mount(window),t.setOptions({layoutScroll:!0}),qy.current=t}return qy.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vz={pan:{Feature:k8},drag:{Feature:V8,ProjectionNode:h2,MeasureLayout:s2}};function k1(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=s[a];l&&bt.postRender(()=>l(e,Ah(e)))}class _z extends Da{mount(){const{current:e}=this.node;e&&(this.unmount=zF(e,(n,s)=>(k1(this.node,s,"Start"),a=>k1(this.node,a,"End"))))}unmount(){}}class bz extends Da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Th(ah(this.node.current,"focus",()=>this.onFocus()),ah(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function j1(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=s[a];l&&bt.postRender(()=>l(e,Ah(e)))}class Ez extends Da{mount(){const{current:e}=this.node;e&&(this.unmount=$F(e,(n,s)=>(j1(this.node,s,"Start"),(a,{success:l})=>j1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Zv=new WeakMap,Hy=new WeakMap,wz=t=>{const e=Zv.get(t.target);e&&e(t)},Tz=t=>{t.forEach(wz)};function xz({root:t,...e}){const n=t||document;Hy.has(n)||Hy.set(n,{});const s=Hy.get(n),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(Tz,{root:t,...e})),s[a]}function Sz(t,e,n){const s=xz(e);return Zv.set(t,n),s.observe(t),()=>{Zv.delete(t),s.unobserve(t)}}const Az={some:0,all:1};class Rz extends Da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:Az[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:b}=this.node.getProps(),E=p?g:b;E&&E(f)};return Sz(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cz(e,n))&&this.startObserver()}unmount(){}}function Cz({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Iz={inView:{Feature:Rz},tap:{Feature:Ez},focus:{Feature:bz},hover:{Feature:_z}},Nz={layout:{ProjectionNode:h2,MeasureLayout:s2}},Dz={...p8,...Iz,...vz,...Nz},An=D7(Dz,H7),Ts=({variant:t="primary",size:e="md",loading:n=!1,fullWidth:s=!1,leftIcon:a,rightIcon:l,children:u,disabled:h,className:f="",...p})=>{const g="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",b={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",ghost:"bg-transparent hover:bg-gray-100 text-gray-700 focus:ring-gray-500"},E={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"},x=s?"w-full":"",D=`${g} ${b[t]} ${E[e]} ${x} ${f}`;return v.jsxs(An.button,{whileTap:{scale:.95},className:D,disabled:h||n,...p,children:[n&&v.jsx(I9,{className:"w-4 h-4 mr-2 animate-spin"}),!n&&a&&v.jsx("span",{className:"mr-2",children:a}),u,!n&&l&&v.jsx("span",{className:"ml-2",children:l})]})},Pz=({title:t,showBack:e=!1,showPartnerNames:n=!0,rightActions:s})=>{const a=xa();Ei();const{user:l}=Ot(),{activeInnermost:u}=MI(),h=()=>{a(-1)},f=()=>{if(t)return t;if(n&&u&&l){const g=l.id===u.partnerA,b=g?u.partnerBName:u.partnerAName;return`${g?u.partnerAName:u.partnerBName} & ${b}`}return"Willing Box"},p=()=>!u||!n?null:`Week ${u.currentWeek}  Innermost`;return v.jsxs("nav",{className:"bg-white border-b border-gray-200 px-4 py-3",children:[v.jsxs("div",{className:"flex items-center justify-between max-w-md mx-auto",children:[v.jsx("div",{className:"flex items-center",children:e&&v.jsx(Ts,{variant:"ghost",size:"sm",onClick:h,className:"mr-2 p-2",children:v.jsx(ma,{className:"w-5 h-5"})})}),v.jsxs("div",{className:"flex-1 text-center",children:[v.jsx("h1",{className:"text-lg font-semibold text-gray-900 truncate",children:f()}),p()&&v.jsx("p",{className:"text-sm text-gray-500 truncate",children:p()})]}),v.jsx("div",{className:"flex items-center space-x-2",children:s||v.jsx(Ts,{variant:"ghost",size:"sm",onClick:()=>a("/settings"),className:"p-2",children:v.jsx(c_,{className:"w-5 h-5"})})})]}),u&&n&&v.jsx("div",{className:"max-w-md mx-auto mt-2",children:v.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[v.jsxs("span",{className:"flex items-center",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"You"]}),v.jsxs("span",{className:"text-gray-400",children:["Score: "," 0"]}),v.jsxs("span",{className:"flex items-center",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-1"}),"Partner"]})]})})]})},Mz=()=>{const{user:t}=Ot(),{innermosts:e,canAddInnermost:n}=MI();return v.jsxs("div",{className:"p-4 space-y-6",children:[v.jsxs("div",{className:"text-center py-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-primary-100 rounded-full mb-4",children:v.jsx(ws,{className:"w-10 h-10 text-primary-600"})}),v.jsxs("h1",{className:"text-2xl font-bold text-tree-900 mb-2",children:["Welcome back, ",t?.displayName,"!"]}),v.jsx("p",{className:"text-tree-700",children:"Ready to nurture your growing trees?"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-tree-200",children:[v.jsx(ws,{className:"w-6 h-6 text-primary-600 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-tree-900",children:e.length}),v.jsx("div",{className:"text-sm text-tree-600",children:"Growing Trees"})]}),v.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-tree-200",children:[v.jsx(R9,{className:"w-6 h-6 text-willing-600 mx-auto mb-2"}),v.jsx("div",{className:"text-2xl font-bold text-tree-900",children:"0"}),v.jsx("div",{className:"text-sm text-tree-600",children:"Leaves Grown"})]})]}),v.jsx("div",{className:"space-y-4",children:e.length===0?v.jsxs("div",{className:"bg-gradient-to-r from-bark-400 to-bark-500 rounded-xl p-6 text-white text-center",children:[v.jsx(ws,{className:"w-12 h-12 mx-auto mb-4 opacity-90"}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Plant Your First Tree"}),v.jsx("p",{className:"text-bark-100 mb-4 text-sm",children:"Connect with someone special and begin nurturing your relationship tree."}),v.jsx(Tn,{to:"/innermosts",children:v.jsxs(Ts,{variant:"secondary",className:"bg-white text-bark-700 hover:bg-bark-50",children:[v.jsx(ws,{className:"w-4 h-4 mr-2"})," Plant a Tree"]})})]}):v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h2",{className:"text-lg font-semibold text-tree-900",children:"Your Growing Trees"}),n()&&v.jsx(Tn,{to:"/innermosts",children:v.jsx(Ts,{size:"sm",variant:"ghost",children:v.jsx(NI,{className:"w-4 h-4"})})})]}),e.slice(0,3).map(s=>{const a=t?.id===s.partnerA?s.partnerBEmail:s.partnerAEmail;return v.jsxs("div",{className:"bg-white rounded-xl p-4 border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("div",{className:"font-medium text-gray-900",children:a||"Partner"}),v.jsx("div",{className:`text-sm px-2 py-1 rounded-full ${s.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),v.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:["Created ",s.createdAt.toLocaleDateString()]}),v.jsx(Tn,{to:`/innermosts/${s.id}`,children:v.jsx(Ts,{size:"sm",fullWidth:!0,children:s.status==="active"?"Tend to Tree":"Continue Planting"})})]},s.id)}),e.length>3&&v.jsx(Tn,{to:"/innermosts",children:v.jsxs(Ts,{variant:"ghost",fullWidth:!0,children:["View All Trees (",e.length,")"]})})]})}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx(Tn,{to:"/innermosts",children:v.jsxs(Ts,{variant:"ghost",fullWidth:!0,className:"h-16 flex-col",children:[v.jsx(ws,{className:"w-6 h-6 mb-1"}),v.jsx("span",{className:"text-xs",children:"Trees"})]})}),v.jsx(Tn,{to:"/profile",children:v.jsxs(Ts,{variant:"ghost",fullWidth:!0,className:"h-16 flex-col",children:[v.jsx(Of,{className:"w-6 h-6 mb-1"}),v.jsx("span",{className:"text-xs",children:"Profile"})]})})]}),v.jsx("div",{className:"h-4 safe-area-bottom"})]})};var Rh=t=>t.type==="checkbox",yo=t=>t instanceof Date,Pn=t=>t==null;const d2=t=>typeof t=="object";var jt=t=>!Pn(t)&&!Array.isArray(t)&&d2(t)&&!yo(t),Oz=t=>jt(t)&&t.target?Rh(t.target)?t.target.checked:t.target.value:t,Vz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,kz=(t,e)=>t.has(Vz(e)),jz=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},K_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(t){let e;const n=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(K_&&(t instanceof Blob||s))&&(n||jt(t)))if(e=n?[]:Object.create(Object.getPrototypeOf(t)),!n&&!jz(t))e=t;else for(const a in t)t.hasOwnProperty(a)&&(e[a]=an(t[a]));else return t;return e}var op=t=>/^\w*$/.test(t),Gt=t=>t===void 0,W_=t=>Array.isArray(t)?t.filter(Boolean):[],Y_=t=>W_(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Se=(t,e,n)=>{if(!e||!jt(t))return n;const s=(op(e)?[e]:Y_(e)).reduce((a,l)=>Pn(a)?a:a[l],t);return Gt(s)||s===t?Gt(t[e])?n:t[e]:s},fr=t=>typeof t=="boolean",_t=(t,e,n)=>{let s=-1;const a=op(e)?[e]:Y_(e),l=a.length,u=l-1;for(;++s<l;){const h=a[s];let f=n;if(s!==u){const p=t[h];f=jt(p)||Array.isArray(p)?p:isNaN(+a[s+1])?{}:[]}if(h==="__proto__"||h==="constructor"||h==="prototype")return;t[h]=f,t=t[h]}};const L1={BLUR:"blur",FOCUS_OUT:"focusout"},Us={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lz=mn.createContext(null);Lz.displayName="HookFormContext";var Uz=(t,e,n,s=!0)=>{const a={defaultValues:e._defaultValues};for(const l in t)Object.defineProperty(a,l,{get:()=>{const u=l;return e._proxyFormState[u]!==Us.all&&(e._proxyFormState[u]=!s||Us.all),t[u]}});return a};const Bz=typeof window<"u"?mn.useLayoutEffect:mn.useEffect;var gr=t=>typeof t=="string",Fz=(t,e,n,s,a)=>gr(t)?(s&&e.watch.add(t),Se(n,t,a)):Array.isArray(t)?t.map(l=>(s&&e.watch.add(l),Se(n,l))):(s&&(e.watchAll=!0),n),Jv=t=>Pn(t)||!d2(t);function la(t,e,n=new WeakSet){if(Jv(t)||Jv(e))return t===e;if(yo(t)&&yo(e))return t.getTime()===e.getTime();const s=Object.keys(t),a=Object.keys(e);if(s.length!==a.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const l of s){const u=t[l];if(!a.includes(l))return!1;if(l!=="ref"){const h=e[l];if(yo(u)&&yo(h)||jt(u)&&jt(h)||Array.isArray(u)&&Array.isArray(h)?!la(u,h,n):u!==h)return!1}}return!0}var zz=(t,e,n,s,a)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[s]:a||!0}}:{},Bc=t=>Array.isArray(t)?t:[t],U1=()=>{let t=[];return{get observers(){return t},next:a=>{for(const l of t)l.next&&l.next(a)},subscribe:a=>(t.push(a),{unsubscribe:()=>{t=t.filter(l=>l!==a)}}),unsubscribe:()=>{t=[]}}},Bn=t=>jt(t)&&!Object.keys(t).length,Q_=t=>t.type==="file",Bs=t=>typeof t=="function",bm=t=>{if(!K_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},f2=t=>t.type==="select-multiple",X_=t=>t.type==="radio",qz=t=>X_(t)||Rh(t),Gy=t=>bm(t)&&t.isConnected;function Hz(t,e){const n=e.slice(0,-1).length;let s=0;for(;s<n;)t=Gt(t)?s++:t[e[s++]];return t}function Gz(t){for(const e in t)if(t.hasOwnProperty(e)&&!Gt(t[e]))return!1;return!0}function zt(t,e){const n=Array.isArray(e)?e:op(e)?[e]:Y_(e),s=n.length===1?t:Hz(t,n),a=n.length-1,l=n[a];return s&&delete s[l],a!==0&&(jt(s)&&Bn(s)||Array.isArray(s)&&Gz(s))&&zt(t,n.slice(0,-1)),t}var m2=t=>{for(const e in t)if(Bs(t[e]))return!0;return!1};function Em(t,e={}){const n=Array.isArray(t);if(jt(t)||n)for(const s in t)Array.isArray(t[s])||jt(t[s])&&!m2(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Em(t[s],e[s])):Pn(t[s])||(e[s]=!0);return e}function p2(t,e,n){const s=Array.isArray(t);if(jt(t)||s)for(const a in t)Array.isArray(t[a])||jt(t[a])&&!m2(t[a])?Gt(e)||Jv(n[a])?n[a]=Array.isArray(t[a])?Em(t[a],[]):{...Em(t[a])}:p2(t[a],Pn(e)?{}:e[a],n[a]):n[a]=!la(t[a],e[a]);return n}var gc=(t,e)=>p2(t,e,Em(e));const B1={value:!1,isValid:!1},F1={value:!0,isValid:!0};var g2=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gt(t[0].attributes.value)?Gt(t[0].value)||t[0].value===""?F1:{value:t[0].value,isValid:!0}:F1:B1}return B1},y2=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:s})=>Gt(t)?t:e?t===""?NaN:t&&+t:n&&gr(t)?new Date(t):s?s(t):t;const z1={isValid:!1,value:null};var v2=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,z1):z1;function q1(t){const e=t.ref;return Q_(e)?e.files:X_(e)?v2(t.refs).value:f2(e)?[...e.selectedOptions].map(({value:n})=>n):Rh(e)?g2(t.refs).value:y2(Gt(e.value)?t.ref.value:e.value,t)}var $z=(t,e,n,s)=>{const a={};for(const l of t){const u=Se(e,l);u&&_t(a,l,u._f)}return{criteriaMode:n,names:[...t],fields:a,shouldUseNativeValidation:s}},wm=t=>t instanceof RegExp,yc=t=>Gt(t)?t:wm(t)?t.source:jt(t)?wm(t.value)?t.value.source:t.value:t,H1=t=>({isOnSubmit:!t||t===Us.onSubmit,isOnBlur:t===Us.onBlur,isOnChange:t===Us.onChange,isOnAll:t===Us.all,isOnTouch:t===Us.onTouched});const G1="AsyncFunction";var Kz=t=>!!t&&!!t.validate&&!!(Bs(t.validate)&&t.validate.constructor.name===G1||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===G1)),Wz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),$1=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Fc=(t,e,n,s)=>{for(const a of n||Object.keys(t)){const l=Se(t,a);if(l){const{_f:u,...h}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!s)return!0;if(u.ref&&e(u.ref,u.name)&&!s)return!0;if(Fc(h,e))break}else if(jt(h)&&Fc(h,e))break}}};function K1(t,e,n){const s=Se(t,n);if(s||op(n))return{error:s,name:n};const a=n.split(".");for(;a.length;){const l=a.join("."),u=Se(e,l),h=Se(t,l);if(u&&!Array.isArray(u)&&n!==l)return{name:n};if(h&&h.type)return{name:l,error:h};if(h&&h.root&&h.root.type)return{name:`${l}.root`,error:h.root};a.pop()}return{name:n}}var Yz=(t,e,n,s)=>{n(t);const{name:a,...l}=t;return Bn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!s||Us.all))},Qz=(t,e,n)=>!t||!e||t===e||Bc(t).some(s=>s&&(n?s===e:s.startsWith(e)||e.startsWith(s))),Xz=(t,e,n,s,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||t):(n?s.isOnBlur:a.isOnBlur)?!t:(n?s.isOnChange:a.isOnChange)?t:!0,Zz=(t,e)=>!W_(Se(t,e)).length&&zt(t,e),Jz=(t,e,n)=>{const s=Bc(Se(t,n));return _t(s,"root",e[n]),_t(t,n,s),t},Uf=t=>gr(t);function W1(t,e,n="validate"){if(Uf(t)||Array.isArray(t)&&t.every(Uf)||fr(t)&&!t)return{type:n,message:Uf(t)?t:"",ref:e}}var El=t=>jt(t)&&!wm(t)?t:{value:t,message:""},Y1=async(t,e,n,s,a,l)=>{const{ref:u,refs:h,required:f,maxLength:p,minLength:g,min:b,max:E,pattern:x,validate:D,name:M,valueAsNumber:k,mount:O}=t._f,P=Se(n,M);if(!O||e.has(M))return{};const q=h?h[0]:u,se=I=>{a&&q.reportValidity&&(q.setCustomValidity(fr(I)?"":I||""),q.reportValidity())},Q={},ce=X_(u),j=Rh(u),A=ce||j,N=(k||Q_(u))&&Gt(u.value)&&Gt(P)||bm(u)&&u.value===""||P===""||Array.isArray(P)&&!P.length,L=zz.bind(null,M,s,Q),B=(I,C,ve,xe=ai.maxLength,Z=ai.minLength)=>{const te=I?C:ve;Q[M]={type:I?xe:Z,message:te,ref:u,...L(I?xe:Z,te)}};if(l?!Array.isArray(P)||!P.length:f&&(!A&&(N||Pn(P))||fr(P)&&!P||j&&!g2(h).isValid||ce&&!v2(h).isValid)){const{value:I,message:C}=Uf(f)?{value:!!f,message:f}:El(f);if(I&&(Q[M]={type:ai.required,message:C,ref:q,...L(ai.required,C)},!s))return se(C),Q}if(!N&&(!Pn(b)||!Pn(E))){let I,C;const ve=El(E),xe=El(b);if(!Pn(P)&&!isNaN(P)){const Z=u.valueAsNumber||P&&+P;Pn(ve.value)||(I=Z>ve.value),Pn(xe.value)||(C=Z<xe.value)}else{const Z=u.valueAsDate||new Date(P),te=F=>new Date(new Date().toDateString()+" "+F),me=u.type=="time",Ne=u.type=="week";gr(ve.value)&&P&&(I=me?te(P)>te(ve.value):Ne?P>ve.value:Z>new Date(ve.value)),gr(xe.value)&&P&&(C=me?te(P)<te(xe.value):Ne?P<xe.value:Z<new Date(xe.value))}if((I||C)&&(B(!!I,ve.message,xe.message,ai.max,ai.min),!s))return se(Q[M].message),Q}if((p||g)&&!N&&(gr(P)||l&&Array.isArray(P))){const I=El(p),C=El(g),ve=!Pn(I.value)&&P.length>+I.value,xe=!Pn(C.value)&&P.length<+C.value;if((ve||xe)&&(B(ve,I.message,C.message),!s))return se(Q[M].message),Q}if(x&&!N&&gr(P)){const{value:I,message:C}=El(x);if(wm(I)&&!P.match(I)&&(Q[M]={type:ai.pattern,message:C,ref:u,...L(ai.pattern,C)},!s))return se(C),Q}if(D){if(Bs(D)){const I=await D(P,n),C=W1(I,q);if(C&&(Q[M]={...C,...L(ai.validate,C.message)},!s))return se(C.message),Q}else if(jt(D)){let I={};for(const C in D){if(!Bn(I)&&!s)break;const ve=W1(await D[C](P,n),q,C);ve&&(I={...ve,...L(C,ve.message)},se(ve.message),s&&(Q[M]=I))}if(!Bn(I)&&(Q[M]={ref:q,...I},!s))return Q}}return se(!0),Q};const eq={mode:Us.onSubmit,reValidateMode:Us.onChange,shouldFocusError:!0};function tq(t={}){let e={...eq,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Bs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},a=jt(e.defaultValues)||jt(e.values)?an(e.defaultValues||e.values)||{}:{},l=e.shouldUnregister?{}:an(a),u={action:!1,mount:!1,watch:!1},h={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...g};const E={array:U1(),state:U1()},x=e.criteriaMode===Us.all,D=z=>Y=>{clearTimeout(p),p=setTimeout(z,Y)},M=async z=>{if(!e.disabled&&(g.isValid||b.isValid||z)){const Y=e.resolver?Bn((await j()).errors):await N(s,!0);Y!==n.isValid&&E.state.next({isValid:Y})}},k=(z,Y)=>{!e.disabled&&(g.isValidating||g.validatingFields||b.isValidating||b.validatingFields)&&((z||Array.from(h.mount)).forEach(ne=>{ne&&(Y?_t(n.validatingFields,ne,Y):zt(n.validatingFields,ne))}),E.state.next({validatingFields:n.validatingFields,isValidating:!Bn(n.validatingFields)}))},O=(z,Y=[],ne,_e,pe=!0,de=!0)=>{if(_e&&ne&&!e.disabled){if(u.action=!0,de&&Array.isArray(Se(s,z))){const ye=ne(Se(s,z),_e.argA,_e.argB);pe&&_t(s,z,ye)}if(de&&Array.isArray(Se(n.errors,z))){const ye=ne(Se(n.errors,z),_e.argA,_e.argB);pe&&_t(n.errors,z,ye),Zz(n.errors,z)}if((g.touchedFields||b.touchedFields)&&de&&Array.isArray(Se(n.touchedFields,z))){const ye=ne(Se(n.touchedFields,z),_e.argA,_e.argB);pe&&_t(n.touchedFields,z,ye)}(g.dirtyFields||b.dirtyFields)&&(n.dirtyFields=gc(a,l)),E.state.next({name:z,isDirty:B(z,Y),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _t(l,z,Y)},P=(z,Y)=>{_t(n.errors,z,Y),E.state.next({errors:n.errors})},q=z=>{n.errors=z,E.state.next({errors:n.errors,isValid:!1})},se=(z,Y,ne,_e)=>{const pe=Se(s,z);if(pe){const de=Se(l,z,Gt(ne)?Se(a,z):ne);Gt(de)||_e&&_e.defaultChecked||Y?_t(l,z,Y?de:q1(pe._f)):ve(z,de),u.mount&&M()}},Q=(z,Y,ne,_e,pe)=>{let de=!1,ye=!1;const Ae={name:z};if(!e.disabled){if(!ne||_e){(g.isDirty||b.isDirty)&&(ye=n.isDirty,n.isDirty=Ae.isDirty=B(),de=ye!==Ae.isDirty);const ze=la(Se(a,z),Y);ye=!!Se(n.dirtyFields,z),ze?zt(n.dirtyFields,z):_t(n.dirtyFields,z,!0),Ae.dirtyFields=n.dirtyFields,de=de||(g.dirtyFields||b.dirtyFields)&&ye!==!ze}if(ne){const ze=Se(n.touchedFields,z);ze||(_t(n.touchedFields,z,ne),Ae.touchedFields=n.touchedFields,de=de||(g.touchedFields||b.touchedFields)&&ze!==ne)}de&&pe&&E.state.next(Ae)}return de?Ae:{}},ce=(z,Y,ne,_e)=>{const pe=Se(n.errors,z),de=(g.isValid||b.isValid)&&fr(Y)&&n.isValid!==Y;if(e.delayError&&ne?(f=D(()=>P(z,ne)),f(e.delayError)):(clearTimeout(p),f=null,ne?_t(n.errors,z,ne):zt(n.errors,z)),(ne?!la(pe,ne):pe)||!Bn(_e)||de){const ye={..._e,...de&&fr(Y)?{isValid:Y}:{},errors:n.errors,name:z};n={...n,...ye},E.state.next(ye)}},j=async z=>{k(z,!0);const Y=await e.resolver(l,e.context,$z(z||h.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return k(z),Y},A=async z=>{const{errors:Y}=await j(z);if(z)for(const ne of z){const _e=Se(Y,ne);_e?_t(n.errors,ne,_e):zt(n.errors,ne)}else n.errors=Y;return Y},N=async(z,Y,ne={valid:!0})=>{for(const _e in z){const pe=z[_e];if(pe){const{_f:de,...ye}=pe;if(de){const Ae=h.array.has(de.name),ze=pe._f&&Kz(pe._f);ze&&g.validatingFields&&k([_e],!0);const at=await Y1(pe,h.disabled,l,x,e.shouldUseNativeValidation&&!Y,Ae);if(ze&&g.validatingFields&&k([_e]),at[de.name]&&(ne.valid=!1,Y))break;!Y&&(Se(at,de.name)?Ae?Jz(n.errors,at,de.name):_t(n.errors,de.name,at[de.name]):zt(n.errors,de.name))}!Bn(ye)&&await N(ye,Y,ne)}}return ne.valid},L=()=>{for(const z of h.unMount){const Y=Se(s,z);Y&&(Y._f.refs?Y._f.refs.every(ne=>!Gy(ne)):!Gy(Y._f.ref))&&At(z)}h.unMount=new Set},B=(z,Y)=>!e.disabled&&(z&&Y&&_t(l,z,Y),!la(F(),a)),I=(z,Y,ne)=>Fz(z,h,{...u.mount?l:Gt(Y)?a:gr(z)?{[z]:Y}:Y},ne,Y),C=z=>W_(Se(u.mount?l:a,z,e.shouldUnregister?Se(a,z,[]):[])),ve=(z,Y,ne={})=>{const _e=Se(s,z);let pe=Y;if(_e){const de=_e._f;de&&(!de.disabled&&_t(l,z,y2(Y,de)),pe=bm(de.ref)&&Pn(Y)?"":Y,f2(de.ref)?[...de.ref.options].forEach(ye=>ye.selected=pe.includes(ye.value)):de.refs?Rh(de.ref)?de.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(pe)?ye.checked=!!pe.find(Ae=>Ae===ye.value):ye.checked=pe===ye.value||!!pe)}):de.refs.forEach(ye=>ye.checked=ye.value===pe):Q_(de.ref)?de.ref.value="":(de.ref.value=pe,de.ref.type||E.state.next({name:z,values:an(l)})))}(ne.shouldDirty||ne.shouldTouch)&&Q(z,pe,ne.shouldTouch,ne.shouldDirty,!0),ne.shouldValidate&&Ne(z)},xe=(z,Y,ne)=>{for(const _e in Y){if(!Y.hasOwnProperty(_e))return;const pe=Y[_e],de=z+"."+_e,ye=Se(s,de);(h.array.has(z)||jt(pe)||ye&&!ye._f)&&!yo(pe)?xe(de,pe,ne):ve(de,pe,ne)}},Z=(z,Y,ne={})=>{const _e=Se(s,z),pe=h.array.has(z),de=an(Y);_t(l,z,de),pe?(E.array.next({name:z,values:an(l)}),(g.isDirty||g.dirtyFields||b.isDirty||b.dirtyFields)&&ne.shouldDirty&&E.state.next({name:z,dirtyFields:gc(a,l),isDirty:B(z,de)})):_e&&!_e._f&&!Pn(de)?xe(z,de,ne):ve(z,de,ne),$1(z,h)&&E.state.next({...n,name:z}),E.state.next({name:u.mount?z:void 0,values:an(l)})},te=async z=>{u.mount=!0;const Y=z.target;let ne=Y.name,_e=!0;const pe=Se(s,ne),de=ze=>{_e=Number.isNaN(ze)||yo(ze)&&isNaN(ze.getTime())||la(ze,Se(l,ne,ze))},ye=H1(e.mode),Ae=H1(e.reValidateMode);if(pe){let ze,at;const Nr=Y.type?q1(pe._f):Oz(z),as=z.type===L1.BLUR||z.type===L1.FOCUS_OUT,Dr=!Wz(pe._f)&&!e.resolver&&!Se(n.errors,ne)&&!pe._f.deps||Xz(as,Se(n.touchedFields,ne),n.isSubmitted,Ae,ye),Is=$1(ne,h,as);_t(l,ne,Nr),as?(!Y||!Y.readOnly)&&(pe._f.onBlur&&pe._f.onBlur(z),f&&f(0)):pe._f.onChange&&pe._f.onChange(z);const Ns=Q(ne,Nr,as),Kn=!Bn(Ns)||Is;if(!as&&E.state.next({name:ne,type:z.type,values:an(l)}),Dr)return(g.isValid||b.isValid)&&(e.mode==="onBlur"?as&&M():as||M()),Kn&&E.state.next({name:ne,...Is?{}:Ns});if(!as&&Is&&E.state.next({...n}),e.resolver){const{errors:Pr}=await j([ne]);if(de(Nr),_e){const Mr=K1(n.errors,s,ne),Si=K1(Pr,s,Mr.name||ne);ze=Si.error,ne=Si.name,at=Bn(Pr)}}else k([ne],!0),ze=(await Y1(pe,h.disabled,l,x,e.shouldUseNativeValidation))[ne],k([ne]),de(Nr),_e&&(ze?at=!1:(g.isValid||b.isValid)&&(at=await N(s,!0)));_e&&(pe._f.deps&&Ne(pe._f.deps),ce(ne,at,ze,Ns))}},me=(z,Y)=>{if(Se(n.errors,Y)&&z.focus)return z.focus(),1},Ne=async(z,Y={})=>{let ne,_e;const pe=Bc(z);if(e.resolver){const de=await A(Gt(z)?z:pe);ne=Bn(de),_e=z?!pe.some(ye=>Se(de,ye)):ne}else z?(_e=(await Promise.all(pe.map(async de=>{const ye=Se(s,de);return await N(ye&&ye._f?{[de]:ye}:ye)}))).every(Boolean),!(!_e&&!n.isValid)&&M()):_e=ne=await N(s);return E.state.next({...!gr(z)||(g.isValid||b.isValid)&&ne!==n.isValid?{}:{name:z},...e.resolver||!z?{isValid:ne}:{},errors:n.errors}),Y.shouldFocus&&!_e&&Fc(s,me,z?pe:h.mount),_e},F=z=>{const Y={...u.mount?l:a};return Gt(z)?Y:gr(z)?Se(Y,z):z.map(ne=>Se(Y,ne))},ue=(z,Y)=>({invalid:!!Se((Y||n).errors,z),isDirty:!!Se((Y||n).dirtyFields,z),error:Se((Y||n).errors,z),isValidating:!!Se(n.validatingFields,z),isTouched:!!Se((Y||n).touchedFields,z)}),ge=z=>{z&&Bc(z).forEach(Y=>zt(n.errors,Y)),E.state.next({errors:z?n.errors:{}})},he=(z,Y,ne)=>{const _e=(Se(s,z,{_f:{}})._f||{}).ref,pe=Se(n.errors,z)||{},{ref:de,message:ye,type:Ae,...ze}=pe;_t(n.errors,z,{...ze,...Y,ref:_e}),E.state.next({name:z,errors:n.errors,isValid:!1}),ne&&ne.shouldFocus&&_e&&_e.focus&&_e.focus()},Ce=(z,Y)=>Bs(z)?E.state.subscribe({next:ne=>"values"in ne&&z(I(void 0,Y),ne)}):I(z,Y,!0),Be=z=>E.state.subscribe({next:Y=>{Qz(z.name,Y.name,z.exact)&&Yz(Y,z.formState||g,kn,z.reRenderRoot)&&z.callback({values:{...l},...n,...Y,defaultValues:a})}}).unsubscribe,Ve=z=>(u.mount=!0,b={...b,...z.formState},Be({...z,formState:b})),At=(z,Y={})=>{for(const ne of z?Bc(z):h.mount)h.mount.delete(ne),h.array.delete(ne),Y.keepValue||(zt(s,ne),zt(l,ne)),!Y.keepError&&zt(n.errors,ne),!Y.keepDirty&&zt(n.dirtyFields,ne),!Y.keepTouched&&zt(n.touchedFields,ne),!Y.keepIsValidating&&zt(n.validatingFields,ne),!e.shouldUnregister&&!Y.keepDefaultValue&&zt(a,ne);E.state.next({values:an(l)}),E.state.next({...n,...Y.keepDirty?{isDirty:B()}:{}}),!Y.keepIsValid&&M()},it=({disabled:z,name:Y})=>{(fr(z)&&u.mount||z||h.disabled.has(Y))&&(z?h.disabled.add(Y):h.disabled.delete(Y))},Vn=(z,Y={})=>{let ne=Se(s,z);const _e=fr(Y.disabled)||fr(e.disabled);return _t(s,z,{...ne||{},_f:{...ne&&ne._f?ne._f:{ref:{name:z}},name:z,mount:!0,...Y}}),h.mount.add(z),ne?it({disabled:fr(Y.disabled)?Y.disabled:e.disabled,name:z}):se(z,!0,Y.value),{..._e?{disabled:Y.disabled||e.disabled}:{},...e.progressive?{required:!!Y.required,min:yc(Y.min),max:yc(Y.max),minLength:yc(Y.minLength),maxLength:yc(Y.maxLength),pattern:yc(Y.pattern)}:{},name:z,onChange:te,onBlur:te,ref:pe=>{if(pe){Vn(z,Y),ne=Se(s,z);const de=Gt(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,ye=qz(de),Ae=ne._f.refs||[];if(ye?Ae.find(ze=>ze===de):de===ne._f.ref)return;_t(s,z,{_f:{...ne._f,...ye?{refs:[...Ae.filter(Gy),de,...Array.isArray(Se(a,z))?[{}]:[]],ref:{type:de.type,name:z}}:{ref:de}}}),se(z,!1,void 0,de)}else ne=Se(s,z,{}),ne._f&&(ne._f.mount=!1),(e.shouldUnregister||Y.shouldUnregister)&&!(kz(h.array,z)&&u.action)&&h.unMount.add(z)}}},is=()=>e.shouldFocusError&&Fc(s,me,h.mount),Cs=z=>{fr(z)&&(E.state.next({disabled:z}),Fc(s,(Y,ne)=>{const _e=Se(s,ne);_e&&(Y.disabled=_e._f.disabled||z,Array.isArray(_e._f.refs)&&_e._f.refs.forEach(pe=>{pe.disabled=_e._f.disabled||z}))},0,!1))},Ws=(z,Y)=>async ne=>{let _e;ne&&(ne.preventDefault&&ne.preventDefault(),ne.persist&&ne.persist());let pe=an(l);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:ye}=await j();n.errors=de,pe=an(ye)}else await N(s);if(h.disabled.size)for(const de of h.disabled)zt(pe,de);if(zt(n.errors,"root"),Bn(n.errors)){E.state.next({errors:{}});try{await z(pe,ne)}catch(de){_e=de}}else Y&&await Y({...n.errors},ne),is(),setTimeout(is);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Bn(n.errors)&&!_e,submitCount:n.submitCount+1,errors:n.errors}),_e)throw _e},Ir=(z,Y={})=>{Se(s,z)&&(Gt(Y.defaultValue)?Z(z,an(Se(a,z))):(Z(z,Y.defaultValue),_t(a,z,an(Y.defaultValue))),Y.keepTouched||zt(n.touchedFields,z),Y.keepDirty||(zt(n.dirtyFields,z),n.isDirty=Y.defaultValue?B(z,an(Se(a,z))):B()),Y.keepError||(zt(n.errors,z),g.isValid&&M()),E.state.next({...n}))},Ys=(z,Y={})=>{const ne=z?an(z):a,_e=an(ne),pe=Bn(z),de=pe?a:_e;if(Y.keepDefaultValues||(a=ne),!Y.keepValues){if(Y.keepDirtyValues){const ye=new Set([...h.mount,...Object.keys(gc(a,l))]);for(const Ae of Array.from(ye))Se(n.dirtyFields,Ae)?_t(de,Ae,Se(l,Ae)):Z(Ae,Se(de,Ae))}else{if(K_&&Gt(z))for(const ye of h.mount){const Ae=Se(s,ye);if(Ae&&Ae._f){const ze=Array.isArray(Ae._f.refs)?Ae._f.refs[0]:Ae._f.ref;if(bm(ze)){const at=ze.closest("form");if(at){at.reset();break}}}}if(Y.keepFieldsRef)for(const ye of h.mount)Z(ye,Se(de,ye));else s={}}l=e.shouldUnregister?Y.keepDefaultValues?an(a):{}:an(de),E.array.next({values:{...de}}),E.state.next({values:{...de}})}h={mount:Y.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!g.isValid||!!Y.keepIsValid||!!Y.keepDirtyValues,u.watch=!!e.shouldUnregister,E.state.next({submitCount:Y.keepSubmitCount?n.submitCount:0,isDirty:pe?!1:Y.keepDirty?n.isDirty:!!(Y.keepDefaultValues&&!la(z,a)),isSubmitted:Y.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:pe?{}:Y.keepDirtyValues?Y.keepDefaultValues&&l?gc(a,l):n.dirtyFields:Y.keepDefaultValues&&z?gc(a,z):Y.keepDirty?n.dirtyFields:{},touchedFields:Y.keepTouched?n.touchedFields:{},errors:Y.keepErrors?n.errors:{},isSubmitSuccessful:Y.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},Ti=(z,Y)=>Ys(Bs(z)?z(l):z,Y),Do=(z,Y={})=>{const ne=Se(s,z),_e=ne&&ne._f;if(_e){const pe=_e.refs?_e.refs[0]:_e.ref;pe.focus&&(pe.focus(),Y.shouldSelect&&Bs(pe.select)&&pe.select())}},kn=z=>{n={...n,...z}},xi={control:{register:Vn,unregister:At,getFieldState:ue,handleSubmit:Ws,setError:he,_subscribe:Be,_runSchema:j,_focusError:is,_getWatch:I,_getDirty:B,_setValid:M,_setFieldArray:O,_setDisabledField:it,_setErrors:q,_getFieldArray:C,_reset:Ys,_resetDefaultValues:()=>Bs(e.defaultValues)&&e.defaultValues().then(z=>{Ti(z,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Cs,_subjects:E,_proxyFormState:g,get _fields(){return s},get _formValues(){return l},get _state(){return u},set _state(z){u=z},get _defaultValues(){return a},get _names(){return h},set _names(z){h=z},get _formState(){return n},get _options(){return e},set _options(z){e={...e,...z}}},subscribe:Ve,trigger:Ne,register:Vn,handleSubmit:Ws,watch:Ce,setValue:Z,getValues:F,reset:Ti,resetField:Ir,clearErrors:ge,unregister:At,setError:he,setFocus:Do,getFieldState:ue};return{...xi,formControl:xi}}function lp(t={}){const e=mn.useRef(void 0),n=mn.useRef(void 0),[s,a]=mn.useState({isDirty:!1,isValidating:!1,isLoading:Bs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Bs(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:s},t.defaultValues&&!Bs(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:u,...h}=tq(t);e.current={...h,formState:s}}const l=e.current.control;return l._options=t,Bz(()=>{const u=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(h=>({...h,isReady:!0})),l._formState.isReady=!0,u},[l]),mn.useEffect(()=>l._disableForm(t.disabled),[l,t.disabled]),mn.useEffect(()=>{t.mode&&(l._options.mode=t.mode),t.reValidateMode&&(l._options.reValidateMode=t.reValidateMode)},[l,t.mode,t.reValidateMode]),mn.useEffect(()=>{t.errors&&(l._setErrors(t.errors),l._focusError())},[l,t.errors]),mn.useEffect(()=>{t.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,t.shouldUnregister]),mn.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==s.isDirty&&l._subjects.state.next({isDirty:u})}},[l,s.isDirty]),mn.useEffect(()=>{t.values&&!la(t.values,n.current)?(l._reset(t.values,{keepFieldsRef:!0,...l._options.resetOptions}),n.current=t.values,a(u=>({...u}))):l._resetDefaultValues()},[l,t.values]),mn.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=Uz(s,l),e.current}const nq=()=>{const[t,e]=V.useState(!1),{login:n,isLoading:s,error:a,clearError:l}=Ot(),u=xa(),{register:h,handleSubmit:f,formState:{errors:p,isSubmitting:g}}=lp({defaultValues:{email:"",password:"",rememberMe:!1}}),b=async E=>{try{l(),await n(E.email,E.password),we.success("Welcome back to The Willing Tree! "),u("/",{replace:!0})}catch(x){console.error("Login error:",x),x?.code==="auth/invalid-credential"||x?.code==="auth/wrong-password"?we.error("Invalid email or password. Please try again."):x?.code==="auth/user-not-found"?we.error("No account found with this email. Please sign up first."):x?.code==="auth/too-many-requests"?we.error("Too many failed attempts. Please try again later."):we.error(" Firebase is not configured. Please set up Firebase credentials.")}};return v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:v.jsxs(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4",children:v.jsx(ws,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-2xl font-bold text-tree-900",children:"Welcome to The Willing Tree"}),v.jsx("p",{className:"text-tree-700 mt-1",children:"Sign in to nurture your growing relationships"})]}),v.jsxs(An.form,{onSubmit:f(b),className:"bg-white rounded-2xl shadow-xl p-6 space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),v.jsx("input",{...h("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email"}}),type:"email",id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your email"}),p.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{...h("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:t?"text":"password",id:"password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your password"}),v.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:t?v.jsx(fm,{className:"w-5 h-5"}):v.jsx(mm,{className:"w-5 h-5"})})]}),p.password&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password.message})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{...h("rememberMe"),type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),v.jsx(Tn,{to:"/auth/forgot-password",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Forgot password?"})]}),a&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-600",children:a})}),v.jsx(Ts,{type:"submit",loading:s||g,fullWidth:!0,className:"h-12",children:"Sign In"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute inset-0 flex items-center",children:v.jsx("div",{className:"w-full border-t border-gray-300"})}),v.jsx("div",{className:"relative flex justify-center text-sm",children:v.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Don't have an account?"})})]}),v.jsx(Tn,{to:"/auth/signup",children:v.jsx(Ts,{variant:"secondary",fullWidth:!0,children:"Create Account"})})]}),v.jsxs("p",{className:"text-center text-xs text-gray-500 mt-8",children:["By signing in, you agree to our"," ",v.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Terms of Service"})," ","and"," ",v.jsx("a",{href:"#",className:"text-primary-600 hover:underline",children:"Privacy Policy"})]})]})})},sq=()=>{const t=xa(),{signup:e,isLoading:n,error:s,clearError:a}=Ot(),[l,u]=V.useState(!1),[h,f]=V.useState(!1),{register:p,handleSubmit:g,formState:{errors:b,isValid:E},watch:x,reset:D}=lp({mode:"onChange"}),M=x("password"),k=async O=>{if(O.password!==O.confirmPassword){we.error("Passwords do not match");return}try{a(),await e(O.email,O.password,O.displayName,O.age,O.gender),we.success("Account created successfully!"),D(),t("/dashboard")}catch(P){console.error("Signup error:",P);const q=P instanceof Error?P.message:"Failed to create account";we.error(q)}};return v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:v.jsxs("div",{className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Create your account"}),v.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Start building deeper connections today"})]}),v.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g(k),children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(PI,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...p("displayName",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"},maxLength:{value:50,message:"Name must be less than 50 characters"}}),type:"text",autoComplete:"name",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.displayName?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your full name"})]}),b.displayName&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.displayName.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email Address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(np,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...p("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",autoComplete:"email",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.email?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your email"})]}),b.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.email.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"age",className:"block text-sm font-medium text-gray-700",children:"Age"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(u_,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...p("age",{required:"Age is required",min:{value:18,message:"You must be at least 18 years old"},max:{value:120,message:"Please enter a valid age"},valueAsNumber:!0}),type:"number",className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.age?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Enter your age"})]}),b.age&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.age.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700",children:"Gender"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(h_,{className:"h-5 w-5 text-gray-400"})}),v.jsxs("select",{...p("gender",{required:"Please select your gender"}),className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.gender?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,children:[v.jsx("option",{value:"",children:"Select gender"}),v.jsx("option",{value:"male",children:"Male"}),v.jsx("option",{value:"female",children:"Female"}),v.jsx("option",{value:"other",children:"Other"})]})]}),b.gender&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.gender.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Dv,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...p("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain uppercase, lowercase, and number"}}),type:l?"text":"password",autoComplete:"new-password",className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.password?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Create a strong password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>u(!l),children:l?v.jsx(fm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):v.jsx(mm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),b.password&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.password.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Dv,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...p("confirmPassword",{required:"Please confirm your password",validate:O=>O===M||"Passwords do not match"}),type:h?"text":"password",autoComplete:"new-password",className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-green-500 ${b.confirmPassword?"border-red-300 focus:border-red-500":"border-gray-300 focus:border-green-500"}`,placeholder:"Confirm your password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>f(!h),children:h?v.jsx(fm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):v.jsx(mm,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),b.confirmPassword&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:b.confirmPassword.message})]})]}),s&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:v.jsx("p",{className:"text-sm text-red-600",children:s})}),v.jsx("div",{children:v.jsx("button",{type:"submit",disabled:!E||n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors ${!E||n?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700"}`,children:n?v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating Account..."]}):"Create Account"})}),v.jsx("div",{className:"text-center",children:v.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",v.jsx(Tn,{to:"/login",className:"font-medium text-green-600 hover:text-green-500 transition-colors",children:"Sign in here"})]})})]})]})})},rq=()=>{const[t,e]=V.useState(!1),{resetPassword:n,isLoading:s,error:a,clearError:l}=Ot(),{register:u,handleSubmit:h,formState:{errors:f,isSubmitting:p}}=lp({defaultValues:{email:""}}),g=async b=>{try{l(),await n(b.email),e(!0),we.success("Password reset email sent! Check your inbox.")}catch{we.error("Failed to send reset email. Please check the email address.")}};return t?v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:v.jsx(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 text-center",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:v.jsx(np,{className:"w-8 h-8 text-green-600"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Check Your Email"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password."}),v.jsx(Tn,{to:"/auth/login",children:v.jsx(Ts,{fullWidth:!0,children:"Back to Login"})}),v.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Didn't receive the email? Check your spam folder or"," ",v.jsx("button",{onClick:()=>e(!1),className:"text-primary-600 hover:underline",children:"try again"})]})]})})}):v.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-primary-100 flex items-center justify-center p-4",children:v.jsxs(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"w-full max-w-md",children:[v.jsxs(Tn,{to:"/auth/login",className:"inline-flex items-center text-gray-600 hover:text-gray-900 mb-6",children:[v.jsx(ma,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Forgot Password?"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"No worries! Enter your email and we'll send you reset instructions."})]}),v.jsxs(An.form,{onSubmit:h(g),className:"bg-white rounded-2xl shadow-xl p-6 space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),v.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email"}}),type:"email",id:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your email"}),f.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),a&&v.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:v.jsx("p",{className:"text-sm text-red-600",children:a})}),v.jsx(Ts,{type:"submit",loading:s||p,fullWidth:!0,className:"h-12",children:"Send Reset Instructions"})]}),v.jsxs("p",{className:"text-center text-sm text-gray-500 mt-8",children:["Remember your password?"," ",v.jsx(Tn,{to:"/auth/login",className:"text-primary-600 hover:underline",children:"Sign in"})]})]})})};var _2="basil",iq=function(e){return e===3?"v3":e},b2="https://js.stripe.com",aq="".concat(b2,"/").concat(_2,"/stripe.js"),oq=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,lq=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var uq=function(e){return oq.test(e)||lq.test(e)},cq=function(){for(var e=document.querySelectorAll('script[src^="'.concat(b2,'"]')),n=0;n<e.length;n++){var s=e[n];if(uq(s.src))return s}return null},Q1=function(e){var n="",s=document.createElement("script");s.src="".concat(aq).concat(n);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},hq=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},vc=null,vf=null,_f=null,dq=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},fq=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},mq=function(e){return vc!==null?vc:(vc=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var a=cq();if(!(a&&e)){if(!a)a=Q1(e);else if(a&&_f!==null&&vf!==null){var l;a.removeEventListener("load",_f),a.removeEventListener("error",vf),(l=a.parentNode)===null||l===void 0||l.removeChild(a),a=Q1(e)}}_f=fq(n,s),vf=dq(s),a.addEventListener("load",_f),a.addEventListener("error",vf)}catch(u){s(u);return}}),vc.catch(function(n){return vc=null,Promise.reject(n)}))},pq=function(e,n,s){if(e===null)return null;var a=n[0],l=a.match(/^pk_test/),u=iq(e.version),h=_2;l&&u!==h&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(h,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var f=e.apply(void 0,n);return hq(f,s),f},_c,E2=!1,w2=function(){return _c||(_c=mq(null).catch(function(e){return _c=null,Promise.reject(e)}),_c)};Promise.resolve().then(function(){return w2()}).catch(function(t){E2||console.warn(t)});var gq=function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];E2=!0;var a=Date.now();return w2().then(function(l){return pq(l,n,a)})};let $y;const yq=()=>($y||($y=gq("")),$y),Ky=[{id:"free",name:"Free",description:"Perfect for trying out your first Innermost",price:0,currency:"USD",interval:"month",maxInnermosts:1,features:["1 Active Innermost","Basic Wants & Willing Lists","Weekly Guessing Game","Basic Scoring System"]},{id:"premium",name:"Premium",description:"Full access to grow multiple relationships",price:1,currency:"USD",interval:"month",maxInnermosts:3,features:["Up to 3 Active Innermosts","Advanced Analytics & Insights","Priority Support","Export Data","Custom Wants Categories","Extended Score History"],stripePriceId:"price_1234567890abcdef"}];class mr{static canAccessPremiumFeatures(e){return e.subscriptionStatus==="premium"&&(!e.subscriptionEndDate||e.subscriptionEndDate>new Date)}static canCreateInnermost(e,n){const s=this.getUserPlan(e);return n<s.maxInnermosts}static getUserPlan(e){return this.canAccessPremiumFeatures(e)?Ky.find(n=>n.id==="premium"):Ky.find(n=>n.id==="free")}static async createCheckoutSession(e,n,s,a){const l=Ky.find(u=>u.id===n);if(!l||!l.stripePriceId)throw new Error("Invalid subscription plan");try{const h=await fetch("http://localhost:3001/api/create-checkout-session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.id}`},body:JSON.stringify({priceId:l.stripePriceId,userId:e.id,userEmail:e.email,successUrl:s,cancelUrl:a,mode:"subscription"})});if(!h.ok){const p=await h.json();throw new Error(p.message||"Failed to create checkout session")}const{sessionId:f}=await h.json();return{sessionId:f}}catch(u){throw console.error("Stripe checkout session creation failed:",u),new Error("Unable to start checkout process. Please try again.")}}static async redirectToCheckout(e,n){try{const s=await yq();if(!s)throw new Error("Stripe failed to initialize");const a=window.location.origin,{sessionId:l}=await this.createCheckoutSession(e,n,`${a}/subscription/success`,`${a}/subscription/cancel`),{error:u}=await s.redirectToCheckout({sessionId:l});if(u)throw console.error("Stripe redirect error:",u),new Error(u.message||"Checkout redirect failed")}catch(s){throw console.error("Checkout error:",s),new Error(s instanceof Error?s.message:"Failed to start checkout process")}}static async cancelSubscription(e){try{const s=await fetch("http://localhost:3001/api/cancel-subscription",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.id}`},body:JSON.stringify({userId:e.id})});if(!s.ok){const l=await s.json();throw new Error(l.message||"Failed to cancel subscription")}const{message:a}=await s.json();return a}catch(n){throw console.error("Subscription cancellation failed:",n),new Error("Unable to cancel subscription. Please contact support.")}}static async getBillingInfo(e){try{const s=await fetch(`http://localhost:3001/api/billing-info/${e.id}`,{headers:{Authorization:`Bearer ${e.id}`}});if(!s.ok)return{status:e.subscriptionStatus==="premium"?"active":"canceled",currentPeriodEnd:e.subscriptionEndDate,cancelAtPeriodEnd:!1};const a=await s.json();return{status:a.status,currentPeriodEnd:a.currentPeriodEnd?new Date(a.currentPeriodEnd):void 0,cancelAtPeriodEnd:a.cancelAtPeriodEnd||!1}}catch(n){return console.error("Failed to fetch billing info:",n),{status:e.subscriptionStatus==="premium"?"active":"canceled",currentPeriodEnd:e.subscriptionEndDate,cancelAtPeriodEnd:!1}}}static formatPrice(e){return e.price===0?"Free":`$${e.price}/${e.interval}`}static getFeatureComparison(){return[{feature:"Active Innermosts",free:"1",premium:"3"},{feature:"Wants & Willing Lists",free:!0,premium:!0},{feature:"Weekly Scoring",free:!0,premium:!0},{feature:"Advanced Analytics",free:!1,premium:!0},{feature:"Data Export",free:!1,premium:!0},{feature:"Priority Support",free:!1,premium:!0},{feature:"Custom Categories",free:!1,premium:!0}]}}const vq=async t=>(console.log(" EMAIL SIMULATION:",t),{success:!0,message:`Simulated email sent to ${t.partnerEmail}`});class _q{async sendPairingInviteSMS(e){try{const n=df(ff,"sendPairingInviteSMS"),s={toPhone:e.toPhone,fromName:e.fromName,pairingCode:e.pairingCode,message:e.message||"",appUrl:window.location.origin};if(!(await n(s)).data.success)throw new Error("Failed to send SMS invitation")}catch(n){throw console.error("SMS send error:",n),new Error(`Failed to send SMS invitation: ${n.message}`)}}async sendMutualPairingCode(e,n,s){try{await df(ff,"sendMutualPairingCode")({toPhone:e,code:n,partnerName:s})}catch(a){throw console.error("SMS send error:",a),new Error(`Failed to send confirmation code: ${a.message}`)}}async sendWeeklyReminderSMS(e,n,s){try{await df(ff,"sendWeeklyReminderSMS")({toPhone:e,partnerName:n,weekNumber:s})}catch(a){console.error("SMS reminder error:",a)}}async sendGameResultsSMS(e,n,s){try{await df(ff,"sendGameResultsSMS")({toPhone:e,score:n,correctGuesses:s})}catch(a){console.error("SMS results error:",a)}}formatPhoneNumber(e){let n=e.replace(/\D/g,"");return n.length===10&&(n="1"+n),n.startsWith("+")||(n="+"+n),n}isValidPhoneNumber(e){const n=e.replace(/\D/g,"");return n.length===10||n.length===11}}const Wy=new _q,bq=()=>{const{user:t}=Ot(),[e,n]=V.useState([]),[s,a]=V.useState(!0),[l,u]=V.useState(!1),[h,f]=V.useState({email:"",phone:"",message:"",inviteMethod:"email"}),[p,g]=V.useState(!1);V.useEffect(()=>{t?.id&&b()},[t?.id]);const b=async()=>{if(t?.id)try{a(!0);const O=await yn.getUserInnermosts(t.id);n(O)}catch(O){console.error("Error loading innermosts:",O),we.error("Failed to load your relationships")}finally{a(!1)}},E=()=>t?mr.canCreateInnermost(t,e.length):!1,x=async()=>{if(t){if(h.inviteMethod==="email"){if(!h.email.trim()){we.error("Please enter a valid email address");return}if(h.email===t.email){we.error("You cannot pair with yourself");return}}else if(h.inviteMethod==="sms"&&(!h.phone?.trim()||!Wy.isValidPhoneNumber(h.phone))){we.error("Please enter a valid phone number");return}try{g(!0);const O=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),P={partnerA:t.id,partnerB:"",partnerAName:t.displayName||t.email,partnerBName:"",partnerAEmail:t.email,partnerBEmail:h.email.trim().toLowerCase(),currentWeek:0,status:"pending",pairingCode:O,inviteMessage:h.message?.trim()||void 0},q=await yn.createInnermost(P);h.inviteMethod==="email"?await vq({partnerEmail:h.email,senderName:t.displayName||t.email,senderEmail:t.email,inviteMessage:h.message,appUrl:`${window.location.origin}/pair?code=${O}`}):h.inviteMethod==="sms"&&h.phone&&await Wy.sendPairingInviteSMS({toPhone:Wy.formatPhoneNumber(h.phone),fromName:t.displayName||t.email,pairingCode:O,message:h.message}),n(Q=>[...Q,q]),f({email:"",phone:"",message:"",inviteMethod:"email"}),u(!1);const se=h.inviteMethod==="email"?h.email:h.phone;we.success(`Invitation sent to ${se}!`)}catch(O){console.error("Error creating innermost:",O),we.error("Failed to send invitation")}finally{g(!1)}}},D=O=>{switch(O){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},M=O=>{switch(O){case"active":return v.jsx(ws,{className:"w-4 h-4"});case"pending":return v.jsx(u_,{className:"w-4 h-4"});case"paused":return v.jsx(c_,{className:"w-4 h-4"});default:return v.jsx(ws,{className:"w-4 h-4"})}},k=O=>O.partnerA===t?.id?O.partnerBEmail:O.partnerAEmail;return s?v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"animate-pulse space-y-4",children:[v.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/3"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"h-20 bg-gray-300 rounded"}),v.jsx("div",{className:"h-20 bg-gray-300 rounded"})]})]})}):v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-2xl font-bold text-tree-900 flex items-center gap-2",children:[v.jsx(ws,{className:"w-6 h-6 text-primary-600"}),"My Growing Trees"]}),v.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:[e.length," of ",mr.getUserPlan(t).maxInnermosts," trees growing"]})]}),E()&&v.jsxs("button",{onClick:()=>u(!0),className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(ws,{className:"w-4 h-4"}),"Plant New Tree"]})]}),v.jsx(j_,{children:l&&v.jsx(An.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:()=>u(!1),children:v.jsxs(An.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 w-full max-w-md",onClick:O=>O.stopPropagation(),children:[v.jsx("h2",{className:"text-xl font-bold mb-4 text-tree-800",children:"Plant a Tree Together "}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex gap-2 p-1 bg-bark-100 rounded-lg",children:[v.jsxs("button",{type:"button",onClick:()=>f(O=>({...O,inviteMethod:"email"})),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors ${h.inviteMethod==="email"?"bg-white text-primary-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[v.jsx(np,{className:"w-4 h-4"}),"Email"]}),v.jsxs("button",{type:"button",onClick:()=>f(O=>({...O,inviteMethod:"sms"})),className:`flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors ${h.inviteMethod==="sms"?"bg-white text-primary-700 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[v.jsx(M9,{className:"w-4 h-4"}),"Text/SMS"]})]}),h.inviteMethod==="email"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-tree-700 mb-1",children:"Their Email Address"}),v.jsx("input",{type:"email",value:h.email,onChange:O=>f(P=>({...P,email:O.target.value})),placeholder:"partner@example.com",className:"w-full px-3 py-2 border-2 border-tree-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),h.inviteMethod==="sms"&&v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-tree-700 mb-1",children:"Their Phone Number"}),v.jsx("input",{type:"tel",value:h.phone,onChange:O=>f(P=>({...P,phone:O.target.value})),placeholder:"(555) 123-4567",className:"w-full px-3 py-2 border-2 border-tree-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-tree-700 mb-1",children:"Personal Message (Optional)"}),v.jsx("textarea",{value:h.message,onChange:O=>f(P=>({...P,message:O.target.value})),placeholder:"Let's grow our relationship together with The Willing Tree...",rows:3,className:"w-full px-3 py-2 border-2 border-tree-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),v.jsxs("div",{className:"flex gap-3 mt-6",children:[v.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 text-gray-700 border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:x,disabled:(h.inviteMethod==="email"?!h.email.trim():!h.phone?.trim())||p,className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:p?"Planting...":" Plant Tree Together"})]})]})})}),v.jsx("div",{className:"space-y-4",children:e.length===0?v.jsxs("div",{className:"text-center py-12 bg-bark-50 rounded-xl p-8",children:[v.jsx(ws,{className:"w-16 h-16 text-tree-300 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-tree-900 mb-2",children:"No Trees Growing Yet"}),v.jsx("p",{className:"text-tree-700 mb-6",children:"Start nurturing relationships by planting a tree with someone special."}),E()&&v.jsxs("button",{onClick:()=>u(!0),className:"bg-primary-600 hover:bg-primary-700 text-white px-6 py-3 rounded-lg inline-flex items-center gap-2 transition-colors",children:[v.jsx(ws,{className:"w-5 h-5"}),"Plant Your First Tree"]})]}):e.map(O=>v.jsx(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${D(O.status)}`,children:[M(O.status),O.status.charAt(0).toUpperCase()+O.status.slice(1)]}),v.jsxs("span",{className:"text-sm text-gray-500",children:["Created ",O.createdAt.toLocaleDateString()]})]}),v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx(h_,{className:"w-4 h-4 text-gray-400"}),v.jsx("span",{className:"text-gray-900 font-medium",children:k(O)})]}),O.inviteMessage&&v.jsxs("p",{className:"text-sm text-gray-600 italic ml-6",children:['"',O.inviteMessage,'"']})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[O.status==="active"&&v.jsx(Tn,{to:`/innermosts/${O.id}`,className:"bg-primary-600 hover:bg-primary-700 text-white px-3 py-1.5 rounded-md text-sm transition-colors",children:"View"}),O.status==="pending"&&v.jsx("span",{className:"text-sm text-yellow-600 font-medium",children:"Waiting for response"})]})]})},O.id))}),!E()&&e.length>=1&&v.jsx(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-green-200 rounded-lg p-4 mt-6",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(_o,{className:"w-6 h-6 text-primary-600"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-tree-900",children:"Want to Grow More Trees?"}),v.jsx("p",{className:"text-sm text-tree-700",children:"Upgrade to Premium to nurture up to 3 trees and unlock advanced features."})]}),v.jsx(Tn,{to:"/subscription",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Upgrade"})]})})]})},Yy=[{id:"communication",label:"Communication",icon:"",description:"How you want to connect and talk"},{id:"affection",label:"Affection & Romance",icon:"",description:"Physical and emotional intimacy"},{id:"time",label:"Quality Time",icon:"",description:"How you want to spend time together"},{id:"household",label:"Home & Lifestyle",icon:"",description:"Daily life and household matters"},{id:"personal",label:"Personal Support",icon:"",description:"Individual growth and support needs"}],Eq=()=>{const{innermostId:t}=r0(),e=xa(),{user:n}=Ot(),[s,a]=V.useState(null),[l,u]=V.useState([]),[h,f]=V.useState({text:"",category:"communication",isMostWanted:!1}),[p,g]=V.useState(1),[b,E]=V.useState(null),[x,D]=V.useState(!0),[M,k]=V.useState(!1),O=20,P=3,q=l.filter(I=>I.isMostWanted).length;V.useEffect(()=>{if(!t||!n){e("/innermosts");return}se()},[t,n]);const se=async()=>{if(!(!t||!n))try{D(!0);const C=(await yn.getUserInnermosts(n.id)).find(xe=>xe.id===t);if(!C){we.error("Innermost not found"),e("/innermosts");return}a(C);const ve=await yn.getWillingBox(t);ve&&u(ve.wants||[])}catch(I){console.error("Error loading data:",I),we.error("Failed to load wants")}finally{D(!1)}},Q=()=>{if(!h.text.trim()){we.error("Please enter what you want");return}if(l.length>=O){we.error(`Maximum ${O} wants allowed`);return}if(h.isMostWanted&&q>=P){we.error(`Maximum ${P} Most Wanted items allowed`);return}const I={id:Date.now().toString(),text:h.text.trim(),category:h.category,isMostWanted:h.isMostWanted,order:l.length,createdBy:n.id};u(C=>[...C,I]),f({text:"",category:b||"communication",isMostWanted:!1})},ce=I=>{u(C=>C.filter(ve=>ve.id!==I).map((ve,xe)=>({...ve,order:xe})))},j=I=>{const C=l.find(ve=>ve.id===I);if(C){if(!C.isMostWanted&&q>=P){we.error(`Maximum ${P} Most Wanted items allowed`);return}u(ve=>ve.map(xe=>xe.id===I?{...xe,isMostWanted:!xe.isMostWanted}:xe))}},A=async()=>{if(!(!t||!n)){if(l.length===0){we.error("Please add at least one want before continuing");return}try{k(!0);let I=await yn.getWillingBox(t);I?I.wants=l:I={id:t,innermostId:t,partnerA:s.partnerA,partnerB:s.partnerB,wants:l,partnerAWilling:[],partnerBWilling:[],isLocked:!1},await yn.saveWillingBox(I),we.success("Your wants have been saved!"),e(`/innermosts/${t}/willing`)}catch(I){console.error("Error saving wants:",I),we.error("Failed to save wants")}finally{k(!1)}}},N=I=>l.filter(C=>C.category===I);if(x)return v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"animate-pulse space-y-4",children:[v.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"}),v.jsx("div",{className:"h-32 bg-gray-300 rounded"})]})});if(p===1)return v.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>e("/innermosts"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[v.jsx(ma,{className:"w-4 h-4"}),"Back to Innermosts"]}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Wants List"}),v.jsxs("p",{className:"text-gray-600",children:["Choose categories that matter to you in this relationship. You can add up to ",O," wants total, with up to ",P,' marked as "Most Wanted" for extra scoring.']})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:Yy.map(I=>{const C=N(I.id),ve=b===I.id;return v.jsx(An.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-6 border-2 rounded-lg cursor-pointer transition-all ${ve?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>E(ve?null:I.id),children:v.jsxs("div",{className:"flex items-start gap-4",children:[v.jsx("div",{className:"text-3xl",children:I.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:I.label}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:I.description}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("span",{className:"text-sm text-gray-500",children:[C.length," wants added"]}),C.filter(xe=>xe.isMostWanted).length>0&&v.jsxs("div",{className:"flex items-center gap-1 text-yellow-600",children:[v.jsx(_o,{className:"w-4 h-4 fill-current"}),v.jsx("span",{className:"text-sm",children:C.filter(xe=>xe.isMostWanted).length})]})]})]})]})},I.id)})}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"text-sm text-gray-500",children:[l.length,"/",O," wants  ",q,"/",P," Most Wanted"]}),v.jsxs("div",{className:"flex gap-3",children:[b&&v.jsxs("button",{onClick:()=>g(2),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:["Add Wants to ",Yy.find(I=>I.id===b)?.label,v.jsx(u9,{className:"w-4 h-4"})]}),l.length>0&&v.jsxs("button",{onClick:A,disabled:M,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors disabled:bg-gray-400",children:[v.jsx(Rl,{className:"w-4 h-4"}),M?"Saving...":"Continue to Willing List"]})]})]})]});const L=Yy.find(I=>I.id===b),B=N(b);return v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>g(1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[v.jsx(ma,{className:"w-4 h-4"}),"Back to Categories"]}),v.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v.jsx("span",{className:"text-2xl",children:L.icon}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:L.label})]}),v.jsx("p",{className:"text-gray-600",children:L.description})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What do you want in this area?"}),v.jsx("textarea",{value:h.text,onChange:I=>f(C=>({...C,text:I.target.value,category:b})),placeholder:'Example: "I want us to have deeper conversations about our day"',rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:h.isMostWanted,onChange:I=>f(C=>({...C,isMostWanted:I.target.checked})),disabled:!h.isMostWanted&&q>=P,className:"w-4 h-4 text-yellow-600 rounded focus:ring-yellow-500"}),v.jsx(_o,{className:`w-4 h-4 ${h.isMostWanted?"text-yellow-600 fill-current":"text-gray-400"}`}),v.jsx("span",{className:"text-sm font-medium",children:"Most Wanted (2x points!)"})]}),v.jsxs("span",{className:"text-xs text-gray-500",children:[q,"/",P," used"]})]})]}),v.jsxs("div",{className:"flex justify-between items-center mt-4",children:[v.jsxs("span",{className:"text-sm text-gray-500",children:[l.length,"/",O," total wants"]}),v.jsxs("button",{onClick:Q,disabled:!h.text.trim()||l.length>=O,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(NI,{className:"w-4 h-4"}),"Add Want"]})]})]}),B.length>0&&v.jsxs("div",{className:"mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:["Your ",L.label," Wants (",B.length,")"]}),v.jsx("div",{className:"space-y-2",children:v.jsx(j_,{children:B.map(I=>v.jsxs(An.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex items-start gap-3",children:[v.jsx("button",{onClick:()=>j(I.id),className:"mt-0.5 flex-shrink-0",children:v.jsx(_o,{className:`w-4 h-4 ${I.isMostWanted?"text-yellow-600 fill-current":"text-gray-400 hover:text-yellow-400"}`})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("p",{className:"text-gray-900",children:I.text}),I.isMostWanted&&v.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 bg-yellow-100 text-yellow-800 text-xs rounded-full",children:"Most Wanted  2x Points"})]}),v.jsx("button",{onClick:()=>ce(I.id),className:"text-gray-400 hover:text-red-600 flex-shrink-0",children:v.jsx(DI,{className:"w-4 h-4"})})]},I.id))})})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("button",{onClick:()=>g(1),className:"text-gray-600 hover:text-gray-900 px-4 py-2 flex items-center gap-2",children:[v.jsx(ma,{className:"w-4 h-4"}),"Choose Another Category"]}),l.length>0&&v.jsxs("button",{onClick:A,disabled:M,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(Rl,{className:"w-4 h-4"}),M?"Saving...":"Continue to Willing List"]})]})]})},wq={communication:{label:"Communication",icon:""},affection:{label:"Affection & Romance",icon:""},time:{label:"Quality Time",icon:""},household:{label:"Home & Lifestyle",icon:""},personal:{label:"Personal Support",icon:""}},Tq=()=>{const{innermostId:t}=r0(),e=xa(),{user:n}=Ot(),[s,a]=V.useState(null),[l,u]=V.useState(null),[h,f]=V.useState([]),[p,g]=V.useState([]),[b,E]=V.useState(!0),[x,D]=V.useState(!1),[M,k]=V.useState(!0);V.useEffect(()=>{if(!t||!n){e("/innermosts");return}O()},[t,n]);const O=async()=>{if(!(!t||!n))try{E(!0);const N=(await yn.getUserInnermosts(n.id)).find(C=>C.id===t);if(!N){we.error("Innermost not found"),e("/innermosts");return}a(N);const L=await yn.getWillingBox(t);if(!L||!L.wants||L.wants.length===0){we.error("No wants found. Please create your wants list first."),e(`/innermosts/${t}/wants`);return}u(L),f(L.wants);const I=n.id===N.partnerA?L.partnerAWilling:L.partnerBWilling;I&&g(I.map(C=>C.wantId))}catch(A){console.error("Error loading data:",A),we.error("Failed to load willing selection")}finally{E(!1)}},P=A=>{g(N=>N.includes(A)?N.filter(L=>L!==A):[...N,A])},q=async()=>{if(!(!l||!n||!s)){if(p.length===0){we.error("Please select at least one item you're willing to work on");return}try{D(!0);const A=n.id===s.partnerA,N=p.map(B=>({wantId:B,effort:""})),L={...l,[A?"partnerAWilling":"partnerBWilling"]:N};await yn.saveWillingBox(L),we.success("Your willing selections have been saved!"),e(`/innermosts/${t}`)}catch(A){console.error("Error saving willing selections:",A),we.error("Failed to save willing selections")}finally{D(!1)}}},se=()=>{const A={};return h.forEach(N=>{A[N.category]||(A[N.category]=[]),A[N.category].push(N)}),A};if(b)return v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"animate-pulse space-y-4",children:[v.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"}),v.jsx("div",{className:"h-32 bg-gray-300 rounded"})]})});if(!h.length)return v.jsxs("div",{className:"p-4 text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Wants Found"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"You need to create your wants list first."}),v.jsx("button",{onClick:()=>e(`/innermosts/${t}/wants`),className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg",children:"Create Wants List"})]});const Q=se(),ce=p.length,j=h.length;return v.jsxs("div",{className:"p-4 max-w-4xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>e(`/innermosts/${t}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[v.jsx(ma,{className:"w-4 h-4"}),"Back to Innermost"]}),v.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[v.jsx(SS,{className:"w-8 h-8 text-red-500"}),"Select What You're Willing to Work On"]}),v.jsx("p",{className:"text-gray-600",children:"Choose which of your partner's wants you're willing to put effort into. Your selections are completely private - your partner will never see what you didn't choose."})]}),v.jsx(j_,{children:M&&v.jsx(An.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx(Dv,{className:"w-5 h-5 text-green-600 mt-0.5"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-green-900 font-semibold mb-1",children:"Privacy Protected"}),v.jsx("p",{className:"text-green-800 text-sm mb-3",children:"Your partner will only see what you choose to work on. Items you don't select remain completely hidden, preserving your autonomy and preventing any pressure or judgment."}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(fm,{className:"w-4 h-4 text-green-600"}),v.jsx("span",{className:"text-green-800 text-sm font-medium",children:"Unselected items = Invisible to partner"})]})]}),v.jsx("button",{onClick:()=>k(!1),className:"text-green-600 hover:text-green-800",children:v.jsx(Rl,{className:"w-5 h-5"})})]})})}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(SS,{className:"w-6 h-6 text-green-600"})}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[ce," of ",j," Selected"]}),v.jsx("p",{className:"text-sm text-gray-600",children:"Choose what feels authentic to work on right now"})]})]}),ce>0&&v.jsxs("button",{onClick:q,disabled:x,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[v.jsx(Rl,{className:"w-4 h-4"}),x?"Saving...":"Save Selections"]})]}),ce>0&&v.jsx("div",{className:"mt-4 w-full bg-gray-200 rounded-full h-2",children:v.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${ce/j*100}%`}})})]}),v.jsx("div",{className:"space-y-8",children:Object.entries(Q).map(([A,N])=>{const L=wq[A],B=N.filter(I=>p.includes(I.id)).length;return v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[v.jsx("span",{className:"text-2xl",children:L.icon}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:L.label}),v.jsxs("p",{className:"text-sm text-gray-600",children:[B," of ",N.length," selected"]})]})]}),v.jsx("div",{className:"grid grid-cols-1 gap-3",children:N.sort((I,C)=>I.isMostWanted&&!C.isMostWanted?-1:!I.isMostWanted&&C.isMostWanted?1:I.order-C.order).map(I=>{const C=p.includes(I.id);return v.jsx(An.div,{whileHover:{scale:1.01},whileTap:{scale:.99},className:`border-2 rounded-lg p-4 cursor-pointer transition-all ${C?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>P(I.id),children:v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center mt-0.5 ${C?"bg-green-600 border-green-600":"border-gray-300"}`,children:C&&v.jsx(Rl,{className:"w-3 h-3 text-white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"flex items-start gap-2 mb-1",children:I.isMostWanted&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(_o,{className:"w-4 h-4 text-yellow-600 fill-current"}),v.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full font-medium",children:"Most Wanted  2x Points"})]})}),v.jsx("p",{className:`text-gray-900 font-medium mb-1 ${I.isMostWanted?"text-base":"text-sm"}`,children:I.text}),C&&v.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[v.jsx(mm,{className:"w-4 h-4 text-green-600"}),v.jsx("span",{className:"text-sm text-green-700 font-medium",children:"Your partner will see your effort on this"})]})]})]})},I.id)})})]},A)})}),ce>0&&v.jsx("div",{className:"sticky bottom-4 mt-8",children:v.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-lg",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-semibold text-gray-900",children:[ce," items selected"]}),v.jsx("p",{className:"text-sm text-gray-600",children:"Ready to commit to working on these together?"})]}),v.jsxs("button",{onClick:q,disabled:x,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-8 py-3 rounded-lg flex items-center gap-2 transition-colors font-semibold",children:[v.jsx(Rl,{className:"w-5 h-5"}),x?"Saving...":"Save & Continue"]})]})})})]})};class Tm{static calculateGuessPoints(e,n,s){if(!e.guessedWantId||!n)return{guesserPoints:0,performerPoints:0};if(!(e.guessedWantId===n.wishId))return{guesserPoints:0,performerPoints:0};const u=s.find(g=>g.id===n.wishId)?.isMostWanted||!1,h=n.priority===1;let f=1,p=1;return u&&(f=3,p=3),h&&(p*=2),{guesserPoints:1*f,performerPoints:2*p}}static calculateWeeklyScore(e,n,s,a,l,u){const h=e?this.calculateGuessPoints(e,a,u):{guesserPoints:0,performerPoints:0},f=n?this.calculateGuessPoints(n,s,l):{guesserPoints:0,performerPoints:0};return{partnerAGuess:e?.guessedWantId||null,partnerBGuess:n?.guessedWantId||null,partnerAActualEffort:s,partnerBActualEffort:a,partnerAGuessingPoints:h.guesserPoints,partnerAPerformingPoints:f.performerPoints,partnerAScore:h.guesserPoints+f.performerPoints,partnerBGuessingPoints:f.guesserPoints,partnerBPerformingPoints:h.performerPoints,partnerBScore:f.guesserPoints+h.performerPoints}}static validateWishList(e){return e.length!==12?!1:e.filter(s=>s.isMostWanted).length===1}static validateWishlist=Tm.validateWishList;static validateMostWanted=Tm.validateWishList;static validateWillingList(e,n){if(e.length!==3)return!1;const s=Object.values(n).sort(),a=[1,2,3];return JSON.stringify(s)===JSON.stringify(a)}static calculateCumulativeScore(e){const n=e.reduce((s,a)=>({partnerAGuessing:s.partnerAGuessing+a.partnerAGuessingPoints,partnerAPerforming:s.partnerAPerforming+a.partnerAPerformingPoints,partnerBGuessing:s.partnerBGuessing+a.partnerBGuessingPoints,partnerBPerforming:s.partnerBPerforming+a.partnerBPerformingPoints}),{partnerAGuessing:0,partnerAPerforming:0,partnerBGuessing:0,partnerBPerforming:0});return{partnerATotal:n.partnerAGuessing+n.partnerAPerforming,partnerBTotal:n.partnerBGuessing+n.partnerBPerforming,breakdown:n}}}const xq=()=>{const{innermostId:t,weekNumber:e}=r0(),n=xa(),{user:s}=Ot(),[a,l]=V.useState(null),[u,h]=V.useState(null),[f,p]=V.useState({}),[g,b]=V.useState(null),[E,x]=V.useState(!0),[D,M]=V.useState(!1),[k,O]=V.useState(!1),P=e?parseInt(e):1;V.useEffect(()=>{if(!t||!s){n("/innermosts");return}q()},[t,s,e]);const q=async()=>{if(!(!t||!s))try{x(!0);const C=(await yn.getUserInnermosts(s.id)).find(te=>te.id===t);if(!C){we.error("Innermost not found"),n("/innermosts");return}l(C);const ve=await yn.getWillingBox(t);if(!ve){we.error("No willing box found"),n(`/innermosts/${t}`);return}h(ve);const Z=(await yn.getWeeklyScores(t)).find(te=>te.weekNumber===P);if(Z){b(Z),O(!0);const me=s.id===C.partnerA?Z.partnerAGuesses:Z.partnerBGuesses;if(me){const Ne={};me.forEach(F=>{Ne[F.wantId]=F.effort}),p(Ne)}}}catch(I){console.error("Error loading data:",I),we.error("Failed to load weekly game")}finally{x(!1)}},se=(I,C)=>{p(ve=>({...ve,[I]:C}))},Q=async()=>{if(!u||!s||!a)return;const I=ce();if(I.filter(ve=>!f[ve.wantId]||f[ve.wantId].trim()==="").length>0){we.error(`Please make guesses for all ${I.length} items`);return}try{M(!0);const ve=s.id===a.partnerA,xe=Object.entries(f).map(([te,me])=>({wantId:te,effort:me.trim()})),Z=g;if(Z){const te={...Z,[ve?"partnerAGuesses":"partnerBGuesses"]:xe};await yn.saveWeeklyScore(te),b(te)}else{const te={id:`${t}_week_${P}`,innermostId:t,weekNumber:P,partnerA:a.partnerA,partnerB:a.partnerB,partnerAGuesses:ve?xe:[],partnerBGuesses:ve?[]:xe,partnerAScore:0,partnerBScore:0,isComplete:!1};await yn.saveWeeklyScore(te),b(te)}we.success("Your guesses have been submitted!"),O(!0)}catch(ve){console.error("Error submitting guesses:",ve),we.error("Failed to submit guesses")}finally{M(!1)}},ce=()=>!u||!a||!s?[]:(s.id===a.partnerA?u.partnerBWilling:u.partnerAWilling)||[],j=I=>u?.wants?.find(C=>C.id===I),A=()=>!g||!u?null:Tm.calculateWeeklyScores(g,u.wants||[],u.partnerAWilling||[],u.partnerBWilling||[]);if(E)return v.jsx("div",{className:"p-4",children:v.jsxs("div",{className:"animate-pulse space-y-4",children:[v.jsx("div",{className:"h-8 bg-gray-300 rounded w-1/2"}),v.jsx("div",{className:"h-32 bg-gray-300 rounded"})]})});if(k&&g){const I=A(),C=s?.id===a?.partnerA,ve=C?I?.partnerAScore||0:I?.partnerBScore||0,xe=C?I?.partnerBScore||0:I?.partnerAScore||0;return v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>n(`/innermosts/${t}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[v.jsx(ma,{className:"w-4 h-4"}),"Back to Innermost"]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Week ",P," Results"]}),v.jsx("p",{className:"text-gray-600",children:"Here's how you both did this week!"})]})]}),v.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:v.jsxs("div",{className:"flex items-center justify-center gap-8",children:[v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2",children:v.jsx(Of,{className:"w-10 h-10 text-green-600"})}),v.jsx("p",{className:"text-sm text-gray-600",children:"Your Score"}),v.jsx("p",{className:"text-3xl font-bold text-green-600",children:ve})]}),v.jsx("div",{className:"text-center text-gray-400",children:v.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-gray-300 flex items-center justify-center mb-2",children:v.jsx("span",{className:"text-lg font-bold",children:"VS"})})}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mb-2",children:v.jsx(Of,{className:"w-10 h-10 text-green-600"})}),v.jsx("p",{className:"text-sm text-gray-600",children:"Partner Score"}),v.jsx("p",{className:"text-3xl font-bold text-green-600",children:xe})]})]})}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Guesses"}),ce().map(Z=>{const te=j(Z.wantId);if(!te)return null;const me=f[Z.wantId]||"",Ne=Z.effort||"";return v.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[v.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[te.isMostWanted&&v.jsx(_o,{className:"w-5 h-5 text-yellow-600 fill-current mt-0.5"}),v.jsx("p",{className:"font-medium text-gray-900 flex-1",children:te.text})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-600 font-medium",children:"Your Guess:"}),v.jsx("p",{className:"text-gray-900",children:me||"No guess"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-gray-600 font-medium",children:"Actual Effort:"}),v.jsx("p",{className:"text-gray-900",children:Ne||"Not completed"})]})]}),me===Ne&&v.jsxs("div",{className:"flex items-center gap-2 mt-2 text-green-600",children:[v.jsx(p9,{className:"w-4 h-4"}),v.jsxs("span",{className:"text-sm font-medium",children:["Perfect match! +",te.isMostWanted?2:1," point"]})]})]},Z.wantId)})]})]})}const N=ce(),L=N.length,B=Object.keys(f).filter(I=>f[I]?.trim()).length;return v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("button",{onClick:()=>n(`/innermosts/${t}`),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[v.jsx(ma,{className:"w-4 h-4"}),"Back to Innermost"]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[v.jsx(xS,{className:"w-6 h-6 text-green-600"}),v.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Week ",P," Guessing Game"]})]}),v.jsx("p",{className:"text-gray-600",children:"Guess how your partner put effort into the items they selected. Correct guesses earn you points!"})]})]}),v.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-green-900 font-semibold",children:"Scoring Rules"}),v.jsx("p",{className:"text-green-800 text-sm",children:"1 point for correct guesses  2 points for Most Wanted items"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-green-900 font-semibold",children:[B,"/",L]}),v.jsx("p",{className:"text-green-800 text-sm",children:"Guesses made"})]})]})}),N.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(xS,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Items to Guess"}),v.jsx("p",{className:"text-gray-600",children:"Your partner hasn't selected any willing items yet."})]}):v.jsx("div",{className:"space-y-4 mb-8",children:N.map((I,C)=>{const ve=j(I.wantId);return ve?v.jsxs(An.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.1},className:"bg-white border border-gray-200 rounded-lg p-4",children:[v.jsx("div",{className:"flex items-start gap-3 mb-4",children:ve.isMostWanted&&v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(_o,{className:"w-4 h-4 text-yellow-600 fill-current"}),v.jsx("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-0.5 rounded-full font-medium",children:"2x Points"})]})}),v.jsx("p",{className:"font-medium text-gray-900 mb-4",children:ve.text}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How do you think your partner put effort into this?"}),v.jsx("textarea",{value:f[I.wantId]||"",onChange:xe=>se(I.wantId,xe.target.value),placeholder:"Describe the specific effort you think they made...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]})]},I.wantId):null})}),N.length>0&&v.jsx("div",{className:"sticky bottom-4",children:v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-lg",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsxs("p",{className:"font-semibold text-gray-900",children:[B,"/",L," guesses complete"]}),v.jsx("p",{className:"text-sm text-gray-600",children:"Make your best guesses to earn points!"})]}),v.jsxs("button",{onClick:Q,disabled:B!==L||D,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg flex items-center gap-2 transition-colors font-semibold",children:[v.jsx(Of,{className:"w-5 h-5"}),D?"Submitting...":"Submit Guesses"]})]}),B>0&&v.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:v.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${B/L*100}%`}})})]})})]})},Sq=()=>{const{user:t,setUser:e,logout:n}=Ot(),[s,a]=V.useState(!1),[l,u]=V.useState(!1),[h,f]=V.useState(null),[p,g]=V.useState(!1),{register:b,handleSubmit:E,reset:x,formState:{errors:D,isDirty:M}}=lp({defaultValues:{displayName:t?.displayName||"",age:t?.age||18,gender:t?.gender||"other"}});V.useEffect(()=>{t&&(x({displayName:t.displayName,age:t.age,gender:t.gender}),k())},[t,x]);const k=async()=>{if(t)try{g(!0);const ce=await mr.getBillingInfo(t);f(ce)}catch(ce){console.error("Error loading billing info:",ce)}finally{g(!1)}},O=async ce=>{if(t)try{u(!0),await yn.updateUserProfile(t.id,{displayName:ce.displayName,age:ce.age,gender:ce.gender});const j={...t,displayName:ce.displayName,age:ce.age,gender:ce.gender};e(j),a(!1),we.success("Profile updated successfully!")}catch(j){console.error("Error updating profile:",j),we.error("Failed to update profile")}finally{u(!1)}},P=()=>{x({displayName:t?.displayName||"",age:t?.age||18,gender:t?.gender||"other"}),a(!1)},q=async()=>{try{await n(),we.success("Logged out successfully")}catch{we.error("Failed to log out")}};if(!t)return v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})})});const se=mr.getUserPlan(t),Q=mr.canAccessPremiumFeatures(t);return v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Profile"}),v.jsx("p",{className:"text-gray-600",children:"Manage your personal information and preferences"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("div",{className:"flex items-start justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:v.jsx(PI,{className:"w-8 h-8 text-green-600"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:t.displayName}),v.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[v.jsx(np,{className:"w-4 h-4"}),t.email]}),v.jsxs("p",{className:"text-sm text-gray-500",children:["Member since ",t.createdAt.toLocaleDateString()]})]})]}),!s&&v.jsxs("button",{onClick:()=>a(!0),className:"text-green-600 hover:text-green-700 flex items-center gap-2",children:[v.jsx(V9,{className:"w-4 h-4"}),"Edit"]})]}),v.jsxs("form",{onSubmit:E(O),className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),s?v.jsx("input",{...b("displayName",{required:"Name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}):v.jsx("p",{className:"py-2 text-gray-900",children:t.displayName}),D.displayName&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.displayName.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Age"}),s?v.jsx("input",{...b("age",{required:"Age is required",min:{value:18,message:"Must be 18 or older"},max:{value:120,message:"Please enter a valid age"},valueAsNumber:!0}),type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"}):v.jsxs("p",{className:"py-2 text-gray-900 flex items-center gap-2",children:[v.jsx(u_,{className:"w-4 h-4 text-gray-400"}),t.age," years old"]}),D.age&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.age.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender"}),s?v.jsxs("select",{...b("gender",{required:"Please select your gender"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",children:[v.jsx("option",{value:"male",children:"Male"}),v.jsx("option",{value:"female",children:"Female"}),v.jsx("option",{value:"other",children:"Other"})]}):v.jsxs("p",{className:"py-2 text-gray-900 flex items-center gap-2",children:[v.jsx(h_,{className:"w-4 h-4 text-gray-400"}),t.gender.charAt(0).toUpperCase()+t.gender.slice(1)]}),D.gender&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:D.gender.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),v.jsxs("p",{className:"py-2 text-gray-500 text-sm",children:[t.email,v.jsx("br",{}),v.jsx("span",{className:"text-xs",children:"Contact support to change email"})]})]})]}),s&&v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsxs("button",{type:"submit",disabled:!M||l,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[v.jsx(L9,{className:"w-4 h-4"}),l?"Saving...":"Save Changes"]}),v.jsxs("button",{type:"button",onClick:P,className:"text-gray-600 hover:text-gray-800 px-4 py-2 rounded-md flex items-center gap-2 transition-colors",children:[v.jsx(J9,{className:"w-4 h-4"}),"Cancel"]})]})]})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[Q?v.jsx(b9,{className:"w-6 h-6 text-yellow-600"}):v.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded-full"}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[se.name," Plan"]}),v.jsx("p",{className:"text-gray-600 text-sm",children:se.description})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:mr.formatPrice(se)}),Q&&t.subscriptionEndDate&&v.jsxs("p",{className:"text-sm text-gray-600",children:["Renews ",t.subscriptionEndDate.toLocaleDateString()]})]})]}),v.jsx("div",{className:"space-y-2 mb-4",children:se.features.map((ce,j)=>v.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[v.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),ce]},j))}),p?v.jsx("div",{className:"text-sm text-gray-600",children:"Loading billing info..."}):h&&v.jsxs("div",{className:"text-sm text-gray-600",children:["Status: ",h.status,h.currentPeriodEnd&&v.jsxs("span",{children:["  Next billing: ",h.currentPeriodEnd.toLocaleDateString()]})]}),v.jsx("div",{className:"flex gap-3 mt-4",children:!Q&&v.jsx(An.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>mr.redirectToCheckout(t,"premium"),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-md font-medium transition-all",children:"Upgrade to Premium"})})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Actions"}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("button",{onClick:q,className:"w-full text-left px-4 py-3 text-red-600 hover:bg-red-50 rounded-md transition-colors",children:"Sign Out"}),v.jsx("div",{className:"text-sm text-gray-500 px-4",children:"Need help? Contact us at support@willingbox.com"})]})]})]})},Aq=()=>{const{user:t}=Ot(),[e,n]=V.useState({emailNotifications:!0,pushNotifications:!0,weeklyReminders:!0,scoreNotifications:!0}),[s,a]=V.useState(!1),[l,u]=V.useState(!1),[h,f]=V.useState(null),[p,g]=V.useState(!1);V.useEffect(()=>{b(),t&&E()},[t]);const b=async()=>{const P=localStorage.getItem(`settings_${t?.id}`);if(P)try{n(JSON.parse(P))}catch(q){console.error("Error loading settings:",q)}},E=async()=>{if(t)try{g(!0);const P=await mr.getBillingInfo(t);f(P)}catch(P){console.error("Error loading billing info:",P)}finally{g(!1)}},x=async(P,q)=>{const se={...e,[P]:q};n(se);try{a(!0),localStorage.setItem(`settings_${t?.id}`,JSON.stringify(se)),await new Promise(Q=>setTimeout(Q,500))}catch(Q){console.error("Error saving setting:",Q),we.error("Failed to save setting"),n(e)}finally{a(!1)}},D=async()=>{if(t)try{we.success("Data export started. This may take a few minutes.");const P={user:{id:t.id,email:t.email,displayName:t.displayName,age:t.age,gender:t.gender,createdAt:t.createdAt,subscriptionStatus:t.subscriptionStatus},exportedAt:new Date().toISOString(),note:"This is a demo export. In production, this would include all your Innermost data, scores, and preferences."},q=new Blob([JSON.stringify(P,null,2)],{type:"application/json"}),se=URL.createObjectURL(q),Q=document.createElement("a");Q.href=se,Q.download=`willing-box-data-${t.id}-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(se),we.success("Data exported successfully!")}catch(P){console.error("Error exporting data:",P),we.error("Failed to export data")}},M=async()=>{if(t)try{await mr.cancelSubscription(t),we.success("Subscription cancelled successfully"),E()}catch(P){console.error("Error cancelling subscription:",P),we.error("Failed to cancel subscription")}},k=async()=>{t&&(we.error("Account deletion not implemented in demo. Contact support for assistance."),u(!1))};if(!t)return v.jsx("div",{className:"p-4",children:v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-600",children:"Please log in to access settings."})})});const O=mr.canAccessPremiumFeatures(t);return v.jsxs("div",{className:"p-4 max-w-2xl mx-auto",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2 flex items-center gap-2",children:[v.jsx(c_,{className:"w-8 h-8 text-green-600"}),"Settings"]}),v.jsx("p",{className:"text-gray-600",children:"Manage your preferences and account settings"})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[v.jsx(h9,{className:"w-5 h-5 text-green-600"}),"Notifications"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Email Notifications"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Receive updates and reminders via email"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.emailNotifications,onChange:P=>x("emailNotifications",P.target.checked),className:"sr-only",disabled:s}),v.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${e.emailNotifications?"bg-green-600":"bg-gray-300"}`,children:v.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${e.emailNotifications?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Push Notifications"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Get notified on your device"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.pushNotifications,onChange:P=>x("pushNotifications",P.target.checked),className:"sr-only",disabled:s}),v.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${e.pushNotifications?"bg-green-600":"bg-gray-300"}`,children:v.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${e.pushNotifications?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Weekly Reminders"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Reminders to complete your weekly activities"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.weeklyReminders,onChange:P=>x("weeklyReminders",P.target.checked),className:"sr-only",disabled:s}),v.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${e.weeklyReminders?"bg-green-600":"bg-gray-300"}`,children:v.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${e.weeklyReminders?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Score Notifications"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Get notified when scores are updated"})]}),v.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:e.scoreNotifications,onChange:P=>x("scoreNotifications",P.target.checked),className:"sr-only",disabled:s}),v.jsx("div",{className:`w-11 h-6 rounded-full transition-colors ${e.scoreNotifications?"bg-green-600":"bg-gray-300"}`,children:v.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-transform ${e.scoreNotifications?"translate-x-5":"translate-x-0"} mt-0.5 ml-0.5`})})]})]})]})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[v.jsx(F9,{className:"w-5 h-5 text-green-600"}),"Privacy & Security"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"End-to-End Privacy"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Your willing selections are never shared with your partner"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Secure Data Storage"}),v.jsx("p",{className:"text-sm text-gray-600",children:"All data is encrypted and stored securely in the cloud"})]})]}),v.jsxs("div",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mt-2"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"No Data Selling"}),v.jsx("p",{className:"text-sm text-gray-600",children:"We never sell or share your personal data with third parties"})]})]})]})]}),v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[v.jsx(q9,{className:"w-5 h-5 text-purple-600"}),"App Settings"]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("button",{onClick:D,className:"w-full flex items-center gap-3 p-3 text-left hover:bg-gray-50 rounded-lg transition-colors",children:[v.jsx(w9,{className:"w-5 h-5 text-green-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium text-gray-900",children:"Export My Data"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Download all your data in JSON format"})]})]}),v.jsx("div",{className:"border-t border-gray-200 my-4"}),v.jsxs("div",{className:"text-sm text-gray-500",children:[v.jsx("p",{children:"App Version: 1.0.0"}),v.jsxs("p",{children:["Last Updated: ",new Date().toLocaleDateString()]})]})]})]}),O&&v.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 mb-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[v.jsx(v9,{className:"w-5 h-5 text-green-600"}),"Subscription Management"]}),p?v.jsx("div",{className:"text-gray-600",children:"Loading billing information..."}):v.jsxs("div",{className:"space-y-4",children:[h&&v.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[v.jsx("p",{className:"font-medium text-green-900",children:"Premium Active"}),v.jsxs("p",{className:"text-sm text-green-700",children:["Status: ",h.status,h.currentPeriodEnd&&v.jsxs(v.Fragment,{children:["  Next billing: ",h.currentPeriodEnd.toLocaleDateString()]})]})]}),v.jsx("button",{onClick:M,className:"text-red-600 hover:text-red-700 text-sm underline",children:"Cancel Subscription"})]})]}),v.jsxs("div",{className:"bg-white border border-red-200 rounded-lg p-6",children:[v.jsxs("h3",{className:"text-lg font-semibold text-red-900 mb-4 flex items-center gap-2",children:[v.jsx(W9,{className:"w-5 h-5 text-red-600"}),"Danger Zone"]}),v.jsx("div",{className:"space-y-4",children:v.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[v.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"Delete Account"}),v.jsx("p",{className:"text-sm text-red-700 mb-3",children:"Permanently delete your account and all associated data. This action cannot be undone."}),l?v.jsxs("div",{className:"space-y-3",children:[v.jsx("p",{className:"text-sm font-medium text-red-900",children:"Are you absolutely sure? This will permanently delete everything."}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx("button",{onClick:k,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm transition-colors",children:"Yes, Delete Everything"}),v.jsx("button",{onClick:()=>u(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-md text-sm transition-colors",children:"Cancel"})]})]}):v.jsxs("button",{onClick:()=>u(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm flex items-center gap-2 transition-colors",children:[v.jsx(DI,{className:"w-4 h-4"}),"Delete Account"]})]})})]}),v.jsx("div",{className:"mt-8 text-center text-sm text-gray-500",children:v.jsx("p",{children:"Questions? Contact us at support@willingbox.com"})})]})},Rq=new WM({defaultOptions:{queries:{staleTime:300*1e3,gcTime:600*1e3}}}),lo=({children:t})=>{const{user:e,isInitialized:n,error:s}=Ot();return console.log("[AuthGuard] Render - isInitialized:",n,"user:",e?.email,"error:",s),n?(s&&console.error("[AuthGuard] Auth error:",s),e?(console.log("[AuthGuard] User authenticated, rendering children"),v.jsx(v.Fragment,{children:t})):(console.log("[AuthGuard] No user, redirecting to login"),v.jsx(oA,{to:"/auth/login",replace:!0}))):v.jsx("div",{className:"flex items-center justify-center min-h-screen",children:v.jsx("div",{className:"animate-pulse text-gray-600",children:"Loading..."})})},uo=({children:t})=>v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Pz,{}),v.jsx("main",{className:"safe-area-top",children:t})]});function Cq(){console.log("[App] Component rendering"),V.useEffect(()=>{console.log("[App] useEffect - calling initializeAuth()"),t9()},[]),console.log("[App] Rendering QueryClientProvider and Router");const t="/willing-tree";return console.log("[App] Router basename:",t,"Mode:","production"),v.jsx(QM,{client:Rq,children:v.jsx(gM,{basename:t,children:v.jsxs("div",{className:"App",children:[v.jsxs(KP,{children:[v.jsx(bs,{path:"/auth/login",element:v.jsx(nq,{})}),v.jsx(bs,{path:"/auth/signup",element:v.jsx(sq,{})}),v.jsx(bs,{path:"/auth/forgot-password",element:v.jsx(rq,{})}),v.jsx(bs,{path:"/",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(Mz,{})})})}),v.jsx(bs,{path:"/innermosts",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(bq,{})})})}),v.jsx(bs,{path:"/innermosts/:innermostId/wants",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(Eq,{})})})}),v.jsx(bs,{path:"/innermosts/:innermostId/willing",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(Tq,{})})})}),v.jsx(bs,{path:"/innermosts/:innermostId/guess/:weekNumber?",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(xq,{})})})}),v.jsx(bs,{path:"/profile",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(Sq,{})})})}),v.jsx(bs,{path:"/settings",element:v.jsx(lo,{children:v.jsx(uo,{children:v.jsx(Aq,{})})})}),v.jsx(bs,{path:"*",element:v.jsx(oA,{to:"/",replace:!0})})]}),v.jsx(LO,{position:"top-center",toastOptions:{duration:3e3,style:{background:"#363636",color:"#fff"}}})]})})})}class Iq extends V.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?v.jsxs("div",{style:{padding:"20px",backgroundColor:"#fee",border:"1px solid #fcc",margin:"20px"},children:[v.jsx("h2",{style:{color:"#c00"},children:"Something went wrong!"}),v.jsxs("details",{style:{whiteSpace:"pre-wrap",marginTop:"10px"},children:[v.jsx("summary",{children:"Error Details (click to expand)"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Error:"})," ",this.state.error?.toString()]}),v.jsx("p",{children:v.jsx("strong",{children:"Stack:"})}),v.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:this.state.error?.stack}),this.state.errorInfo&&v.jsxs(v.Fragment,{children:[v.jsx("p",{children:v.jsx("strong",{children:"Component Stack:"})}),v.jsx("pre",{style:{fontSize:"12px",overflow:"auto"},children:this.state.errorInfo.componentStack})]})]})]}):this.props.children}}const X1=document.getElementById("root");X1?sP.createRoot(X1).render(v.jsx(V.StrictMode,{children:v.jsx(Iq,{children:v.jsx(Cq,{})})})):(console.error("Root element not found!"),document.body.innerHTML='<h1 style="color:red">Root element not found!</h1>');
